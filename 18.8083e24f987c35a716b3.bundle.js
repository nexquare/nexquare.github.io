(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1410:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ConfigurationService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_api_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(217);let ConfigurationService=class ConfigurationService{constructor(apiService){this.apiService=apiService,this.config_sub_url="controller/api/config"}getHomePageInfo(){return this.apiService.get(""+this.config_sub_url)}getOrganisationDetails(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}`)}updateOrganisationDetails(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}`,data)}updateSquareLogoOfTenant(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/squareIcon/upload`,data)}deleteSquareLogoOfTenant(tenantId,data){return this.apiService.delete(`${this.config_sub_url}/${tenantId}/squareIcon/remove`,data)}updateLogoOfTenant(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/logo/upload`,data)}deleteLogoOfTenant(tenantId,data){return this.apiService.delete(`${this.config_sub_url}/${tenantId}/logo/remove`,data)}getTenantSubscription(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/subscription`)}getTenantEntities(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/entities`)}updateTenantEntities(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/entities`,data)}getTenantEntitiesNames(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/all-entity`)}getTenantEntityCode(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/entity-code`)}updateLogoOfTenantEntity(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/entity/upload-logo`,data)}deleteLogoOfTenantEntity(tenantId,data){return this.apiService.delete(`${this.config_sub_url}/${tenantId}/entity/remove-logo`,data)}getTenantRoles(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/roles`)}getRolesForBytes(type){return this.apiService.get(this.config_sub_url+"/roles",{type:type})}getTenantRoleDetails(tenantId,roleId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/role/${roleId}`)}updateTenantRoleActive(tenantId,roleId,active){return this.apiService.put(`${this.config_sub_url}/${tenantId}/role/${roleId}/active?active=${active}`)}updateTenantRoleSelfSignIn(tenantId,roleId,selfsignin){return this.apiService.put(`${this.config_sub_url}/${tenantId}/role/${roleId}/selfsignin?selfsignin=${selfsignin}`)}getTenantRoleTypes(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/role-type`)}createTenantRoleWithPrivileges(tenantId,data){return this.apiService.post(`${this.config_sub_url}/${tenantId}/role`,data)}updateTenantRoleWithPrivileges(tenantTypeId,roleId,data){return this.apiService.put(`${this.config_sub_url}/${tenantTypeId}/role/${roleId}`,data)}getTenantPrivileges(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/privileges`)}getTenantPrivilegesForType(tenantId,typeId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/privileges/type/${typeId}`)}getPrivilegesForRoleTemplate(tenantId,templateId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/role-template/${templateId}/privileges`)}getMoodleUrlForRoles(){return this.apiService.get(this.config_sub_url+"/roles/moodle-url",null,!0,null,!0,"text")}getAllTenantUsers(){return this.apiService.get(this.config_sub_url+"/users")}getTenantUsers(tenantId,data){return this.apiService.get(`${this.config_sub_url}/${tenantId}/users`,data)}getTenantUserDetails(tenantId,userId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/user/${userId}`)}createTenantUser(tenantId,data){return this.apiService.post(`${this.config_sub_url}/${tenantId}/user`,data)}updateTenantUser(tenantId,userId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/user/${userId}`,data)}bulkUpdateTenantUserStatusToActive(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/users/active`,data)}bulkUpdateTenantUserStatusToInActive(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/users/inactive`,data)}bulkUpdateTenantUserStatusToArchive(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/users/archive`,data)}bulkUpdateTenantUserStatusToClose(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/users/close`,data)}getUserRoleOptions(){return this.apiService.get(this.config_sub_url+"/user-roles")}getTenantIntegrations(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/integration`)}updateTenantIntegrations(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/integration`,data)}getTenantPolicy(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/policy`)}updateTenantPolicy(tenantId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/policy`,data)}getTenantPanels(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/panels`)}getTenantPanelDetails(tenantId,panelId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/panel/${panelId}`)}createTenantPanel(tenantId,data){return this.apiService.post(`${this.config_sub_url}/${tenantId}/panels`,data)}updateTenantPanel(tenantId,panelId,data){return this.apiService.put(`${this.config_sub_url}/${tenantId}/panel/${panelId}`,data)}moveTenantPanelDown(tenantId,panelId){return this.apiService.put(`${this.config_sub_url}/${tenantId}/panel/${panelId}/down`)}moveTenantPanelUp(tenantId,panelId){return this.apiService.put(`${this.config_sub_url}/${tenantId}/panel/${panelId}/up`)}updateTenantPanelActive(tenantId,roleId,active){return this.apiService.put(`${this.config_sub_url}/${tenantId}/role/${roleId}/active?active=${active}`)}};ConfigurationService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.f)("design:paramtypes",["function"==typeof(_a=void 0!==_api_service__WEBPACK_IMPORTED_MODULE_2__.a&&_api_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],ConfigurationService)},1488:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-manage-header [headerSettings]="headerSettings">\n  <div class="configuration">\n    <div class="content">\n      <nxq-collapse *ngIf="!!learningData.length" [background]="false" [active]="true">\n        <div slot="header">\n          <h3>{{ \'MANAGE_LEARNING\' | translate }}</h3>\n        </div>\n        <div slot="content">\n          <div class="content__right">\n            <nxq-category-card\n              *ngFor="let datum of learningData"\n              [id]="datum.id"\n              [title]="datum.title"\n              [icon]="datum.icon"\n              (clicked)="onClickLearning($event)"\n              class="category-card"\n            >\n            </nxq-category-card>\n          </div>\n        </div>\n      </nxq-collapse>\n      <nxq-collapse [background]="false" [active]="true" *ngIf="loaded && !!configurationData.length">\n        <div slot="header">\n          <h3>{{ \'MANAGE_CONFIGURATIONS\' | translate }}</h3>\n        </div>\n        <div slot="content">\n          <div class="content__right">\n            <nxq-category-card\n              *ngFor="let datum of configurationData"\n              [id]="datum.id"\n              [title]="datum.title"\n              [icon]="datum.icon"\n              (clicked)="onClickConfiguration($event)"\n              class="category-card"\n            >\n            </nxq-category-card>\n          </div>\n        </div>\n      </nxq-collapse>\n    </div>\n  </div>\n</nxq-manage-header>\n'},1489:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.configuration {\n  padding: 0 30px;\n}\n.configuration .header {\n  padding: 12px 0 40px 0;\n}\n.configuration .content {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n:host-context(.xs) .configuration .content, .xs .configuration .content {\n  display: flex;\n  flex-direction: column;\n}\n.configuration .content .content__right {\n  flex-wrap: wrap;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n}\n.configuration .content .content__right > * {\n  margin-right: 30px;\n}\n.configuration .content .content__right > *:last-child {\n  margin-right: 0;\n}\n:host-context(.xs) .configuration .content .content__right, .xs .configuration .content .content__right {\n  margin-bottom: 60px;\n}\n.configuration .content .content__right .category-card {\n  margin-bottom: 30px;\n}\n:host-context(.xs) .configuration .content .content__right .category-card, .xs .configuration .content .content__right .category-card {\n  width: 100%;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n}\n.nxq-header .container h2 {\n  padding: 0;\n}\n.each-set_highlight {\n  color: #181921;\n}"},1490:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-manage-header [headerSettings]="headerSettings">\n  <nxq-export-pathways></nxq-export-pathways>\n</nxq-manage-header>\n'},1491:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},1492:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-manage-header [headerSettings]="headerSettings">\n  <nxq-import-pathways></nxq-import-pathways>\n</nxq-manage-header>\n'},1493:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},1494:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="nxq-cp-ctr">\n  <div>\n    <nxq-collapse *ngIf="!!existingOrganization" [active]="true">\n      <div slot="header">\n        <h3>{{ \'EXISTING_ORGANISATIONS\' | translate | uppercase }}</h3>\n      </div>\n      <div slot="content" class="nxq-cp-ctr-content">\n        <nxq-input-master [control]="existingSearchControl" [placeholder]="\'SEARCH\' | translate" suffixIcon="search"></nxq-input-master>\n        <div class="nxq-cp-ctr-card" *ngFor="let organization of existingOrganisationData">\n          <nxq-checkbox [control]="existingOrganizationForm.controls[organization.exportId]"></nxq-checkbox>\n          <h3>{{ organization.displayName }}</h3>\n        </div>\n        <nxq-button\n          *ngIf="editAllowed"\n          [type]="buttonType.PRIMARY"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'DEALLOCATE_MESSAGE\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="deAllocateOrganization()"\n          >{{ \'DEALLOCATE\' | translate }}\n        </nxq-button>\n      </div>\n    </nxq-collapse>\n    <nxq-collapse *ngIf="!!newOrganization" [active]="true">\n      <div slot="header">\n        <h3>{{ \'NEW_ORGANISATIONS\' | translate | uppercase }}</h3>\n      </div>\n      <div slot="content" class="nxq-cp-ctr-content">\n        <nxq-input-master\n          [control]="newOrgSearchControl"\n          [placeholder]="\'SEARCH\' | translate | lowercase"\n          suffixIcon="search"\n        ></nxq-input-master>\n        <div class="nxq-cp-ctr-card" *ngFor="let organization of newOrganisationData">\n          <nxq-checkbox [control]="newOrganizationForm.controls[organization.tenantId]"></nxq-checkbox>\n          <h3>{{ organization.displayName }}</h3>\n        </div>\n        <nxq-button\n          *ngIf="editAllowed"\n          [type]="buttonType.PRIMARY"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'DEALLOCATE_MESSAGE\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="allocateOrganization()"\n        >\n          {{ \'ALLOCATE\' | translate }}</nxq-button\n        >\n      </div>\n    </nxq-collapse>\n  </div>\n</div>\n'},1495:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n:host {\n  width: 100%;\n}\n.nxq-cp-ctr {\n  padding: 20px 20px 0 20px;\n}\n.nxq-cp-ctr-buttons {\n  justify-self: flex-end;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-buttons > * {\n  margin-right: 30px;\n}\n.nxq-cp-ctr-buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-content > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-content nxq-input-master {\n  width: 100%;\n}\n.nxq-cp-ctr-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-card {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n}\n.nxq-cp-ctr-card > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-card > *:last-child {\n  margin-right: 0;\n}"},1496:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="nxq-cp-ctr">\n  <div>\n    <nxq-collapse *ngIf="!!existingLearningContent" [active]="true">\n      <div slot="header">\n        <h3>{{ \'EXISTING_CONTENT\' | translate | uppercase }}</h3>\n      </div>\n      <div slot="content" class="nxq-cp-ctr-content">\n        <nxq-input-master\n          [control]="existingSearchControl"\n          [placeholder]="\'SEARCH\' | translate | lowercase"\n          suffixIcon="search"\n        ></nxq-input-master>\n        <div class="nxq-cp-ctr-filter">\n          \x3c!--          <nxq-list-filters [control]="filterControl" [options]="filterOptions"></nxq-list-filters>--\x3e\n          \x3c!--          <nxq-list-filters [control]="sortByControl" [label]="sortByLabel" [options]="sortByOptions"></nxq-list-filters>--\x3e\n        </div>\n        <div class="nxq-cp-ctr-card" *ngFor="let content of existingLearningContentData">\n          <nxq-checkbox [control]="existingLearningContentForm.controls[content.importId]"></nxq-checkbox>\n          <nxq-legacy-catalog-card [catalogCard]="content"></nxq-legacy-catalog-card>\n        </div>\n        <nxq-button\n          *ngIf="editAllowed"\n          [type]="buttonType.SECONDARY"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'DEALLOCATE_MESSAGE\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="deAllocateLearningContent()"\n          >{{ \'DEALLOCATE\' | translate }}\n        </nxq-button>\n      </div>\n    </nxq-collapse>\n    <nxq-collapse *ngIf="!!newLearningContent" [active]="true">\n      <div slot="header">\n        <h3>{{ \'NEW_CONTENT\' | translate | uppercase }}</h3>\n      </div>\n      <div slot="content" class="nxq-cp-ctr-content">\n        <nxq-input-master\n          [control]="newSearchControl"\n          [placeholder]="\'SEARCH\' | translate | lowercase"\n          suffixIcon="search"\n        ></nxq-input-master>\n\n        <div class="nxq-cp-ctr-filter">\n          \x3c!--          <nxq-list-filters [control]="filterControl" [options]="filterOptions"></nxq-list-filters>--\x3e\n          \x3c!--          <nxq-list-filters [control]="sortByControl" [label]="sortByLabel" [options]="sortByOptions"></nxq-list-filters>--\x3e\n        </div>\n        <div class="nxq-cp-ctr-card" *ngFor="let content of newLearningContentData">\n          <nxq-checkbox [control]="newLearningContentForm.controls[content.id]"></nxq-checkbox>\n          <nxq-legacy-catalog-card [catalogCard]="content"></nxq-legacy-catalog-card>\n        </div>\n        \x3c!--        <nxq-button [type]="buttonType.PRIMARY" (click)="allocateLearningContent()">Allocate</nxq-button>--\x3e\n\n        <nxq-button\n          *ngIf="editAllowed"\n          type="primary"\n          nz-popconfirm\n          nzPopconfirmPlacement="bottomLeft"\n          [nzPopconfirmTitle]="\'DEALLOCATE_MESSAGE\' | translate"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="allocateLearningContent()"\n        >\n          {{ \'ALLOCATE\' | translate }}\n        </nxq-button>\n      </div>\n    </nxq-collapse>\n  </div>\n</div>\n'},1497:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n:host {\n  width: 100%;\n}\n.nxq-cp-ctr {\n  padding: 20px 20px 0 20px;\n}\n.nxq-cp-ctr-buttons {\n  justify-self: flex-end;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-buttons > * {\n  margin-right: 30px;\n}\n.nxq-cp-ctr-buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-content {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-content > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-content nxq-input-master {\n  width: 100%;\n}\n.nxq-cp-ctr-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-card {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n}\n.nxq-cp-ctr-card > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-card > *:last-child {\n  margin-right: 0;\n}"},1713:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SettingsModule",(function(){return SettingsModule}));var _a,_b,_c,_d,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),common=__webpack_require__(6),shared_module=__webpack_require__(587),fesm5_router=__webpack_require__(35),public_api=__webpack_require__(12),configuration_service=__webpack_require__(1410),translate_pipe=__webpack_require__(215),utils=__webpack_require__(586),privilege_enum=__webpack_require__(47),privilege_utils=__webpack_require__(87);let settings_component_SettingsComponent=class SettingsComponent{constructor(router,route,configurationService,translatePipe){this.router=router,this.route=route,this.configurationService=configurationService,this.translatePipe=translatePipe,this.headerSettings={pageTitle:this.translatePipe.transform("SETTINGS"),tagLine:this.translatePipe.transform("SUB_TITLE_SETTINGS")},this.breadcrumbs=[{url:"settings",label:"settings"}],this.headerType=public_api.g.PAGE,this.configurationData=[{id:1,title:utils.a.toTitleCase(this.translatePipe.transform("ORGANISATION_DETAILS")),icon:"global",path:"dashboard/settings/configuration-management/organisation-details",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ORGANISATION_DETAILS]},{id:2,title:utils.a.toTitleCase(this.translatePipe.transform("SUBSCRIPTIONS_DETAILS")),icon:"user",path:"dashboard/settings/configuration-management/subscription",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ACCOUNT_DETAILS]},{id:3,title:utils.a.toTitleCase(this.translatePipe.transform("ENTITIES_SUB_ACCOUNTS")),icon:"global",path:"dashboard/settings/configuration-management/entities",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ENTITIES]},{id:4,title:utils.a.toTitleCase(this.translatePipe.transform("ROLES")),icon:"user",path:"dashboard/settings/configuration-management/roles",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ROLES]},{id:5,title:utils.a.toTitleCase(this.translatePipe.transform("USERS")),icon:"user",path:"dashboard/settings/configuration-management/users",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.USERS]},{id:6,title:utils.a.toTitleCase(this.translatePipe.transform("POLICIES")),icon:"user",path:"dashboard/settings/configuration-management/policies",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.POLICIES]},{id:7,title:utils.a.toTitleCase(this.translatePipe.transform("INTEGRATIONS")),icon:"global",path:"dashboard/settings/configuration-management/integrations",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.INTEGRATIONS]},{id:8,title:utils.a.toTitleCase(this.translatePipe.transform("NOTIFICATIONS")),icon:"user",path:"dashboard/settings/configuration-management/notifications",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.NOTIFICATIONS]},{id:9,title:utils.a.toTitleCase(this.translatePipe.transform("ANALYTICS")),icon:"global",path:"dashboard/settings/configuration-management/analytics",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ANALYTICS]}].filter(s=>privilege_utils.a.hasViewPrivileges(s.keys)),this.learningData=[{id:1,title:utils.a.toTitleCase(this.translatePipe.transform("CONTENT_ACTIVITY_CREATION")),icon:"global",path:"dashboard/settings/manage-bytes-inhouse",keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.CREATE_CONTENT_AND_ACTIVITY]},{id:2,title:utils.a.toTitleCase(this.translatePipe.transform("OTHER_CONTENT_SETTINGS")),icon:"global",path:"dashboard/settings/other-content-settings",keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.LMS_SETTINGS]},{id:3,title:utils.a.toTitleCase(this.translatePipe.transform("COMPETENCIES")),icon:"global",path:"dashboard/settings/manage-competencies",keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.COMPETENCIES]},{id:4,title:utils.a.toTitleCase(this.translatePipe.transform("EXPORT_CONTENT")),icon:"nxq:pathways",path:"dashboard/settings/export",keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.EXPORT]},{id:5,title:utils.a.toTitleCase(this.translatePipe.transform("IMPORT_CONTENT")),icon:"nxq:pathways",path:"dashboard/settings/import",keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.IMPORT]},{id:6,title:utils.a.toTitleCase(this.translatePipe.transform("CHANNELS")),icon:"nxq:connect",path:"dashboard/settings/manage-channels",keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.CHANNELS]}].filter(s=>privilege_utils.a.hasViewPrivileges(s.keys))}ngOnInit(){this.configurationService.getHomePageInfo().subscribe(res=>{this.loaded=!0,this.tenantId=res.id,console.log(res)})}onClickConfiguration(event){const configuration=this.configurationData.filter(v=>v.id===event)[0],route=configuration.path,title=configuration.title;this.router.navigate([route],{state:{title:title,tenantId:this.tenantId}})}onClickLearning(event){const route=this.learningData.filter(v=>v.id===event)[0].path;this.router.navigate([route])}};var export_component_a;settings_component_SettingsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-settings",template:(__webpack_require__(1488).default||__webpack_require__(1488)).length?__webpack_require__(1488).default||__webpack_require__(1488):"",styles:[(__webpack_require__(1489).default||__webpack_require__(1489)).length?__webpack_require__(1489).default||__webpack_require__(1489):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_a=void 0!==fesm5_router.i&&fesm5_router.i)?_a:Object,"function"==typeof(_b=void 0!==fesm5_router.a&&fesm5_router.a)?_b:Object,"function"==typeof(_c=void 0!==configuration_service.a&&configuration_service.a)?_c:Object,"function"==typeof(_d=void 0!==translate_pipe.a&&translate_pipe.a)?_d:Object])],settings_component_SettingsComponent);let export_component_ExportComponent=class ExportComponent{constructor(translatePipe){this.translatePipe=translatePipe,this.showPopUp=!1,this.buttonType=public_api.c,this.showDetails=!1,this.pageTitle=this.translatePipe.transform("EXPORT_CONTENT"),this.headerType=public_api.g,this.parentBreadCrumbs=[{url:"settings",label:this.translatePipe.transform("SETTINGS").toLowerCase()},{url:"export",label:this.translatePipe.transform("EXPORT").toLowerCase()}],this.breadcrumbs=[...this.parentBreadCrumbs],this.headerSettings={pageTitle:this.translatePipe.transform("EXPORT_CONTENT"),tagLine:this.translatePipe.transform("YOU_CAN_EXPORT_YOUR_PUBLIC_CONTENT")}}ngOnInit(){}};var import_component_a;export_component_ExportComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-export",template:(__webpack_require__(1490).default||__webpack_require__(1490)).length?__webpack_require__(1490).default||__webpack_require__(1490):"",styles:[(__webpack_require__(1491).default||__webpack_require__(1491)).length?__webpack_require__(1491).default||__webpack_require__(1491):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(export_component_a=void 0!==translate_pipe.a&&translate_pipe.a)?export_component_a:Object])],export_component_ExportComponent);let import_component_ImportComponent=class ImportComponent{constructor(translatePipe){this.translatePipe=translatePipe,this.showPopUp=!1,this.buttonType=public_api.c,this.showDetails=!1,this.pageTitle=this.translatePipe.transform("IMPORT_CONTENT"),this.headerType=public_api.g,this.parentBreadCrumbs=[{url:"settings",label:this.translatePipe.transform("SETTINGS").toLowerCase()},{url:"import",label:this.translatePipe.transform("IMPORT").toLowerCase()}],this.breadcrumbs=[...this.parentBreadCrumbs],this.headerSettings={pageTitle:this.translatePipe.transform("IMPORT_CONTENT"),tagLine:this.translatePipe.transform("YOU_CAN_YOUR_IMPORT_CONTENT")}}ngOnInit(){}};import_component_ImportComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-import",template:(__webpack_require__(1492).default||__webpack_require__(1492)).length?__webpack_require__(1492).default||__webpack_require__(1492):"",styles:[(__webpack_require__(1493).default||__webpack_require__(1493)).length?__webpack_require__(1493).default||__webpack_require__(1493):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(import_component_a=void 0!==translate_pipe.a&&translate_pipe.a)?import_component_a:Object])],import_component_ImportComponent);var permission_guard=__webpack_require__(135);const configurationRoutes=[{path:"",component:settings_component_SettingsComponent},{path:"configuration-management",loadChildren:()=>Promise.all([__webpack_require__.e(6),__webpack_require__.e(12)]).then(__webpack_require__.bind(null,1706)).then(m=>m.ConfigurationManagementModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION]}},{path:"manage-bytes-inhouse",loadChildren:()=>Promise.all([__webpack_require__.e(2),__webpack_require__.e(6),__webpack_require__.e(10)]).then(__webpack_require__.bind(null,1704)).then(m=>m.ManageBytesInhouseModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.CREATE_CONTENT_AND_ACTIVITY]}},{path:"manage-competencies",loadChildren:()=>__webpack_require__.e(19).then(__webpack_require__.bind(null,1712)).then(m=>m.ManageCompetenciesModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.COMPETENCIES]}},{path:"manage-channels",loadChildren:()=>__webpack_require__.e(17).then(__webpack_require__.bind(null,1710)).then(m=>m.ManageChannelsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.CHANNELS]}},{path:"export",component:export_component_ExportComponent,canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.EXPORT]}},{path:"import",component:import_component_ImportComponent,canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.IMPORT]}},{path:"other-content-settings",loadChildren:()=>__webpack_require__.e(24).then(__webpack_require__.bind(null,1720)).then(m=>m.OtherLmsSettingsModule)}];let SettingsRoutingModule=class SettingsRoutingModule{};SettingsRoutingModule=Object(tslib_es6.c)([Object(core.NgModule)({imports:[fesm5_router.l.forChild(configurationRoutes)],exports:[fesm5_router.l]})],SettingsRoutingModule);var import_export_service_a,fesm5_forms=__webpack_require__(5),api_service=__webpack_require__(217),http=__webpack_require__(27);let import_export_service_ImportExportService=class ImportExportService{constructor(apiService){this.apiService=apiService,this.pathway_sub_url="controller/api/export-import-learning-contents"}getImportableLearningContentList(){return this.apiService.get(this.pathway_sub_url+"/list-all-importable-learning-contents")}getImportedLearningContentList(){return this.apiService.get(this.pathway_sub_url+"/list-all-imported-learning-contents")}importLearningContent(data){return this.apiService.post(this.pathway_sub_url+"/import-learning-contents",data)}deAllocateLearningContent(data){const headers=(new http.e).set("Content-type","application/json");return this.apiService.deleteWithData(this.pathway_sub_url+"/de-allocate-learning-contents",data,!0,headers)}getNewOrganizationsList(){return this.apiService.get(this.pathway_sub_url+"/list-all-new-organisations")}getExistingOrganizationsList(){return this.apiService.get(this.pathway_sub_url+"/list-all-existing-organisations")}exportToAllOrganizations(){return this.apiService.post(this.pathway_sub_url+"/export-to-all-organisations",null)}exportToOrganization(data){return this.apiService.post(this.pathway_sub_url+"/export-to-selected-organisations",data)}deAllocateOrganizations(data){const headers=(new http.e).set("Content-type","application/json");return this.apiService.deleteWithData(this.pathway_sub_url+"/de-allocate-organisations",data,!0,headers)}};import_export_service_ImportExportService=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(import_export_service_a=void 0!==api_service.a&&api_service.a)?import_export_service_a:Object])],import_export_service_ImportExportService);var export_pathways_component_a,export_pathways_component_b,export_pathways_component_c,takeUntil=__webpack_require__(29),unsubscribe=__webpack_require__(216),ng_zorro_antd_message=__webpack_require__(185);let export_pathways_component_ExportPathwaysComponent=class ExportPathwaysComponent extends unsubscribe.a{constructor(importExportService,translatePipe,messageService){super(),this.importExportService=importExportService,this.translatePipe=translatePipe,this.messageService=messageService,this.avatarShape=public_api.a.CIRCLE,this.buttonType=public_api.c,this.existingSearchControl=new fesm5_forms.FormControl(""),this.newOrgSearchControl=new fesm5_forms.FormControl(""),this.cards=["microsoft","google","amazon","facebook"],this.existingOrganization=[],this.existingOrganisationData=[],this.newOrganization=[],this.newOrganisationData=[],this.existingOrganizationForm=new fesm5_forms.FormGroup({}),this.newOrganizationForm=new fesm5_forms.FormGroup({}),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.EXPORT,privilege_enum.a.HOME,privilege_enum.a.EDIT])}ngOnInit(){this.importExportService.getExistingOrganizationsList().subscribe(value=>{this.existingOrganization=[...value.existingOrganisations],this.existingOrganisationData=[...value.existingOrganisations],console.log(value),this.existingOrganizationForm=this.getControls(this.existingOrganization,"exportId")}),this.importExportService.getNewOrganizationsList().subscribe(value=>{console.log(value.newOrganisations),this.newOrganization=[...value.newOrganisations],this.newOrganisationData=[...value.newOrganisations],this.newOrganizationForm=this.getControls(this.newOrganization,"tenantId")}),this.existingSearchControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{this.searchFilter(res,"existing")}),this.newOrgSearchControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{this.searchFilter(res,"new")})}searchFilter(text,type){"existing"===type?this.existingOrganisationData=[...this.existingOrganization.filter(org=>org.displayName.toLowerCase().includes(text.toLowerCase())||(org.tenantId+"").toLowerCase().includes(text.toLowerCase()))]:this.newOrganisationData=[...this.newOrganization.filter(org=>org.displayName.toLowerCase().includes(text.toLowerCase())||(org.tenantId+"").toLowerCase().includes(text.toLowerCase()))]}submit(next){}reset(){this.existingOrganizationForm.reset(),this.newOrganizationForm.reset()}deAllocateOrganization(){const ids=[];for(const key in this.existingOrganizationForm.value)this.existingOrganizationForm.value[key]&&ids.push(+key);this.importExportService.deAllocateOrganizations(ids).subscribe(value=>{console.log("deallocate",value);const newExistingOrganization=this.existingOrganization.filter(i=>!ids.includes(i.exportId)),newOrganization=[...this.existingOrganization.filter(i=>ids.includes(i.exportId)).map(i=>(i.exportId=null,i)),...this.newOrganization];this.existingOrganizationForm=this.getControls(newExistingOrganization,"exportId"),this.newOrganizationForm=this.getControls(newOrganization,"tenantId"),this.existingOrganization=newExistingOrganization,this.newOrganization=newOrganization,this.messageService.success(this.translatePipe.transform("DEALLOCATED_SUCCESSFULLY"))})}allocateOrganization(){const data=[],ids=[];for(const key in this.newOrganizationForm.value)this.newOrganizationForm.value[key]&&(ids.push(+key),data.push({id:+key}));this.importExportService.exportToOrganization(data).subscribe(res=>{console.log("allocate",res);const newOrganization=this.newOrganization.filter(i=>!ids.includes(i.tenantId)),newExistingOrganization=[...res.map(value=>({tenantId:value.importerTenant.id,legalName:value.importerTenant.legalName,displayName:value.importerTenant.displayName,squareIconUrl:value.importerTenant.squareIconUrl,logoUrl:value.importerTenant.logoUrl,country:value.importerTenant.country,numberOfUsers:0,exportId:value.id})),...this.existingOrganization];this.existingOrganizationForm=this.getControls(newExistingOrganization,"exportId"),this.newOrganizationForm=this.getControls(newOrganization,"tenantId"),this.existingOrganization=newExistingOrganization,this.newOrganization=newOrganization,this.messageService.success(this.translatePipe.transform("ALLOCATED_SUCCESSFULLY"))})}getControls(contentArray,key){const form=new fesm5_forms.FormGroup({});return contentArray.forEach(module=>{form.addControl(module[key]+"",new fesm5_forms.FormControl(!1))}),form}};var import_pathways_component_a,import_pathways_component_b,import_pathways_component_c;export_pathways_component_ExportPathwaysComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-export-pathways",template:(__webpack_require__(1494).default||__webpack_require__(1494)).length?__webpack_require__(1494).default||__webpack_require__(1494):"",styles:[(__webpack_require__(1495).default||__webpack_require__(1495)).length?__webpack_require__(1495).default||__webpack_require__(1495):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(export_pathways_component_a=void 0!==import_export_service_ImportExportService&&import_export_service_ImportExportService)?export_pathways_component_a:Object,"function"==typeof(export_pathways_component_b=void 0!==translate_pipe.a&&translate_pipe.a)?export_pathways_component_b:Object,"function"==typeof(export_pathways_component_c=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?export_pathways_component_c:Object])],export_pathways_component_ExportPathwaysComponent);let import_pathways_component_ImportPathwaysComponent=class ImportPathwaysComponent extends unsubscribe.a{constructor(importExportService,messageService,translatePipe){super(),this.importExportService=importExportService,this.messageService=messageService,this.translatePipe=translatePipe,this.avatarShape=public_api.a.CIRCLE,this.buttonType=public_api.c,this.existingSearchControl=new fesm5_forms.FormControl(""),this.newSearchControl=new fesm5_forms.FormControl(""),this.existingLearningContent=[],this.newLearningContent=[],this.existingLearningContentData=[],this.newLearningContentData=[],this.existingLearningContentForm=new fesm5_forms.FormGroup({}),this.newLearningContentForm=new fesm5_forms.FormGroup({}),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.MANAGE_LEARNING,privilege_enum.a.IMPORT,privilege_enum.a.HOME,privilege_enum.a.EDIT])}ngOnInit(){this.importExportService.getImportedLearningContentList().subscribe(value=>{console.log(value),this.existingLearningContent=this.mapLearningContent(value.importedLearningContents),this.existingLearningContentData=[...this.existingLearningContent],this.existingLearningContentForm=this.getControls(this.existingLearningContent,"importId")}),this.importExportService.getImportableLearningContentList().subscribe(value=>{console.log(value),this.newLearningContent=this.mapLearningContent(value.importableLearningContents),this.newLearningContentData=[...this.newLearningContent],this.newLearningContentForm=this.getControls(this.newLearningContent,"id")}),this.existingSearchControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{this.searchFilter(res,"existing")}),this.newSearchControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{this.searchFilter(res,"new")})}searchFilter(text,type){"existing"===type?this.existingLearningContentData=[...this.existingLearningContent.filter(content=>content.title.toLowerCase().includes(text.toLowerCase())||(content.id+"").toLowerCase().includes(text.toLowerCase()))]:this.newLearningContentData=[...this.newLearningContent.filter(content=>content.title.toLowerCase().includes(text.toLowerCase())||(content.id+"").toLowerCase().includes(text.toLowerCase()))]}submit(next){}reset(){}mapLearningContent(list){return console.log(list),list.map(value=>({id:value.learningContent.id,importId:value.importId,level:value.learningContent.learningContentLevel,type:value.learningContent.contentType.type,title:value.learningContent.name,minutes:value.learningContent.timeCommittment,completedBy:this.translatePipe.transform("COMPLETED_BY_ARNOLD_OTHERS"),skills:value.learningContent.skills.map(e=>e.title),coverImage:value.learningContent.images[0].imageURL,providerLogo:value.learningContent.providerLogo,bookmark:!1}))}deAllocateLearningContent(){const data=[];for(const id in this.existingLearningContentForm.value)this.existingLearningContentForm.value[id]&&data.push(+id);console.log(data),this.importExportService.deAllocateLearningContent(data).subscribe(_=>{const newExistingLearningContent=this.existingLearningContent.filter(i=>!data.includes(i.importId)),newLearningContent=[...this.existingLearningContent.filter(i=>data.includes(i.importId)).map(i=>(i.importId=null,i)),...this.newLearningContent];this.existingLearningContentForm=this.getControls(newExistingLearningContent,"importId"),this.newLearningContentForm=this.getControls(newLearningContent,"id"),this.existingLearningContent=newExistingLearningContent,this.newLearningContent=newLearningContent,this.messageService.success(this.translatePipe.transform("DEALLOCATED_SUCCESSFULLY"))})}allocateLearningContent(){const data=[];for(const id in this.newLearningContentForm.value)this.newLearningContentForm.value[id]&&data.push(+id);this.importExportService.importLearningContent(data).subscribe(res=>{console.log("allocated",res);const newLearningContent=this.newLearningContent.filter(i=>!data.includes(i.id)),newExistingLearningContent=[...res.map(value=>({id:value.learningContent.id,importId:value.id,level:value.learningContent.learningContentLevel,type:value.learningContent.contentType.type,title:value.learningContent.name,minutes:value.learningContent.timeCommittment,completedBy:this.translatePipe.transform("COMPLETED_BY_ARNOLD_OTHERS"),skills:value.learningContent.skills.map(e=>e.title),coverImage:value.learningContent.images[0].imageURL,providerLogo:value.learningContent.providerLogo,bookmark:!1})),...this.existingLearningContent];this.existingLearningContentForm=this.getControls(newExistingLearningContent,"importId"),this.newLearningContentForm=this.getControls(newLearningContent,"id"),this.existingLearningContent=newExistingLearningContent,this.newLearningContent=newLearningContent,this.messageService.success(this.translatePipe.transform("ALLOCATED_SUCCESSFULLY"))})}getControls(contentArray,key){const form=new fesm5_forms.FormGroup({});return contentArray.forEach(module=>{form.addControl(module[key]+"",new fesm5_forms.FormControl(!1))}),form}};import_pathways_component_ImportPathwaysComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-import-pathways",template:(__webpack_require__(1496).default||__webpack_require__(1496)).length?__webpack_require__(1496).default||__webpack_require__(1496):"",styles:[(__webpack_require__(1497).default||__webpack_require__(1497)).length?__webpack_require__(1497).default||__webpack_require__(1497):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(import_pathways_component_a=void 0!==import_export_service_ImportExportService&&import_export_service_ImportExportService)?import_pathways_component_a:Object,"function"==typeof(import_pathways_component_b=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?import_pathways_component_b:Object,"function"==typeof(import_pathways_component_c=void 0!==translate_pipe.a&&translate_pipe.a)?import_pathways_component_c:Object])],import_pathways_component_ImportPathwaysComponent);const COMPONENTS=[...[settings_component_SettingsComponent,export_pathways_component_ExportPathwaysComponent,import_pathways_component_ImportPathwaysComponent,export_component_ExportComponent,import_component_ImportComponent]];let SettingsModule=class SettingsModule{};SettingsModule=Object(tslib_es6.c)([Object(core.NgModule)({declarations:[...COMPONENTS],imports:[common.b,shared_module.a,SettingsRoutingModule],exports:[...COMPONENTS],providers:[]})],SettingsModule)}}]);
//# sourceMappingURL=18.8083e24f987c35a716b3.bundle.js.map