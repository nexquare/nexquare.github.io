(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1406:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BatchesService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_api_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(217),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27);let BatchesService=class BatchesService{constructor(apiService){this.apiService=apiService,this.course_batch_sub_url="controller/api/batches",this.batch_components_sub_url="controller/api/batch-components",this.batch_users_sub_url="controller/api/batchusers",this.interested_learners_sub_url="moodle/api/interestedlearner",this.batch_roles_sub_url="controller/api/batch-roles",this.batch_default_roles_sub_url="controller/api/default-enrollment-role",this.activity_allocation_sub_url="controller/api/activity-allocation"}getCourseBatches(courseId){const headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.e).set("Content-type","application/json");return this.apiService.get(`${this.course_batch_sub_url}/batches-list/${courseId}`,null,!0,headers)}createCourseBatch(courseId,data){return this.apiService.post(`${this.course_batch_sub_url}/courses/${courseId}`,data)}getBatch(id){return this.apiService.get(`${this.course_batch_sub_url}/${id}`,null,!0)}updateBatch(id,data){return data.id=id,this.apiService.put(""+this.course_batch_sub_url,data)}deleteBatch(id){return this.apiService.delete(`${this.course_batch_sub_url}/delete/${id}`)}batchIsShortCodeUnique(shortCode){return this.apiService.get(`${this.batch_components_sub_url}/is-batchcode-unique?code=${shortCode}`)}getBatchDefaultRoles(batchId){return this.apiService.get(`${this.batch_default_roles_sub_url}/batches/${batchId}`)}getBatchDefaultRoleTypeKeys(){return this.apiService.get(this.batch_default_roles_sub_url+"/default-keys")}createBatchDefaultRole(data){return this.apiService.put(""+this.batch_default_roles_sub_url,data)}getBatchUsers(batchId){return this.apiService.get(`${this.batch_users_sub_url}/batches/${batchId}/list-all-batch-users`)}getBatchUsersForRole(batchId,roleId){return this.apiService.get(`${this.batch_users_sub_url}/batches/${batchId}/roles/${roleId}/list-all-batch-users`)}getAllTenantUsers(){return this.apiService.get(this.batch_users_sub_url+"/list-all-tenant-users")}enrollBatchUserFromSameTenant(batchId,data){return this.apiService.post(`${this.batch_users_sub_url}/batches/${batchId}/enroll-existing-users`,data)}createNewBatchUser(type,data){return this.apiService.post(`${this.batch_users_sub_url}/enroll-users?type=${type}`,data)}updateBatchUser(id,data){data.id=id;const dataForApi=[data],headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.e).set("Content-type","application/json");return this.apiService.put(this.batch_users_sub_url+"/modify-batch-users",dataForApi,!0,headers)}getCourseInterestedLearners(courseId){return this.apiService.get(`${this.interested_learners_sub_url}/courses/${courseId}`)}deleteInterestedLearner(data){return this.apiService.deleteWithData(""+this.interested_learners_sub_url,data,!0,null,!0,"text")}updateReadStatusInterestedLearner(id){const headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.e).set("Content-type","application/json");return this.apiService.put(`${this.interested_learners_sub_url}/update-status-to-read/${id}`,null,!0,headers)}enrollInterestedLearners(batchId,data){return this.apiService.post(`${this.interested_learners_sub_url}/enroll-interested-leaners/batches/${batchId}`,data)}addSupporters(data){return this.apiService.post("controller/api/supporter/add",data)}getBatchRolesList(batchId){return this.apiService.get(`${this.batch_roles_sub_url}/batches/${batchId}`)}addBatchRole(batchId,data){return this.apiService.post(`${this.batch_roles_sub_url}/batches/${batchId}`,data)}deleteBatchRoles(batchId,data){const headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__.e).set("Content-type","application/json");return this.apiService.deleteWithData(""+this.batch_roles_sub_url,data,!0,headers)}getActivityAllocationForBatch(batchId){return this.apiService.get(`${this.activity_allocation_sub_url}/all-allocation/batches/${batchId}`)}activityAllocationByAdminForBatch(batchId,courseId,data){return this.apiService.put(`${this.activity_allocation_sub_url}/allocation-by-admin/batches/${batchId}/course/${courseId}`,data)}activityAllocationByAdminForUser(batchId,courseId,userId,data){return this.apiService.put(`${this.activity_allocation_sub_url}/allocation-by-admin/batches/${batchId}/course/${courseId}/user/${userId}`,data)}deleteActivities(batchId,data){return this.apiService.deleteWithData(this.activity_allocation_sub_url+"/delete-activity",data,!0,null,!0,"application/text")}};BatchesService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.f)("design:paramtypes",["function"==typeof(_a=void 0!==_api_service__WEBPACK_IMPORTED_MODULE_2__.a&&_api_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],BatchesService)},1414:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DateUtils}));class DateUtils{static daysBetweenDates(dateA,dateB){const one=new Date(dateA.getFullYear(),dateA.getMonth(),dateA.getDate());return(new Date(dateB.getFullYear(),dateB.getMonth(),dateB.getDate()).getTime()-one.getTime())/864e5}static calculateAge(birthday){if(birthday>new Date(Date.now()))return null;const ageDifMs=Date.now()-birthday.getTime(),ageDate=new Date(ageDifMs);return Math.abs(ageDate.getUTCFullYear()-1970)}static addDays(date,days){return new Date(date.getFullYear(),date.getMonth(),date.getDate()+days)}static daysInMonth(month,year){return new Date(year,month,0).getDate()}static toISODateString(date){const fullDate=("0"+date.getDate()).slice(-2),fullMonth=("0"+(date.getMonth()+1)).slice(-2);return date.getFullYear()+"-"+fullMonth+"-"+fullDate}static stringToUTCDate(stringDate){const tempDate=new Date(stringDate),userTimezoneOffset=6e4*tempDate.getTimezoneOffset();return new Date(tempDate.getTime()+userTimezoneOffset)}static convertToDateString(date){const fullDate=("0"+date.getDate()).slice(-2),fullMonth=("0"+(date.getMonth()+1)).slice(-2);return date.getFullYear()+"-"+fullMonth+"-"+fullDate}static convertToDateTimeString(date){const fullDate=("0"+date.getDate()).slice(-2),fullMonth=("0"+(date.getMonth()+1)).slice(-2);return date.getFullYear()+"-"+fullMonth+"-"+fullDate+" "+date.getHours()+":"+date.getMinutes()+":"+date.getSeconds()}static getDueDateStatus(date){const a=new Date(date).getTime()-(new Date).getTime(),seconds=Math.floor(a/1e3),minutes=Math.floor(seconds/60),hours=Math.floor(minutes/60);return Math.floor(hours/24)}}DateUtils.months=[{id:1,value:"January"},{id:2,value:"February"},{id:3,value:"March"},{id:4,value:"April"},{id:5,value:"June"},{id:6,value:"July"},{id:7,value:"August"},{id:9,value:"September"},{id:10,value:"October"},{id:11,value:"November"},{id:12,value:"December"}]},1418:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return batch_manager_BatchManager}));var tslib_es6=__webpack_require__(1),core=__webpack_require__(0),distinctUntilChanged=__webpack_require__(79),take=__webpack_require__(85),tap=__webpack_require__(73),filter=__webpack_require__(44),dropdown_options_service=__webpack_require__(1408),datorama_akita=__webpack_require__(244);let course_batches_store_CourseBatchesStore=class CourseBatchesStore extends datorama_akita.a{constructor(){super({loaded:!1,loading:!1,adding:!1,deleting:!1,updating:!1,query:"",batchStatusOptions:null,batchUserStatusOptions:null,coursesWithLoadedBatches:[]})}};var _a;course_batches_store_CourseBatchesStore=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(datorama_akita.c)({name:"courses"}),Object(tslib_es6.f)("design:paramtypes",[])],course_batches_store_CourseBatchesStore);let course_batches_query_CourseBatchesQuery=class CourseBatchesQuery extends datorama_akita.b{constructor(store){super(store),this.store=store}selectBatches(){return this.selectAll()}selectBatchById(id){return this.selectEntity(id)}};course_batches_query_CourseBatchesQuery=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_a=void 0!==course_batches_store_CourseBatchesStore&&course_batches_store_CourseBatchesStore)?_a:Object])],course_batches_query_CourseBatchesQuery);var batch_manager_a,_b,_c,_d,batches_service=__webpack_require__(1406),date_utils=__webpack_require__(1414);let batch_manager_BatchManager=class BatchManager{constructor(batchesStore,batchesQuery,batchesService,dropdownOptionsService){this.batchesStore=batchesStore,this.batchesQuery=batchesQuery,this.batchesService=batchesService,this.dropdownOptionsService=dropdownOptionsService}getLoading(){return this.batchesQuery.selectLoading()}getLoaded(){return this.batchesQuery.select("loaded")}getAdding(){return this.batchesQuery.select("adding")}getDeleting(){return this.batchesQuery.select("deleting")}getUpdating(){return this.batchesQuery.select("updating")}getQuery(){return this.batchesQuery.select("query")}setLoading(value){this.batchesStore.setLoading(value)}setAdding(value){this.batchesStore.update({adding:value})}setUpdating(value){this.batchesStore.update({updating:value})}setDeleting(value){this.batchesStore.update({deleting:value})}setQuery(value){this.batchesStore.update({query:value})}getCourseBatches(courseId,force=!1){this.combinedSubscription&&this.combinedSubscription.unsubscribe();const query$=this.getQuery().pipe(Object(distinctUntilChanged.a)());return this.combinedSubscription=query$.subscribe(()=>{this.searchSubscription&&(this.setLoading(!1),this.searchSubscription.unsubscribe()),this.fetchCourseBatches(courseId,!0)}),this.batchesQuery.selectBatches().pipe()}fetchCourseBatches(courseId,force=!1){let loading=!1,loaded=!1,query="";if(this.getLoading().pipe(Object(take.a)(1)).subscribe(res=>loading=res),this.getCoursesWithLoadedBatches().pipe(Object(take.a)(1)).subscribe(res=>loaded=res.includes(courseId)),this.getQuery().pipe(Object(take.a)(1)).subscribe(res=>query=res),!loading&&(!loaded||force)){this.setLoading(!0),this.searchSubscription=this.batchesService.getCourseBatches(courseId).subscribe(res=>{const mappedCourses=res.map(v=>Object.assign(Object.assign({},v),{courseId:courseId}));this.batchesStore.set(mappedCourses),this.batchesStore.update({loaded:!0}),this.setCoursesWithLoadedBatches(courseId),this.setLoading(!1)},err=>{this.setLoading(!1)})}}getBatchById(id){return this.batchesQuery.selectEntity(id).pipe(Object(tap.a)(v=>{v||this.fetchBatchById(id)}),Object(filter.a)(v=>!!v))}fetchBatchById(id){let loading=!1;this.getLoading().subscribe(l=>loading=l),loading||(this.setLoading(!0),this.batchesService.getBatch(id).subscribe(res=>{this.setLoading(!1),this.batchesStore.upsert(id,res)},err=>{this.setLoading(!1)}))}updateBatch(courseId,id,data){this.setUpdating(!0);const cleanData=this.deleteNullFields(data),dataForApi=this.transformCreateBatchData(cleanData);return this.batchesService.updateBatch(id,dataForApi).pipe(Object(tap.a)(res=>{this.setUpdating(!1),res=Object.assign(Object.assign({},res),{courseId:courseId}),this.batchesStore.update(id,res)},err=>{this.setUpdating(!1)}))}createBatch(courseId,data){this.setAdding(!0);const cleanData=this.deleteNullFields(data),dataForApi=this.transformCreateBatchData(cleanData);return this.batchesService.createCourseBatch(courseId,dataForApi).pipe(Object(tap.a)(res=>{res=Object.assign(Object.assign({},res),{courseId:courseId}),this.setAdding(!1),this.batchesStore.add(res)},err=>this.setAdding(!1)))}deleteNullFields(data){return Object.keys(data).map(key=>{data[key]&&0!==data[key].length||delete data[key]}),data}transformCreateBatchData(data){const transformedData={};return transformedData.batchName=data.name,transformedData.shortCode=data.shortCode,transformedData.batchStartDate=date_utils.a.convertToDateString(data.course_period[0]),transformedData.batchEndDate=date_utils.a.convertToDateString(data.course_period[1]),transformedData.enrollmentStartDate=date_utils.a.convertToDateString(data.enrollment_period[0]),transformedData.enrollmentEndDate=date_utils.a.convertToDateString(data.enrollment_period[1]),transformedData}batchIsShortCodeUnique(shortCode){return this.batchesService.batchIsShortCodeUnique(shortCode)}getCoursesWithLoadedBatches(){return this.batchesQuery.select("coursesWithLoadedBatches")}setCoursesWithLoadedBatches(value){this.batchesStore.update(state=>Object.assign(Object.assign({},state),{coursesWithLoadedBatches:[...state.coursesWithLoadedBatches,value]}))}getBatchStatusOptions(){return this.batchesQuery.select("batchStatusOptions").pipe(Object(tap.a)(res=>{res||this.dropdownOptionsService.batchStatus().subscribe(value=>{this.setBatchStatusOptions(value)})}))}setBatchStatusOptions(value){this.batchesStore.update({batchStatusOptions:value})}getBatchUserStatusOptions(){return this.batchesQuery.select("batchUserStatusOptions").pipe(Object(tap.a)(res=>{res||this.dropdownOptionsService.batchUserStatus().subscribe(value=>{this.setBatchUserStatusOptions(value)})}))}setBatchUserStatusOptions(value){this.batchesStore.update({batchUserStatusOptions:value})}};batch_manager_BatchManager=Object(tslib_es6.c)([Object(core.Injectable)(),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(batch_manager_a=void 0!==course_batches_store_CourseBatchesStore&&course_batches_store_CourseBatchesStore)?batch_manager_a:Object,"function"==typeof(_b=void 0!==course_batches_query_CourseBatchesQuery&&course_batches_query_CourseBatchesQuery)?_b:Object,"function"==typeof(_c=void 0!==batches_service.a&&batches_service.a)?_c:Object,"function"==typeof(_d=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?_d:Object])],batch_manager_BatchManager)},1462:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-learning-header [headerSettings]="headerSettings">\n  <div class="nxq-cp-ctr-body">\n    <div class="nxq-cp-ctr-body-content">\n      <div class="nxq-cp-ctr-body-content-card">\n        <nxq-input-master [control]="controls.search_query" [placeholder]="\'SEARCH\' | translate" suffixIcon="search"></nxq-input-master>\n        <div class="nxq-cp-ctr-body-filter">\n          <nxq-list-filters [control]="controls.selected_filter" [options]="filterOptions"></nxq-list-filters>\n          <nxq-list-filters [control]="controls.selected_sort" [label]="\'SORT\' | translate" [options]="sortByOptions"></nxq-list-filters>\n        </div>\n        <cdk-virtual-scroll-viewport *ngIf="catalogCards && catalogCards.length > 0" class="v-scroll" itemSize="200">\n          <div class="cards" *cdkVirtualFor="let catalogCard of catalogCards">\n            <nxq-legacy-catalog-card [catalogCard]="catalogCard" (bookmarked)="saveCard($event)" (click)="showDetails(catalogCard.id)">\n            </nxq-legacy-catalog-card>\n          </div>\n        </cdk-virtual-scroll-viewport>\n        <div class="nxq-spinner-cp" *ngIf="isLoading">\n          <nxq-loading></nxq-loading>\n        </div>\n      </div>\n      <div class="nxq-cp-ctr-body-content-widget">\n        <div class="nxq-cp-ctr-body-content-widget__filter">\n          <span>{{ \'TYPE\' | translate }}</span>\n          <nxq-tabset-radio-button-group [control]="controls.selected_type" [tabGroupType]="tabGroupType.MANY">\n            <nxq-radio-button value="all">{{ \'ALL\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="self">{{ \'SELF\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="Instructor">{{ \'INSTRUCTOR\' | translate }}</nxq-radio-button>\n          </nxq-tabset-radio-button-group>\n        </div>\n        <div class="nxq-cp-ctr-body-content-widget__filter">\n          <span>{{ \'LEVEL\' | translate }}</span>\n          <nxq-tabset-radio-button-group [control]="controls.selected_level" [tabGroupType]="tabGroupType.MANY">\n            <nxq-radio-button value="all">{{ \'ALL\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="Introductory">{{ \'INTRODUCTORY\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="Intermediate">{{ \'INTERMEDIATE\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="Advanced">{{ \'ADVANCED\' | translate }}</nxq-radio-button>\n          </nxq-tabset-radio-button-group>\n        </div>\n        <div class="nxq-cp-ctr-body-content-widget__filter">\n          <span>Effort</span>\n          <nxq-tabset-radio-button-group [control]="controls.selected_effort" [tabGroupType]="tabGroupType.MANY">\n            <nxq-radio-button value="all">{{ \'ALL\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="<20 hours">{{ \'20_HOURS\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value="20-80 hours">{{ \'20_80_HOURS\' | translate }}</nxq-radio-button>\n            <nxq-radio-button value=">80 hours">{{ \'80_HOURS\' | translate }}</nxq-radio-button>\n          </nxq-tabset-radio-button-group>\n        </div>\n        <div class="nxq-cp-ctr-body-content-widget__select">\n          <nxq-select\n            [placeholder]="\'SKILLS\' | translate"\n            [control]="controls.skills_ids"\n            [options]="optionsSkills"\n            (searchQueryChange)="searchQueryChanged($event)"\n            [mode]="\'multiple\'"\n          >\n          </nxq-select>\n          <nxq-select\n            [placeholder]="\'SUBJECTS\' | translate"\n            [control]="controls.subjects_ids"\n            [options]="optionsSubjects"\n            (searchQueryChange)="searchQueryChanged($event)"\n            [mode]="\'multiple\'"\n          >\n          </nxq-select>\n        </div>\n      </div>\n    </div>\n  </div>\n  <nz-drawer\n    [nzClosable]="false"\n    [nzVisible]="addDrawerVisible"\n    nzPlacement="right"\n    [nzWidth]="400"\n    [nzTitle]="addDrawerTitle"\n    (nzOnClose)="onCloseSubscribeDrawer()"\n    *ngIf="!!catalogDetails"\n  >\n    <ng-template #addDrawerTitle>\n      <div class="side-drawer-header">\n        <h3>{{ \'DETAILS\' | translate }}</h3>\n        <nxq-icon icon="close" fontSize="16px" (click)="onCloseSubscribeDrawer()"></nxq-icon>\n      </div>\n    </ng-template>\n    <div class="side-drawer" *ngIf="addDrawerVisible && !!catalogDetails">\n      <div class="side-drawer-content">\n        <div class="side-drawer-provider">\n          <nxq-label [labelType]="labelType.CODE" [value]="catalogDetails.providerName"></nxq-label>\n          <nxq-logo [fullLogo]="true" [image]="catalogDetails.providerLogo"></nxq-logo>\n        </div>\n        <h3>\n          {{ catalogDetails.name }}\n        </h3>\n        <div class="side-drawer-icons">\n          <nxq-label [label]="catalogDetails.level" [labelType]="labelType.ICON" [value]="levelIcon(catalogDetails.level)"></nxq-label>\n          <nxq-label\n            [label]="catalogDetails.contentType"\n            [labelType]="labelType.ICON"\n            [value]="typeIcon(catalogDetails.contentType)"\n          ></nxq-label>\n        </div>\n        <p style="margin: 10px 0 20px 0;" [innerHTML]="catalogDetails.description"></p>\n\n        <p *ngIf="catalogDetails.skills && catalogDetails.skills.length > 0">\n          <span>{{ \'KEY_SKILLS\' | translate | uppercase }}:</span><br />\n          <span *ngFor="let skill of catalogDetails.skills">{{ skill }}<br /></span>\n        </p>\n\n        <p *ngIf="catalogDetails.learningType">\n          <span>{{ \'INSTRUCTOR_TYPE\' | translate | uppercase }}:</span><br />\n          {{ catalogDetails.learningType }}\n        </p>\n\n        <p *ngIf="catalogDetails.instructionLanguage">\n          <span>{{ \'INSTRUCTION_LANGUAGE\' | translate | uppercase }}:</span><br />\n          {{ catalogDetails.instructionLanguage.name }}\n        </p>\n\n        <p *ngIf="catalogDetails.minutes">\n          <span>{{ \'TIME_COMMITMENT\' | translate | uppercase }}:</span><br />\n          {{ catalogDetails.minutes | timeCommitment }}\n        </p>\n\n        <p *ngIf="catalogDetails.enrollmentMethod">\n          <span>{{ \'ENROLLMENT_METHOD\' | translate | uppercase }}:</span><br />\n          {{ catalogDetails.enrollmentMethod.method }}\n        </p>\n\n        <p *ngIf="catalogDetails.paymentMethod">\n          <span>{{ \'PAYMENT_METHOD\' | translate | uppercase }}:</span><br />\n          {{ catalogDetails.paymentMethod.method }}\n        </p>\n\n        <p *ngIf="catalogDetails.subjects && catalogDetails.subjects.length > 0">\n          <span>{{ \'SUBJECTS\' | translate | uppercase }}:</span><br />\n          <span *ngFor="let subjectInfo of catalogDetails.subjects">{{ subjectInfo }}<br /></span>\n        </p>\n\n        <p *ngIf="catalogDetails.learningObjectives">\n          <span>{{ \'LEARNING_OBJECTIVES\' | translate | uppercase }}:</span><br />\n          <span [innerHTML]="catalogDetails.learningObjectives"></span>\n        </p>\n\n        <p *ngIf="catalogDetails.tableOfContents">\n          <span>{{ \'TABLE_OF_CONTENT\' | translate | uppercase }}:</span><br />\n          <span [innerHTML]="catalogDetails.tableOfContents"></span>\n        </p>\n\n        \x3c!-- <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ \'KEY_SKILLS\' | translate }}</h3>\n          </div>\n          <div slot="content">\n            <p class="side-drawer-objective">\n              {{ catalogDetails.skills ? catalogDetails.skills.toString() : \'\' }}\n            </p>\n          </div>\n        </nxq-collapse> --\x3e\n        \x3c!-- <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ \'LEARNING_OBJECTIVES\' | translate }}</h3>\n          </div>\n          <div slot="content">\n            <p class="side-drawer-objective">{{ catalogDetails.learningObjectives }}</p>\n          </div>\n        </nxq-collapse>\n        <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ \'BADGES\' | translate }}</h3>\n          </div>\n          <div slot="content">\n            <p>{{ \'BADGES_COME_HERE\' | translate }}</p>\n          </div>\n        </nxq-collapse>\n        <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ \'OTHERS\' | translate }}</h3>\n          </div>\n          <div slot="content">\n            <div>\n              <p>{{ \'LANGUAGES\' | translate }}</p>\n              <p *ngFor="let language of catalogDetails.language">{{ language }}</p>\n            </div>\n          </div>\n        </nxq-collapse>\n        <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ \'ENROLLMENT\' | translate }}</h3>\n          </div>\n          <div slot="content">\n            <p>{{ \'OVERVIEW_ITC_LEARNING\' | translate }}</p>\n          </div>\n        </nxq-collapse> --\x3e\n      </div>\n      <span class="nxq-fx-stretch"></span>\n      <nz-divider></nz-divider>\n      <div class="side-drawer-buttons">\n        <nxq-button\n          [type]="buttonType.SECONDARY"\n          class="popup-button"\n          nz-popconfirm\n          #popupButton\n          [nzPopconfirmTitle]="popupTitleTemplate"\n          [nzPopconfirmTrigger]="\'click\'"\n          [nzCancelText]="cancelText"\n          [nzOkText]="okText"\n          (nzOnConfirm)="confirm()"\n          (nzOnCancel)="cancel()"\n          nzPopconfirmPlacement="topLeft"\n          nzOverlayClassName="nxq-overlay"\n          >{{ enrollButton }}\n        </nxq-button>\n        <nxq-button [type]="buttonType.PRIMARY">{{ \'LEARN_MORE\' | translate }}</nxq-button>\n        <ng-template #popupTitleTemplate>\n          <h4>{{ popupTitle }}</h4>\n          <nxq-label [labelType]="labelType.CODE" [value]="popupContent"></nxq-label>\n          <nxq-select\n            [placeholder]="\'SELECT_BATCH\' | translate"\n            [control]="controlBatch"\n            [options]="optionsBatch"\n            (searchQueryChange)="searchQueryChanged($event)"\n          >\n          </nxq-select>\n        </ng-template>\n      </div>\n    </div>\n  </nz-drawer>\n</nxq-learning-header>\n'},1463:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body {\n  padding: 0 30px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-filter {\n  width: 100%;\n  margin: 20px 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content-card {\n  height: calc(100vh - 160px);\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.nxq-cp-ctr-body-content-card > div {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n}\n.nxq-cp-ctr-body-content-card .cards {\n  padding-bottom: 20px;\n}\n.nxq-cp-ctr-body-content-card__label {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  max-width: 240px;\n  width: 100%;\n  padding: 20px;\n}\n.nxq-cp-ctr-body-content-card__label > * {\n  margin-right: 10px;\n}\n.nxq-cp-ctr-body-content-card__label > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content-card__label span {\n  max-width: 150px;\n}\n.nxq-cp-ctr-body-content-card__graph {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n  padding: 20px;\n  border-left: 1px solid #d9d9d9;\n}\n.nxq-cp-ctr-body-content-card__graph > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-content-card__graph > *:last-child {\n  margin-right: 0;\n}\n.rtl .nxq-cp-ctr-body-content-card__graph {\n  border-right: 1px solid #d9d9d9;\n  border-left: none;\n}\n.nxq-cp-ctr-body-content-card__graph nxq-survey-line {\n  width: 100%;\n}\n.nxq-cp-ctr-body-content-card__dash {\n  height: 4px;\n  width: 30px;\n  background: #d9d9d9;\n  border-radius: 4px;\n}\n.nxq-cp-ctr-body-content-widget {\n  width: 360px;\n  padding-left: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n  border-left: 1px solid #d9d9d9;\n}\n.nxq-cp-ctr-body-content-widget > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body-content-widget > *:last-child {\n  margin-bottom: 0;\n}\n.rtl .nxq-cp-ctr-body-content-widget {\n  border-right: 1px solid #d9d9d9;\n  border-left: none;\n}\n.nxq-cp-ctr-body-content-widget nxq-tabset-radio-button-group {\n  width: 100%;\n}\n.nxq-cp-ctr-body-content-widget nxq-tabset-radio-button-group .ant-radio-group {\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n.nxq-cp-ctr-body-content-widget nxq-suggestion-content-card {\n  width: 100%;\n}\n.nxq-cp-ctr-body-content-widget__button {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-content-widget__filter {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n}\n.nxq-cp-ctr-body-content-widget__filter > * {\n  margin-right: 10px;\n}\n.nxq-cp-ctr-body-content-widget__filter > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content-widget__filter span {\n  font-size: 16px;\n  padding-left: 10px;\n}\n.nxq-cp-ctr-body-content-widget__filter nxq-tabset-radio-button-group ::ng-deep .ant-radio-group {\n  font-size: 12px;\n}\n.nxq-cp-ctr-body-content-widget__filter nxq-tabset-radio-button-group ::ng-deep .ant-radio-button-wrapper {\n  font-weight: normal;\n}\n.nxq-cp-ctr-body-content-widget__select {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr-body-content-widget__select > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body-content-widget__select > *:last-child {\n  margin-bottom: 0;\n}\n.v-scroll {\n  margin-top: 20px;\n  height: calc(100vh - 320px);\n}\n:host-context(.xs) .v-scroll, .xs .v-scroll {\n  height: calc(100vh - 320px);\n}\n:host-context(.sm) .v-scroll, .sm .v-scroll {\n  height: calc(100vh - 270px);\n}\n:host-context(.md) .v-scroll, .md .v-scroll {\n  height: calc(100vh - 260px);\n}\n.v-scroll-height {\n  margin-top: 20px;\n  height: calc(100vh - 175px) !important;\n}\n:host-context(.xs) .v-scroll-height, .xs .v-scroll-height {\n  height: calc(100vh - 285px) !important;\n}\n:host-context(.sm) .v-scroll-height, .sm .v-scroll-height {\n  height: calc(100vh - 235px) !important;\n}\n:host-context(.md) .v-scroll-height, .md .v-scroll-height {\n  height: calc(100vh - 225px) !important;\n}\n.side-drawer {\n  height: calc(100vh - 100px);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n  align-items: unset;\n}\n.side-drawer-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.side-drawer-header > * {\n  margin-right: 30px;\n}\n.side-drawer-header > *:last-child {\n  margin-right: 0;\n}\n.side-drawer-header nxq-icon {\n  cursor: pointer;\n}\n.side-drawer-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.side-drawer-content > * {\n  margin-bottom: 10px;\n}\n.side-drawer-content > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-provider {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.side-drawer-icons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.side-drawer-icons > * {\n  margin-right: 30px;\n}\n.side-drawer-icons > *:last-child {\n  margin-right: 0;\n}\n.side-drawer-objective {\n  overflow: hidden;\n  position: relative;\n  line-height: 1.2em;\n  max-height: 3.6em;\n  text-align: justify;\n  margin-right: -1em;\n  padding-right: 1em;\n}\n.side-drawer-objective:before {\n  content: "...";\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n.side-drawer-objective:after {\n  content: "";\n  position: absolute;\n  right: 0;\n  width: 1em;\n  height: 1em;\n  margin-top: 0.2em;\n  background: white;\n}\n.side-drawer-buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-fx-stretch {\n  flex-basis: auto;\n  flex-grow: 1;\n  flex-shrink: 1;\n}'},1464:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-learning-header [headerSettings]="headerSettings" (tagLineButton)="seeDetails()" *ngIf="!isLoading">\n  <div class="nxq-cp-ctr-body">\n    <div class="nxq-cp-ctr-body-filter">\n      <div class="nxq-cp-ctr-body-filter-buttons">\n        <nxq-button [type]="buttonType.PRIMARY" (click)="goBack()">{{ \'BACK_TO_PATHWAYS\' | translate }}</nxq-button>\n        <nxq-button *ngIf="!!pathway.channelName" [type]="buttonType.PRIMARY" (click)="goChannel()">{{\n          \'GO_TO_CHANNEL\' | translate\n        }}</nxq-button>\n      </div>\n      <div class="nxq-cp-ctr-body-filter__buttons">\n        <nxq-button *ngIf="pathway.byteObject.type === \'User Created Pathway\'" [type]="buttonType.PRIMARY" (click)="onEditPathway()">{{\n          \'EDIT_PATHWAY\' | translate\n        }}</nxq-button>\n        <nxq-button *ngIf="pathway.byteObject.type === \'User Created Pathway\'" [type]="buttonType.PRIMARY">\n          {{ \'ADD_SUPPORTERS\' | translate }}\n        </nxq-button>\n        <nxq-button *ngIf="pathway.byteObject.type === \'User Created Pathway\'" [type]="buttonType.PRIMARY" (click)="onAddPathway()">{{\n          \'ADD_CONTENT\' | translate\n        }}</nxq-button>\n        <nxq-button [type]="buttonType.MORE"></nxq-button>\n      </div>\n    </div>\n    <div class="nxq-cp-ctr-body-section" *ngIf="enrolledByteCards.length">\n      <div class="nxq-cp-ctr-body-section__header">\n        <h3>\n          {{ \'FACILITATING\' | translate }}\n        </h3>\n      </div>\n      <div class="nxq-cp-ctr-body-content">\n        <nxq-legacy-byte-card\n          class="nxq-cp-ctr-body-content__card"\n          *ngFor="let byteCard of enrolledByteCards"\n          [title]="byteCard.title"\n          [coverImage]="byteCard.coverImage"\n          [externalCourse]="byteCard.externalCourse"\n          [labelCode]="byteCard.labelCode"\n          [ribbon]="byteCard.ribbon"\n          [id]="byteCard.id"\n          [tenantName]="byteCard.tenantName"\n          [tenantLogo]="byteCard.tenantLogo"\n          [progress]="byteCard.progress"\n          [channel]="byteCard.channel"\n          [videoUrl]="byteCard.videoUrl"\n          [channelMessage]="byteCard.channelMessage"\n          [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n          [videoThumbnail]="byteCard.videoThumbnail"\n          [showProgress]="false"\n          [supporter]="byteCard.supporter"\n          (bookmarked)="onBookmark($event)"\n          (connected)="onConnect(byteCard.channel)"\n          (getDetails)="openContentDetails($event, byteCard.ribbon, byteCard.externalCourse)"\n        ></nxq-legacy-byte-card>\n      </div>\n    </div>\n    <div class="nxq-cp-ctr-body-section" *ngIf="!!notEnrolledByteCards.length">\n      <div class="nxq-cp-ctr-body-section__header">\n        <h3>\n          {{ \'OPTIONS\' | translate }}\n        </h3>\n      </div>\n      <div class="nxq-cp-ctr-body-content">\n        <nxq-legacy-byte-card\n          class="nxq-cp-ctr-body-content__card"\n          *ngFor="let byteCard of notEnrolledByteCards"\n          [title]="byteCard.title"\n          [coverImage]="byteCard.coverImage"\n          [externalCourse]="byteCard.externalCourse"\n          [labelCode]="byteCard.labelCode"\n          [ribbon]="byteCard.ribbon"\n          [id]="byteCard.id"\n          [tenantName]="byteCard.tenantName"\n          [tenantLogo]="byteCard.tenantLogo"\n          [progress]="byteCard.progress"\n          [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n          [videoThumbnail]="byteCard.videoThumbnail"\n          [channel]="byteCard.channel"\n          [videoUrl]="byteCard.videoUrl"\n          [channelMessage]="byteCard.channelMessage"\n          [showProgress]="false"\n          [supporter]="byteCard.supporter"\n          (bookmarked)="onBookmark($event)"\n          (connected)="onConnect(byteCard.channel)"\n          (getDetails)="openContentDetails($event, byteCard.ribbon, byteCard.externalCourse)"\n        ></nxq-legacy-byte-card>\n      </div>\n    </div>\n  </div>\n  <nxq-content-details [contentID]="courseId" (drawerVisibility)="closeDrawer()" [drawerVisible]="showDetails"></nxq-content-details>\n</nxq-learning-header>\n<div *ngIf="isLoading">\n  <nxq-loading></nxq-loading>\n</div>\n\n<nz-drawer\n  [nzClosable]="false"\n  [nzVisible]="addDrawerVisible"\n  nzPlacement="right"\n  [nzWidth]="500"\n  [nzTitle]="addDrawerTitle"\n  (nzOnClose)="onCloseAddDrawer()"\n>\n  <ng-template #addDrawerTitle\n    ><h3>{{ \'ADD_CONTENT\' | translate }}</h3></ng-template\n  >\n  <div class="side-drawer" *ngIf="addDrawerVisible">\n    <div class="side-drawer-content">\n      <nxq-tabset-radio-button-group [control]="tabSetControlAddDrawer" [tabGroupType]="tabGroupType.PAIR">\n        <nxq-radio-button value="suggestions">{{ \'FOR_YOU\' | translate }}</nxq-radio-button>\n        <nxq-radio-button value="saved">{{ \'FOLLOWING\' | translate }}</nxq-radio-button>\n        <nxq-radio-button value="catalog">{{ \'CATALOG\' | translate }}</nxq-radio-button>\n      </nxq-tabset-radio-button-group>\n      <nxq-input-master [control]="controls.name" [placeholder]="\'SEARCH\' | translate"></nxq-input-master>\n      <ng-container *ngFor="let suggestionCard of suggestionCardsAdd">\n        <nxq-suggestion-content-card [suggestionCard]="suggestionCard"></nxq-suggestion-content-card>\n      </ng-container>\n    </div>\n  </div>\n  <div class="side-drawer-buttons">\n    <nxq-button [type]="buttonType.PRIMARY" (click)="onCloseAddDrawer()">{{ \'CANCEL\' | translate }}</nxq-button>\n    <nxq-button [type]="buttonType.SECONDARY" (click)="updatePathway()">{{ \'UPDATE\' | translate }}</nxq-button>\n  </div>\n</nz-drawer>\n\n<nz-drawer\n  [nzClosable]="false"\n  [nzVisible]="editDrawerVisible"\n  nzPlacement="right"\n  [nzWidth]="350"\n  [nzTitle]="editDrawerTitle"\n  (nzOnClose)="onCloseEditDrawer()"\n>\n  <ng-template #editDrawerTitle\n    ><h3>{{ \'EDIT_A_PATHWAY\' | translate }}</h3></ng-template\n  >\n  <div class="side-drawer" *ngIf="editDrawerVisible">\n    <div class="side-drawer-content">\n      <form [formGroup]="form" class="side-drawer-form">\n        <h4 class="side-drawer-sub-header">{{ \'BASIC_DETAILS\' | translate | uppercase }}</h4>\n        <div class="side-drawer-form-input-field">\n          <span class="side-drawer-form-input-field__label">{{ \'NAME\' | translate | uppercase }}</span>\n          <nxq-input-master [control]="controls.name" [placeholder]="\'NAME\' | translate"></nxq-input-master>\n        </div>\n\n        <div class="side-drawer-form-input-field">\n          <span class="side-drawer-form-input-field__label">{{ \'DESCRIPTION\' | translate | uppercase }}</span>\n          <nxq-input-master type="textarea" [control]="controls.description" [placeholder]="\'DESCRIPTION\' | translate"></nxq-input-master>\n        </div>\n        <div class="side-drawer-form-input-field">\n          <span class="side-drawer-form-input-field__label">{{ \'SKILLS\' | translate | uppercase }}</span>\n          <nxq-select\n            [control]="controls.skills"\n            [placeholder]="\'SKILLS\' | translate"\n            [mode]="selectMode.MULTIPLE"\n            [options]="skillsOptions"\n          ></nxq-select>\n        </div>\n        <div class="side-drawer-form-input-field">\n          <span class="side-drawer-form-input-field__label">{{ \'BATCH_START_END_DATE\' | translate | uppercase }}</span>\n          <nxq-range-picker [control]="controls.range"></nxq-range-picker>\n        </div>\n        <div class="side-drawer-form-input-field">\n          <div class="side-drawer-form-input-field__label">\n            <span>{{ \'Supporters\' | uppercase }}</span>\n            <nxq-icon icon="info-circle" nz-tooltip [nzTooltipTitle]="\'SUPPORTERS_ON_PLATFORM\' | translate"></nxq-icon>\n          </div>\n          <nxq-select\n            [control]="controls.supports"\n            [placeholder]="\'SUPPORTS\' | translate"\n            [mode]="selectMode.MULTIPLE"\n            [options]="skillsOptions"\n          ></nxq-select>\n        </div>\n        <div class="side-drawer-form-input-field">\n          <span class="side-drawer-form-input-field__label">{{ \'INVITE_SUPPORTERS\' | translate | uppercase }}</span>\n          <nxq-tags></nxq-tags>\n        </div>\n      </form>\n      <div class="side-drawer-cards">\n        <nz-divider></nz-divider>\n        <h4 class="side-drawer-sub-header">{{ \'CONTENT\' | translate | uppercase }}</h4>\n        <ng-container *ngFor="let suggestionCard of suggestionCardsEdit">\n          <nxq-suggestion-content-card [suggestionCard]="suggestionCard"></nxq-suggestion-content-card>\n        </ng-container>\n      </div>\n    </div>\n    <div class="side-drawer-buttons">\n      <nxq-button [type]="buttonType.PRIMARY" (click)="onCloseEditDrawer()">{{ \'CANCEL\' | translate }}</nxq-button>\n      <nxq-button [type]="buttonType.SECONDARY" (click)="updatePathway()">{{ \'UPDATE\' | translate }}</nxq-button>\n    </div>\n  </div>\n</nz-drawer>\n'},1465:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n  border-bottom: 1px solid #d9d9d9;\n  padding: 0 30px;\n}\n.nxq-cp-ctr-header-content {\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-header-content > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-header-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header__banner img {\n  max-height: 150px;\n}\n.nxq-cp-ctr-body {\n  width: 100%;\n  padding: 0 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-filter-buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter-buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter-buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-section {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-section > * {\n  margin-bottom: 10px;\n}\n.nxq-cp-ctr-body-section > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-content {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content__card {\n  margin-bottom: 20px;\n}\n.side-drawer {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: space-between;\n  align-content: space-between;\n}\n.side-drawer > * {\n  margin-bottom: 20px;\n}\n.side-drawer > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-sub-header {\n  margin-bottom: 10px;\n}\n.side-drawer-content {\n  display: flex;\n  flex-direction: column;\n  overflow: scroll;\n  height: calc(100vh - 150px);\n}\n.side-drawer-content > * {\n  margin-bottom: 10px;\n}\n.side-drawer-content > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-form {\n  display: flex;\n  flex-direction: column;\n}\n.side-drawer-form > * {\n  margin-bottom: 15px;\n}\n.side-drawer-form > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-form-input-field {\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n}\n.side-drawer-form-input-field > * {\n  margin-bottom: 10px;\n}\n.side-drawer-form-input-field > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-form-input-field__label {\n  display: flex;\n  flex-direction: row;\n  font-weight: bold;\n  font-size: 12px;\n  line-height: 13px;\n  color: #aeb3c6;\n}\n.side-drawer-form-input-field__label > * {\n  margin-right: 15px;\n}\n.side-drawer-form-input-field__label > *:last-child {\n  margin-right: 0;\n}\n.side-drawer-cards {\n  display: flex;\n  flex-direction: column;\n}\n.side-drawer-cards > * {\n  margin-bottom: 15px;\n}\n.side-drawer-cards > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-buttons {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n.side-drawer-buttons > * {\n  margin-right: 13px;\n}\n.side-drawer-buttons > *:last-child {\n  margin-right: 0;\n}"},1466:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-learning-header [headerSettings]="headerSettings">\n  <div class="nxq-cp-ctr">\n    <div class="nxq-cp-ctr-body">\n      <div class="nxq-cp-ctr-body-filter">\n        <div></div>\n        \x3c!--        <nxq-list-filters [control]="sortByControl" [options]="sortByOptions"></nxq-list-filters>--\x3e\n        <div class="nxq-cp-ctr-body-filter__buttons">\n          \x3c!--          <nxq-button [type]="buttonType.PRIMARY">See Suggestions</nxq-button>--\x3e\n          \x3c!--          <nxq-button [type]="buttonType.PRIMARY" (click)="onCreatePathway()">Create new pathway</nxq-button>--\x3e\n          <nxq-button [type]="buttonType.MORE"></nxq-button>\n        </div>\n      </div>\n      <div class="nxq-cp-ctr-body-sections">\n        <div class="nxq-cp-ctr-body-section" *ngIf="!!inProgressCards.length">\n          <div class="nxq-cp-ctr-body-section__header">\n            <h2>\n              {{ \'IN_PROGRESS\' | translate }}\n            </h2>\n          </div>\n          <div class="nxq-cp-ctr-body-content">\n            <nxq-legacy-byte-card\n              class="nxq-cp-ctr-body-content__card"\n              *ngFor="let byteCard of inProgressCards"\n              [title]="byteCard.title"\n              [coverImage]="byteCard.coverImage"\n              [externalCourse]="byteCard.externalCourse"\n              [labelCode]="byteCard.labelCode"\n              [ribbon]="byteCard.ribbon"\n              [id]="byteCard.id"\n              [supporter]="byteCard.supporter"\n              [tenantName]="byteCard.tenantName"\n              [tenantLogo]="byteCard.tenantLogo"\n              [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n              [videoThumbnail]="byteCard.videoThumbnail"\n              [bookmark]="byteCard.bookmark"\n              [channel]="byteCard.channel"\n              [channelMessage]="byteCard.channelMessage"\n              [showProgress]="false"\n              [videoUrl]="byteCard.videoUrl"\n              (bookmarked)="onBookmark($event)"\n              (connected)="onConnect(byteCard.channel)"\n              (getDetails)="openContentDetails(byteCard.id, byteCard.externalCourse)"\n              (getProgress)="onProgressChange($event, byteCard.id)"\n            ></nxq-legacy-byte-card>\n          </div>\n        </div>\n        <div class="nxq-cp-ctr-body-section" *ngIf="!!completedCards.length">\n          <div class="nxq-cp-ctr-body-section__header">\n            <h2>\n              {{ \'COMPLETED\' | translate }}\n            </h2>\n          </div>\n          <div class="nxq-cp-ctr-body-content">\n            <nxq-legacy-byte-card\n              class="nxq-cp-ctr-body-content__card"\n              *ngFor="let byteCard of completedCards"\n              [title]="byteCard.title"\n              [coverImage]="byteCard.coverImage"\n              [externalCourse]="byteCard.externalCourse"\n              [labelCode]="byteCard.labelCode"\n              [ribbon]="byteCard.ribbon"\n              [id]="byteCard.id"\n              [supporter]="byteCard.supporter"\n              [tenantName]="byteCard.tenantName"\n              [tenantLogo]="byteCard.tenantLogo"\n              [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n              [videoThumbnail]="byteCard.videoThumbnail"\n              [bookmark]="byteCard.bookmark"\n              [showProgress]="false"\n              [videoUrl]="byteCard.videoUrl"\n              (bookmarked)="onBookmark($event)"\n              (connected)="onConnect(byteCard.channel)"\n              (getDetails)="openContentDetails(byteCard.id, byteCard.externalCourse)"\n              (getProgress)="onProgressChange($event, byteCard.id)"\n            ></nxq-legacy-byte-card>\n          </div>\n        </div>\n        <div class="nxq-cp-ctr-body-section" *ngIf="!!notStartedCards.length">\n          <div class="nxq-cp-ctr-body-section__header">\n            <h2>\n              {{ \'NOT_STARTED\' | translate }}\n            </h2>\n          </div>\n          <div class="nxq-cp-ctr-body-content">\n            <nxq-legacy-byte-card\n              class="nxq-cp-ctr-body-content__card"\n              *ngFor="let byteCard of notStartedCards"\n              [title]="byteCard.title"\n              [coverImage]="byteCard.coverImage"\n              [externalCourse]="byteCard.externalCourse"\n              [labelCode]="byteCard.labelCode"\n              [ribbon]="byteCard.ribbon"\n              [id]="byteCard.id"\n              [supporter]="byteCard.supporter"\n              [tenantName]="byteCard.tenantName"\n              [tenantLogo]="byteCard.tenantLogo"\n              [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n              [videoThumbnail]="byteCard.videoThumbnail"\n              [bookmark]="byteCard.bookmark"\n              [videoUrl]="byteCard.videoUrl"\n              [showProgress]="false"\n              (bookmarked)="onBookmark($event)"\n              (connected)="onConnect(byteCard.channel)"\n              (getDetails)="openContentDetails(byteCard.id, byteCard.externalCourse)"\n              (getProgress)="onProgressChange($event, byteCard.id)"\n            ></nxq-legacy-byte-card>\n          </div>\n        </div>\n      </div>\n      <nxq-empty-state [message]="emptyStateMessage" *ngIf="!isLoading && byteCards && byteCards.length === 0"> </nxq-empty-state>\n      <nz-drawer\n        [nzClosable]="false"\n        [nzVisible]="drawerVisible"\n        nzPlacement="right"\n        [nzWidth]="470"\n        [nzTitle]="drawerTitle"\n        (nzOnClose)="onClose()"\n      >\n        <ng-template #drawerTitle\n          ><h3>{{ \'CREATE_NEW_PATHWAY\' | translate }}</h3></ng-template\n        >\n        <div class="side-drawer" *ngIf="drawerVisible">\n          <div class="side-drawer-form">\n            <div class="side-drawer-form-input-field">\n              <span class="side-drawer-form-input-field__label">{{ \'NAME\' | translate | uppercase }}</span>\n              <nxq-input-master [control]="courseControls.name" [placeholder]="\'NAME\' | translate"></nxq-input-master>\n            </div>\n\n            <div class="side-drawer-form-input-field">\n              <span class="side-drawer-form-input-field__label">{{ \'DESCRIPTION\' | translate | uppercase }}</span>\n              <nxq-input-master\n                type="textarea"\n                [control]="courseControls.description"\n                [placeholder]="\'DESCRIPTION\' | translate"\n              ></nxq-input-master>\n            </div>\n            <div class="side-drawer-form-input-field">\n              <span class="side-drawer-form-input-field__label">{{ \'SKILLS\' | translate | uppercase }}</span>\n              <nxq-select\n                [control]="courseControls.skills"\n                [options]="skillOptions"\n                [mode]="selectMode.MULTIPLE"\n                [placeholder]="\'ENTER_SKILLS\' | translate"\n              ></nxq-select>\n            </div>\n            <div class="side-drawer-form-input-field" *ngIf="action === \'batch\' || action === \'enroll\'">\n              <span class="side-drawer-form-input-field__label">{{ \'BATCH_START_END_DATE\' | translate | uppercase }}</span>\n              <nxq-range-picker [control]="batchControls.range"></nxq-range-picker>\n            </div>\n            <div class="side-drawer-form-input-field" *ngIf="action === \'enroll\'">\n              <div class="side-drawer-form-input-field__label">\n                <span>{{ \'SUPPORTERS\' | translate | uppercase }}</span>\n                <nxq-icon icon="info-circle" nz-tooltip [nzTooltipTitle]="\'SUPPORTERS_ON_PLATFORM\' | translate"></nxq-icon>\n              </div>\n              <nxq-select\n                [control]="enrollControls.supports"\n                [placeholder]="\'SUPPORTERS\' | translate"\n                [mode]="selectMode.MULTIPLE"\n                [options]="usersOptions"\n              ></nxq-select>\n            </div>\n            <div class="side-drawer__input-field">\n              <span class="side-drawer__input-field__label">{{ \'INVITE_SUPPORTERS\' | translate | uppercase }}</span>\n              <nxq-tags (getTags)="emailTags($event)" [tagSet]="outsideEmails"></nxq-tags>\n            </div>\n          </div>\n\n          <div class="side-drawer-buttons">\n            <nxq-button [type]="buttonType.PRIMARY" (click)="onClose()">{{ \'CANCEL\' | translate }}</nxq-button>\n            <nxq-button [type]="buttonType.SECONDARY" (click)="addPathway()">{{ buttonAction }}</nxq-button>\n          </div>\n        </div>\n      </nz-drawer>\n    </div>\n  </div>\n</nxq-learning-header>\n'},1467:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n  border-bottom: 1px solid #d9d9d9;\n  padding: 0 30px;\n}\n.nxq-cp-ctr-header-content {\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-header-content > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-header-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header__banner img {\n  max-height: 150px;\n}\n.nxq-cp-ctr-body {\n  width: 100%;\n  padding: 0 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-sections {\n  margin-top: -50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-sections > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body-sections > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-section {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-section > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body-section > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-content {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content__card {\n  margin-bottom: 20px;\n}\n.side-drawer {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: space-between;\n  align-content: space-between;\n}\n.side-drawer > * {\n  margin-bottom: 20px;\n}\n.side-drawer > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-form {\n  display: flex;\n  flex-direction: column;\n}\n.side-drawer-form > * {\n  margin-bottom: 15px;\n}\n.side-drawer-form > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-form-input-field {\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n}\n.side-drawer-form-input-field > * {\n  margin-bottom: 10px;\n}\n.side-drawer-form-input-field > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawer-form-input-field__label {\n  display: flex;\n  flex-direction: row;\n  font-weight: bold;\n  font-size: 12px;\n  line-height: 13px;\n  color: #aeb3c6;\n}\n.side-drawer-form-input-field__label > * {\n  margin-right: 15px;\n}\n.side-drawer-form-input-field__label > *:last-child {\n  margin-right: 0;\n}\n.side-drawer-buttons {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n.side-drawer-buttons > * {\n  margin-right: 13px;\n}\n.side-drawer-buttons > *:last-child {\n  margin-right: 0;\n}"},1468:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-learning-header [headerSettings]="headerSettings" (tagLineButton)="seeDetails()" *ngIf="!isLoading">\n  <div class="nxq-cp-ctr">\n    <div class="nxq-cp-ctr-body">\n      <div class="nxq-cp-ctr-body-filter" *ngIf="!showIframe">\n        <div class="nxq-cp-ctr-body-filter-buttons">\n          <nxq-button [type]="buttonType.PRIMARY" *ngIf="showIframe" (click)="closeIframe()">{{ \'BACK\' | translate }}</nxq-button>\n          <nxq-button [type]="buttonType.PRIMARY" *ngIf="!showIframe" (click)="goBack()">{{ \'BACK\' | translate }}</nxq-button>\n          <nxq-button *ngIf="!!course.channelName" [type]="buttonType.PRIMARY" (click)="onConnect()">{{\n            \'GO_TO_CHANNEL\' | translate\n          }}</nxq-button>\n        </div>\n        <div class="nxq-cp-ctr-body-filter__buttons">\n          <nxq-button [type]="buttonType.PRIMARY" (click)="switchContent()">{{ resourceButton }}</nxq-button>\n          <nxq-button [type]="buttonType.PRIMARY" (click)="forYou()">{{ \'FOR_YOU\' | translate }}</nxq-button>\n          <nxq-button [type]="buttonType.MORE"></nxq-button>\n        </div>\n      </div>\n      <ng-container *ngIf="headerSettings.tabSetControl.value === \'home\' && !showIframe">\n        <div class="nxq-cp-ctr-body-content">\n          <nxq-collapse\n            *ngFor="let activityCard of activityCardsForUI"\n            class="nxq-cp-ctr-body-content__card"\n            [background]="false"\n            [active]="true"\n          >\n            <div slot="header">\n              <h3>{{ activityCard.name }}</h3>\n            </div>\n            <div slot="content">\n              <div class="collapse-header__content">\n                <div *ngIf="!!activityCard.summary && activityCard.summary !== undefined" class="collapse-header__description">\n                  <span>{{ activityCard.summary ? extractContent(activityCard.summary, true) : \'\' }}</span>\n                </div>\n                <div class="collapse-header__image" *ngIf="!!getImageUrl(activityCard.summary)">\n                  <img [src]="getImageUrl(activityCard.summary)" alt="" />\n                </div>\n              </div>\n              <nxq-activity-card\n                *ngFor="let module of activityCard.modules"\n                [icon]="\'nxq:activity-chat\'"\n                [title]="module.name"\n                [iconUrl]="module.modicon"\n                [description]="module.description ? extractContent(module.description, true) : \'\'"\n                [imageUrl]="getImageUrl(module.description)"\n                [canChangeState]="false"\n                (updateState)="updateActivityStatus($event, module.id)"\n                (getDetails)="openMoodleIframe(module.url)"\n              >\n              </nxq-activity-card>\n            </div>\n            \x3c!--            <div slot="extra">--\x3e\n            \x3c!--              <nxq-progress [percent]="getProgress(activityCard)"></nxq-progress>--\x3e\n            \x3c!--            </div>--\x3e\n          </nxq-collapse>\n        </div>\n      </ng-container>\n      <ng-container *ngIf="headerSettings.tabSetControl.value === \'resource\'">\n        <nxq-resource-card-list [resourceCards]="resourceCards"></nxq-resource-card-list>\n      </ng-container>\n      <ng-container *ngIf="headerSettings.tabSetControl.value !== \'gradebook\' && showIframe">\n        <nxq-moodle [url]="url"></nxq-moodle>\n      </ng-container>\n      <ng-container *ngIf="headerSettings.tabSetControl.value === \'gradebook\' && !showIframe">\n        <nxq-moodle [url]="gradeBookUrl"></nxq-moodle>\n      </ng-container>\n    </div>\n  </div>\n  <nxq-content-details [contentID]="courseId" (drawerVisibility)="closeDrawer()" [drawerVisible]="showDetails"></nxq-content-details>\n</nxq-learning-header>\n<div class="nxq-spinner-cp" *ngIf="isLoading">\n  <nxq-loading></nxq-loading>\n</div>\n'},1469:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n  border-bottom: 1px solid #d9d9d9;\n}\n.nxq-cp-ctr-header-content {\n  padding: 0 30px;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-header-content > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-header-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header__banner img {\n  max-height: 150px;\n}\n.nxq-cp-ctr-body {\n  padding: 0 30px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-filter-buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter-buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter-buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-content__card {\n  width: 100%;\n}\n.nxq-cp-ctr .collapse-header__content {\n  width: 100%;\n  padding-left: 24px;\n  display: flex;\n  flex-direction: row;\n}\n.nxq-cp-ctr .collapse-header__content > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr .collapse-header__content > *:last-child {\n  margin-right: 0;\n}\n.rtl .nxq-cp-ctr .collapse-header__content {\n  padding-left: 0;\n  padding-right: 24px;\n}\n.nxq-cp-ctr .collapse-header__description {\n  font-size: 14px;\n  color: #9aa0b9;\n  line-height: 20px;\n  margin-right: 30px;\n  word-break: break-all;\n}\n.rtl .nxq-cp-ctr .collapse-header__description {\n  margin-right: 0;\n  margin-left: 30px;\n}\n.nxq-cp-ctr .collapse-header__description img {\n  border-radius: 10px;\n  border: 1px solid rgba(174, 179, 198, 0.4);\n}\n.nxq-cp-ctr .collapse-header__image {\n  width: 210px;\n  height: 120px;\n}\n.nxq-cp-ctr .collapse-header__image img {\n  height: 120px;\n  width: 210px;\n  -o-object-fit: cover;\n     object-fit: cover;\n  border-radius: 10px;\n}"},1470:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="nxq-cp-ctr-body">\n  \x3c!--  <div class="nxq-cp-ctr-body-filter">--\x3e\n  \x3c!--    <nxq-list-filters [control]="filterControl" [options]="filterOptions"></nxq-list-filters>--\x3e\n  \x3c!--    <nxq-list-filters [control]="sortByControl" [label]="sortByLabel" [options]="sortByOptions"></nxq-list-filters>--\x3e\n  \x3c!--  </div>--\x3e\n  <div class="nxq-cp-ctr-body-content">\n    <nxq-resource-detail-card\n      class="nxq-cp-ctr-body-content__card"\n      *ngFor="let resourceCard of resourceCards"\n      [id]="resourceCard.id"\n      [resourceName]="resourceCard.resourceName"\n      [description]="resourceCard.description"\n      [createdOn]="resourceCard.createdOn"\n      [resourceImageUrl]="resourceCard.resourceImageUrl"\n      [createdBy]="resourceCard.createdBy"\n      [resourceIcon]="resourceCard.resourceIcon"\n      [downloadUrl]="resourceCard.downloadUrl"\n      (Clicked)="resourceCardClicked($event)"\n    >\n    </nxq-resource-detail-card>\n  </div>\n</div>\n'},1471:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n:host {\n  width: 100%;\n}\n.nxq-cp-ctr-body {\n  padding: 0 30px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-right: 0;\n}"},1472:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="moodle">\n  <ng-container>\n    <div class="moodle-iframe">\n      <iframe #iframe [src]="url | safe" width="100%" height="100%" allowfullscreen></iframe>\n    </div>\n  </ng-container>\n</div>\n'},1473:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n:host {\n  width: 100%;\n}\n.moodle-iframe {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n:host-context(.xs) .moodle-iframe, .xs .moodle-iframe, :host-context(.sm) .moodle-iframe, .sm .moodle-iframe {\n  width: calc(100vw);\n}\niframe {\n  border: none;\n  height: 100vh;\n}\nul {\n  list-style: none;\n}"},1474:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-learning-header [headerSettings]="headerSettings">\n  <div class="nxq-cp-ctr">\n    <div class="nxq-cp-ctr-body">\n      <div class="nxq-cp-ctr-body-filter">\n        <div></div>\n        \x3c!--        <nxq-list-filters [control]="sortByControl" [options]="sortByOptions"></nxq-list-filters>--\x3e\n        <div class="nxq-cp-ctr-body-filter__buttons">\n          \x3c!--          <nxq-button [type]="buttonType.PRIMARY">See Suggestions</nxq-button>--\x3e\n          <nxq-button [type]="buttonType.MORE"></nxq-button>\n        </div>\n      </div>\n      <div class="nxq-cp-ctr-body-sections">\n        <div class="nxq-cp-ctr-body-section" *ngIf="!!inProgressCards.length">\n          <div class="nxq-cp-ctr-body-section__header">\n            <h2>\n              {{ \'IN_PROGRESS\' | translate }}\n            </h2>\n          </div>\n          <div class="nxq-cp-ctr-body-content">\n            <nxq-legacy-byte-card\n              class="nxq-cp-ctr-body-content__card"\n              *ngFor="let byteCard of inProgressCards"\n              [title]="byteCard.title"\n              [coverImage]="byteCard.coverImage"\n              [externalCourse]="byteCard.externalCourse"\n              [labelCode]="byteCard.labelCode"\n              [ribbon]="byteCard.ribbon"\n              [supporter]="byteCard.supporter"\n              [id]="byteCard.id"\n              [tenantName]="byteCard.tenantName"\n              [tenantLogo]="byteCard.tenantLogo"\n              [showProgress]="false"\n              [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n              [videoThumbnail]="byteCard.videoThumbnail"\n              [videoUrl]="byteCard.videoUrl"\n              [bookmark]="byteCard.bookmark"\n              [channel]="byteCard.channel"\n              [channelMessage]="byteCard.channelMessage"\n              (bookmarked)="onBookmark($event)"\n              (connected)="onConnect(byteCard.channel)"\n              (getDetails)="openContentDetails($event, byteCard.externalCourse)"\n              (getProgress)="onProgressChange($event, byteCard.id)"\n            ></nxq-legacy-byte-card>\n          </div>\n        </div>\n        <div class="nxq-cp-ctr-body-section" *ngIf="!!completedCards.length">\n          <div class="nxq-cp-ctr-body-section__header">\n            <h2>\n              {{ \'COMPLETED\' | translate }}\n            </h2>\n          </div>\n          <div class="nxq-cp-ctr-body-content">\n            <nxq-legacy-byte-card\n              class="nxq-cp-ctr-body-content__card"\n              *ngFor="let byteCard of completedCards"\n              [title]="byteCard.title"\n              [coverImage]="byteCard.coverImage"\n              [externalCourse]="byteCard.externalCourse"\n              [labelCode]="byteCard.labelCode"\n              [ribbon]="byteCard.ribbon"\n              [supporter]="byteCard.supporter"\n              [id]="byteCard.id"\n              [tenantName]="byteCard.tenantName"\n              [tenantLogo]="byteCard.tenantLogo"\n              [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n              [videoThumbnail]="byteCard.videoThumbnail"\n              [bookmark]="byteCard.bookmark"\n              [channel]="byteCard.channel"\n              [channelMessage]="byteCard.channelMessage"\n              [showProgress]="false"\n              [videoUrl]="byteCard.videoUrl"\n              (bookmarked)="onBookmark($event)"\n              (connected)="onConnect(byteCard.channel)"\n              (getDetails)="openContentDetails($event, byteCard.externalCourse)"\n              (getProgress)="onProgressChange($event, byteCard.id)"\n            ></nxq-legacy-byte-card>\n          </div>\n        </div>\n        <div class="nxq-cp-ctr-body-section" *ngIf="!!notStartedCards.length">\n          <div class="nxq-cp-ctr-body-section__header">\n            <h2>\n              {{ \'NOT_STARTED\' | translate }}\n            </h2>\n          </div>\n          <div class="nxq-cp-ctr-body-content">\n            <nxq-legacy-byte-card\n              class="nxq-cp-ctr-body-content__card"\n              *ngFor="let byteCard of notStartedCards"\n              [title]="byteCard.title"\n              [coverImage]="byteCard.coverImage"\n              [externalCourse]="byteCard.externalCourse"\n              [labelCode]="byteCard.labelCode"\n              [ribbon]="byteCard.ribbon"\n              [supporter]="byteCard.supporter"\n              [id]="byteCard.id"\n              [tenantName]="byteCard.tenantName"\n              [tenantLogo]="byteCard.tenantLogo"\n              [labelExternalOrInternal]="byteCard.labelExternalOrInternal"\n              [videoThumbnail]="byteCard.videoThumbnail"\n              [channel]="byteCard.channel"\n              [channelMessage]="byteCard.channelMessage"\n              [bookmark]="byteCard.bookmark"\n              [showProgress]="false"\n              [videoUrl]="byteCard.videoUrl"\n              (bookmarked)="onBookmark($event)"\n              (connected)="onConnect(byteCard.channel)"\n              (getDetails)="openContentDetails($event, byteCard.externalCourse)"\n              (getProgress)="onProgressChange($event, byteCard.id)"\n            ></nxq-legacy-byte-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <nxq-empty-state [message]="emptyStateMessage" *ngIf="!isLoading && byteCards && byteCards.length === 0"> </nxq-empty-state>\n</nxq-learning-header>\n'},1475:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body {\n  padding: 0 30px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-filter {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-filter__buttons > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-filter__buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-sections {\n  margin-top: -50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-sections > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body-sections > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-section {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body-section > * {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr-body-section > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-content {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-right: 20px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-right: 0;\n}\n.nxq-cp-ctr-body-content__card {\n  margin-bottom: 20px;\n}\n.nxq-cp-ctr nxq-legacy-byte-card {\n  cursor: pointer;\n}"},1689:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MoodleContentService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_api_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(217),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22);let MoodleContentService=class MoodleContentService{constructor(apiService){this.apiService=apiService}getMoodleContent(baseUrl,moodleCourseId){const data={courseid:moodleCourseId};return this.apiService.post(baseUrl+"/mymoodle/activity.php",data,!1,null,!1).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(res=>res.activities))}getActivityStatus(baseUrl,moodleCourseId,moodleUserId){const data={courseid:moodleCourseId,userid:moodleUserId};return this.apiService.post(baseUrl+"/mymoodle/activity_progress.php",data,!1,null,!1).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(res=>res.statuses))}updateActivityStatus(baseUrl,moodleActivityId,moodleUserId,newstate){const data={cmid:moodleActivityId,userid:moodleUserId,newstate:newstate};return this.apiService.post(baseUrl+"/mymoodle/update_activity.php",data,!1,null,!1)}};MoodleContentService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.f)("design:paramtypes",["function"==typeof(_a=void 0!==_api_service__WEBPACK_IMPORTED_MODULE_2__.a&&_api_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],MoodleContentService)},1697:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FacilitatingModule",(function(){return FacilitatingModule}));var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),common=__webpack_require__(6),shared_module=__webpack_require__(587),public_api=__webpack_require__(12),fesm5_forms=__webpack_require__(5),catalog_service=__webpack_require__(1416),scrolling=__webpack_require__(65),takeUntil=__webpack_require__(29),filter=__webpack_require__(44),take=__webpack_require__(85),distinctUntilChanged=__webpack_require__(79),debounceTime=__webpack_require__(213),unsubscribe=__webpack_require__(216),learning_manager=__webpack_require__(1419),fesm5_router=__webpack_require__(35),catalog_query=__webpack_require__(1420),ng_zorro_antd_message=__webpack_require__(185),common_utils=__webpack_require__(186),privilege_enum=__webpack_require__(47),privilege_utils=__webpack_require__(87),translate_pipe=__webpack_require__(215);let catalog_component_CatalogComponent=class CatalogComponent extends unsubscribe.a{constructor(scrollDispatcher,catalogService,learningManager,catalogQuery,router,datePipe,nzMessageService,ngZone,translatePipe){super(),this.scrollDispatcher=scrollDispatcher,this.catalogService=catalogService,this.learningManager=learningManager,this.catalogQuery=catalogQuery,this.router=router,this.datePipe=datePipe,this.nzMessageService=nzMessageService,this.ngZone=ngZone,this.translatePipe=translatePipe,this.tabGroupType=public_api.p,this.buttonType=public_api.c,this.labelType=public_api.h,this.tabs=[{title:this.translatePipe.transform("PATHWAYS").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.PATHWAYS]},{title:this.translatePipe.transform("COLLECTION").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.COLLECTIONS]},{title:this.translatePipe.transform("CATALOG").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.CATALOG]}].filter(t=>privilege_utils.a.hasViewPrivileges(t.keys)).map(t=>t.title),this.headerSettings={pageTitle:this.translatePipe.transform("FACILITATING"),tabset:this.tabs,breadcrumbs:[{label:this.translatePipe.transform("LEARNING"),url:"learning"},{label:this.translatePipe.transform("CATALOG"),url:"Catalog"}],tabSetControl:new fesm5_forms.FormControl("catalog"),banner:"../assets/images/content-banner.svg",tagLine:this.translatePipe.transform("ALL_PATHWAYS_COLLECTIONS")},this.popupTitle=this.translatePipe.transform("Confirm Subscription"),this.popupContent=this.translatePipe.transform("PLEASE_SELECT_BATCH_CONFIRM"),this.cancelText=this.translatePipe.transform("CANCEL"),this.okText=this.translatePipe.transform("CONFIRM"),this.addDrawerVisible=!0,this.controlBatch=new fesm5_forms.FormControl(null),this.optionsBatch=[],this.isLoading=!0,this.controls={selected_type:new fesm5_forms.FormControl("all"),selected_level:new fesm5_forms.FormControl("all"),selected_effort:new fesm5_forms.FormControl("all"),selected_filter:new fesm5_forms.FormControl("all"),selected_sort:new fesm5_forms.FormControl("default"),skills_ids:new fesm5_forms.FormControl([]),subjects_ids:new fesm5_forms.FormControl([]),search_query:new fesm5_forms.FormControl},this.form=new fesm5_forms.FormGroup(this.controls),this.filterOptions=[{value:"all",label:this.translatePipe.transform("ALL")}],this.sortByOptions=[{value:"default",label:this.translatePipe.transform("DEFAULT")}],this.catalogCards=[],this.suggestionCards=[],this.optionsSkills=[],this.optionsSubjects=[]}ngOnInit(){this.headerSettings.tabSetControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(value=>{"catalog"===value?this.router.navigate(["dashboard/facilitating/catalog"]).then():"saved"===value?this.router.navigate(["dashboard/facilitating/saved"]).then():"recommended"===value?this.router.navigate(["dashboard/facilitating/recommended"]).then():"pathway"===value?this.router.navigate(["dashboard/facilitating/pathway"]).then():this.router.navigate(["dashboard/facilitating/collection"]).then()}),this.scrollDispatcher.scrolled().pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(()=>!!this.virtualScrollViewport&&this.virtualScrollViewport.measureScrollOffset("bottom")<=200)).subscribe(event=>{this.ngZone.run(()=>this.loadMore())}),this.getFilters(),this.setUpFilters(),this.catalogQuery.$isAllCatalogLoading.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(l=>{this.isLoading=l}),this.catalogQuery.getAllCatalog().pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(catalogs=>{let offset;console.log("ts",catalogs),this.catalogCards.length>0&&catalogs.length>0&&this.virtualScrollViewport&&(offset=this.virtualScrollViewport.measureScrollOffset("top"));const _catalogCards=[];catalogs.forEach(card=>{let imageUrl="./assets/placeholder.svg";card.imageUrl!==[]&&void 0!==card.imageUrl&&(imageUrl=card.imageUrl[0]);const description=common_utils.a.extractContent(card.description,!0);_catalogCards.push({id:card.id,level:card.level,type:card.contentType,title:card.name,minutes:card.minutes,completedBy:card.completedBy,skills:card.skills,coverImage:imageUrl,providerLogo:card.providerLogo,bookmark:card.saved,description:description})}),this.catalogCards=[..._catalogCards],console.log("cards are",this.catalogCards.map(card=>card.id).join())})}saveCard(id){this.learningManager.updateCatalog(id).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(()=>{console.log("success")})}showDetails(id){this.addDrawerVisible=!0,this.learningManager.getCatalogById(id).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(result=>{this.catalogDetails=result,console.log("catalogdetails",this.catalogDetails),void 0!==result.enrollmentMethod&&(this.enrollButton=3!==this.catalogDetails.enrollmentMethod.id?this.translatePipe.transform("SUBSCRIBE"):this.translatePipe.transform("ENROLL")),this.optionsBatch=[],void 0!==result.batchList&&(result.batchList.forEach(batch=>{this.optionsBatch.push({label:batch.batchName+" from "+this.datePipe.transform(batch.batchStartDate,"yyyy/MM/dd"),value:batch.id.toString()})}),console.log("batches",this.optionsBatch))})}onCloseSubscribeDrawer(){this.addDrawerVisible=!1}levelIcon(level){return"Introductory"===level?"nxq:level-introductory":"Intermediate"===level?"nxq:level-intermediate":"nxq:level-advanced"}typeIcon(contentType){return"Byte"===contentType?"nxq:bytes":"nxq:pathways"}loadCatalog(){this.learningManager.getAllCatalogs().pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(),this.catalogQuery.$isAllCatalogLoading.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(l=>{this.isLoading=l})}loadMore(){this.isLoading||this.learningManager.getAllCatalogs(this.catalogCards.length).pipe(Object(take.a)(1)).subscribe()}setUpFilters(){this.form.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$),Object(distinctUntilChanged.a)(),Object(debounceTime.a)(500)).subscribe(data=>{console.log(data),this.learningManager.setAllCatalogFilters(Object.assign({},data)),this.loadCatalog()})}getFilters(){this.catalogService.getAllCatalogFilters().subscribe(result=>{console.log(result),result.skills.forEach(skill=>{this.optionsSkills.push({label:skill.title,value:skill.id.toString()})}),result.subjects.forEach(subject=>{this.optionsSubjects.push({value:subject.subject,label:subject.subject})}),result.sorting.forEach(sort=>{this.sortByOptions.push({label:sort,value:sort})}),result.contentTypes.forEach(_filter=>{this.filterOptions.push({label:_filter.type,value:_filter.type})}),console.log(this.sortByOptions)})}confirm(){if(this.controlBatch.value)if("Subscribe"===this.enrollButton)console.log(this.controlBatch.value),this.learningManager.subscribeBatch(this.controlBatch.value).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(data=>{console.log("subscribe",data),this.nzMessageService.success(this.translatePipe.transform("SUBSCRIPTIONS_UPDATED_SUCCESSFULLY")),this.addDrawerVisible=!1});else{const data={course:{id:this.catalogDetails.id},batch:{id:this.controlBatch.value}};this.catalogService.showInterest(data).pipe(Object(take.a)(1),Object(takeUntil.a)(this._destroyed$)).subscribe(result=>{this.nzMessageService.info(this.translatePipe.transform("INTEREST_UPDATED_SUCCESSFULLY"))})}else this.nzMessageService.info(this.translatePipe.transform("PLEASE_SELECT_BATCH"))}cancel(){}searchQueryChanged($event){}};Object(tslib_es6.c)([Object(core.ViewChild)(scrolling.a),Object(tslib_es6.f)("design:type","function"==typeof(_a=void 0!==scrolling.a&&scrolling.a)?_a:Object)],catalog_component_CatalogComponent.prototype,"virtualScrollViewport",void 0),catalog_component_CatalogComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-catalog",template:(__webpack_require__(1462).default||__webpack_require__(1462)).length?__webpack_require__(1462).default||__webpack_require__(1462):"",styles:[(__webpack_require__(1463).default||__webpack_require__(1463)).length?__webpack_require__(1463).default||__webpack_require__(1463):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_b=void 0!==scrolling.b&&scrolling.b)?_b:Object,"function"==typeof(_c=void 0!==catalog_service.a&&catalog_service.a)?_c:Object,"function"==typeof(_d=void 0!==learning_manager.a&&learning_manager.a)?_d:Object,"function"==typeof(_e=void 0!==catalog_query.a&&catalog_query.a)?_e:Object,"function"==typeof(_f=void 0!==fesm5_router.i&&fesm5_router.i)?_f:Object,"function"==typeof(_g=void 0!==common.d&&common.d)?_g:Object,"function"==typeof(_h=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?_h:Object,"function"==typeof(_j=void 0!==core.NgZone&&core.NgZone)?_j:Object,"function"==typeof(_k=void 0!==translate_pipe.a&&translate_pipe.a)?_k:Object])],catalog_component_CatalogComponent);var pathway_details_component_a,pathway_details_component_b,pathway_details_component_c,pathway_details_component_d,pathway_details_component_e,pathway_details_component_f,pathway_details_component_g,bytes_service=__webpack_require__(1428),pathway_manager=__webpack_require__(1426),pathway_query=__webpack_require__(1424),utils=__webpack_require__(586),constants_enum=__webpack_require__(1413);let pathway_details_component_PathwayDetailsComponent=class PathwayDetailsComponent extends unsubscribe.a{constructor(router,route,pathwayService,pathwayManger,pathwayQuery,location,translatePipe){super(),this.router=router,this.route=route,this.pathwayService=pathwayService,this.pathwayManger=pathwayManger,this.pathwayQuery=pathwayQuery,this.location=location,this.translatePipe=translatePipe,this.buttonType=public_api.c,this.showDetails=!1,this.tabs=[{title:this.translatePipe.transform("HOME").toLowerCase(),keys:[privilege_enum.a.FACILITATING_PATHWAY,privilege_enum.a.HOME]}].filter(t=>privilege_utils.a.hasViewPrivileges(t.keys)).map(t=>t.title),this.headerSettings={pageTitle:this.translatePipe.transform("LEARNING"),tabset:this.tabs,breadcrumbs:[{label:this.translatePipe.transform("LEARNING"),url:"learning"},{label:this.translatePipe.transform("PATHWAY"),url:"pathway"}],tabSetControl:new fesm5_forms.FormControl("home"),tagLine:null,tagLineButton:this.translatePipe.transform("SEE_DETAILS"),banner:"",isByte:!0},this.sortByControl=new fesm5_forms.FormControl(null),this.sortByOptions=[{label:this.translatePipe.transform("IN_PROGRESS"),value:"in-progress"},{label:this.translatePipe.transform("POPULARITY"),value:"Popularity"},{label:this.translatePipe.transform("RATING"),value:"Rating"},{label:this.translatePipe.transform("VIEWS"),value:"Views"}],this.notEnrolledByteCards=[],this.enrolledByteCards=[],this.allCards=[],this.controls={name:new fesm5_forms.FormControl(""),description:new fesm5_forms.FormControl(""),skills:new fesm5_forms.FormControl([]),range:new fesm5_forms.FormControl(null),supports:new fesm5_forms.FormControl([])},this.form=new fesm5_forms.FormGroup(this.controls),this.editDrawerVisible=!1,this.selectMode=public_api.o,this.skillsOptions=[{value:"xyz",label:"xyz"},{value:"abx",label:"abx"},{value:"bfa",label:"bfa"},{value:"sad",label:"sad"}],this.suggestionCardsEdit=[{id:1,tenantLogo:"https://demo-minio.nexquare.io/assets/google_PNG19635.png",completedBy:{givenName:"Matt Damon",imageUrl:"https://demo-minio.nexquare.io/user-profile/126.jpeg",otherUsersCount:1,userId:126},timeInterval:"",title:"21st Century Learning of the artific...",minutes:10,typeLabel:"bytes",tenantName:"Google",bookmarked:!1}],this.addDrawerVisible=!1,this.tabSetControlAddDrawer=new fesm5_forms.FormControl("suggestions"),this.tabGroupType=public_api.p,this.suggestionCardsAdd=[{id:1,tenantLogo:"https://demo-minio.nexquare.io/assets/google_PNG19635.png",completedBy:{givenName:"Matt Damon",imageUrl:"https://demo-minio.nexquare.io/user-profile/126.jpeg",otherUsersCount:1,userId:126},timeInterval:"",title:"21st Century Learning of the artific...",minutes:10,typeLabel:"bytes",tenantName:"Google",bookmarked:!1}],this.isLoading=!0}ngOnInit(){this.pathwayId=this.route.snapshot.paramMap.get("pathwayId"),this.courseId=+this.route.snapshot.paramMap.get("pathwayId").split("-")[0],this.pathwayQuery.selectIsLoading$.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(l=>{this.isLoading=l,console.log(this.isLoading)}),this.pathwayManger.getPathwayById(this.pathwayId).pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(v=>!!v&&v.id===this.pathwayId)).subscribe(data=>{this.pathway=data,this.headerSettings=Object.assign(Object.assign({},this.headerSettings),{pageTitle:data.name,tagLine:data.batchName,banner:data.providerLogo?data.providerLogo:""}),console.log("result",data),this.pathwayService.getPathwayCourses(data.enrollmentId).pipe(Object(take.a)(1),Object(takeUntil.a)(this._destroyed$)).subscribe(pathway=>{this.allCards=pathway.pathwayCourses,this.notEnrolledByteCards=[...pathway.pathwayCourses].filter(byte=>void 0===byte.enrollmentId||null===byte.enrollmentId).map(byte=>{let external=!1;byte.deliveryMethod===constants_enum.a.OUTSIDE&&(external=!0);let image="./assets/placeholder.svg";byte.imageUrls!==[]&&void 0!==byte.imageUrls&&(image=byte.imageUrls[0]);let videoThumbnail=!1;return byte.videoUrl&&(videoThumbnail=!0),{id:byte.id,coverImage:image,labelCode:byte.shortCode,title:byte.name,tenantName:byte.providerName,tenantLogo:byte.providerLogo,progress:byte.progress,externalCourse:external,ribbon:byte.byteObject.type,labelExternalOrInternal:byte.providerName,videoThumbnail:videoThumbnail,bookmark:byte.bookmark,videoUrl:byte.videoUrl,contentUrl:byte.contentUrl}}),this.enrolledByteCards=[...pathway.pathwayCourses].filter(byte=>void 0!==byte.enrollmentId&&null!==byte.enrollmentId).map(byte=>{let external=!1;byte.deliveryMethod===constants_enum.a.OUTSIDE&&(external=!0);let image="./assets/placeholder.svg";byte.imageUrls!==[]&&void 0!==byte.imageUrls&&(image=byte.imageUrls[0]);let videoThumbnail=!1;return byte.videoUrl&&(videoThumbnail=!0),{id:byte.id,coverImage:image,labelCode:byte.shortCode,title:byte.name,tenantName:byte.providerName,tenantLogo:byte.providerLogo,progress:byte.progress,externalCourse:external,ribbon:byte.byteObject.type,labelExternalOrInternal:byte.providerName,supporter:byte.role.privilegeSubType.name,videoThumbnail:videoThumbnail,bookmark:byte.bookmark,videoUrl:byte.videoUrl,contentUrl:byte.contentUrl,channel:byte.channelName}})})})}onConnect(channel){this.router.navigate(["dashboard","connect"],{state:{channel:channel}}).then(r=>{})}onBookmark($event){}onEditDrawerClose(){this.editDrawerVisible=!1}onEditPathway(){this.editDrawerVisible=!0}onAddPathway(){this.addDrawerVisible=!0}onCloseEditDrawer(){this.editDrawerVisible=!1}updatePathway(){}onCloseAddDrawer(){this.addDrawerVisible=!1}openContentDetails(id,mode,deliveryMethod){const card=this.allCards.find(v=>v.id===id),contentId=card.id+"-"+card.batchId+"-"+card.role.id;if(console.log(deliveryMethod),deliveryMethod)utils.a.openExternalUrl(card.contentUrl);else{const route=this.router.url;this.router.navigate([route,contentId,mode.toLocaleLowerCase()]).then(r=>{})}}goBack(){this.location.back()}seeDetails(){this.showDetails=!0}closeDrawer(){this.showDetails=!1}goChannel(){this.router.navigate(["dashboard","connect"],{state:{channel:this.pathway.channelName}}).then(r=>{})}};pathway_details_component_PathwayDetailsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-pathway-details",template:(__webpack_require__(1464).default||__webpack_require__(1464)).length?__webpack_require__(1464).default||__webpack_require__(1464):"",styles:[(__webpack_require__(1465).default||__webpack_require__(1465)).length?__webpack_require__(1465).default||__webpack_require__(1465):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(pathway_details_component_a=void 0!==fesm5_router.i&&fesm5_router.i)?pathway_details_component_a:Object,"function"==typeof(pathway_details_component_b=void 0!==fesm5_router.a&&fesm5_router.a)?pathway_details_component_b:Object,"function"==typeof(pathway_details_component_c=void 0!==bytes_service.a&&bytes_service.a)?pathway_details_component_c:Object,"function"==typeof(pathway_details_component_d=void 0!==pathway_manager.a&&pathway_manager.a)?pathway_details_component_d:Object,"function"==typeof(pathway_details_component_e=void 0!==pathway_query.a&&pathway_query.a)?pathway_details_component_e:Object,"function"==typeof(pathway_details_component_f=void 0!==common.g&&common.g)?pathway_details_component_f:Object,"function"==typeof(pathway_details_component_g=void 0!==translate_pipe.a&&translate_pipe.a)?pathway_details_component_g:Object])],pathway_details_component_PathwayDetailsComponent);var pathway_component_a,pathway_component_b,pathway_component_c,pathway_component_d,pathway_component_e,pathway_component_f,pathway_component_g,pathway_component_h,course_manager=__webpack_require__(1407),account_manager=__webpack_require__(218),batch_manager=__webpack_require__(1418),batches_service=__webpack_require__(1406);let pathway_component_PathwayComponent=class PathwayComponent extends unsubscribe.a{constructor(pathwayManager,accountManager,pathwayQuery,courseManager,batchManager,batchesService,router,translatePipe){super(),this.pathwayManager=pathwayManager,this.accountManager=accountManager,this.pathwayQuery=pathwayQuery,this.courseManager=courseManager,this.batchManager=batchManager,this.batchesService=batchesService,this.router=router,this.translatePipe=translatePipe,this.tabs=[{title:this.translatePipe.transform("PATHWAYS").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.PATHWAYS]},{title:this.translatePipe.transform("COLLECTION").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.COLLECTIONS]},{title:this.translatePipe.transform("CATALOG").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.CATALOG]}].filter(t=>privilege_utils.a.hasViewPrivileges(t.keys)).map(t=>t.title),this.headerSettings={pageTitle:this.translatePipe.transform("FACILITATING"),tabset:this.tabs,breadcrumbs:[{label:this.translatePipe.transform("LEARNING"),url:"learning"},{label:this.translatePipe.transform("PATHWAYS"),url:"pathways"}],tabSetControl:new fesm5_forms.FormControl("pathways"),banner:"../assets/images/content-banner.svg",tagLine:this.translatePipe.transform("ALL_PATHWAYS_COLLECTIONS")},this.buttonType=public_api.c,this.tabSetControl=new fesm5_forms.FormControl("home"),this.sortByControl=new fesm5_forms.FormControl(null),this.sortByOptions=[{label:this.translatePipe.transform("IN_PROGRESS"),value:"in-progress"},{label:this.translatePipe.transform("POPULARITY"),value:"Popularity"},{label:this.translatePipe.transform("RATING"),value:"Rating"},{label:this.translatePipe.transform("VIEWS"),value:"Views"}],this.byteCards=[],this.inProgressCards=[],this.completedCards=[],this.notStartedCards=[],this.courseControls={name:new fesm5_forms.FormControl("",fesm5_forms.Validators.required),description:new fesm5_forms.FormControl("",fesm5_forms.Validators.required),skills:new fesm5_forms.FormControl([],fesm5_forms.Validators.required)},this.batchControls={range:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required)},this.enrollControls={supports:new fesm5_forms.FormControl([],fesm5_forms.Validators.required)},this.tagInputControl=new fesm5_forms.FormControl("",fesm5_forms.Validators.email),this.courseForm=new fesm5_forms.FormGroup(this.courseControls),this.batchForm=new fesm5_forms.FormGroup(this.batchControls),this.enrollForm=new fesm5_forms.FormGroup(this.enrollControls),this.drawerVisible=!1,this.selectMode=public_api.o,this.skillOptions=[],this.usersOptions=[],this.action="pathway",this.buttonAction=this.translatePipe.transform("NEXT"),this.emptyStateMessage="You are currently not facilitating any learner."}ngOnInit(){this.enrollForm.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>console.log(res)),this.headerSettings.tabSetControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(value=>{"catalog"===value?this.router.navigate(["dashboard/facilitating/catalog"]).then():"pathways"===value?this.router.navigate(["dashboard/facilitating/pathways"]).then():this.router.navigate(["dashboard/facilitating/collection"]).then()}),this.getFilterOptions(),this.pathwayQuery.selectIsLoading$.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(l=>{this.isLoading=l,console.log(this.isLoading)}),this.pathwayManager.pathwayList(!0).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(data=>{this.byteCards=[...data].filter(card=>"Content"===card.role.privilegeRole.name).filter(card=>"Learner"!==card.role.privilegeSubType.name).map(byte=>{let external=!1;byte.deliveryMethod===constants_enum.a.OUTSIDE&&(external=!0);let imageUrl="./assets/placeholder.svg";byte.imageUrls!==[]&&void 0!==byte.imageUrls&&(imageUrl=byte.imageUrls[0]);let videoThumbnail=!1;return byte.videoUrl&&(videoThumbnail=!0),{id:byte.id,coverImage:byte.imageUrls[0],labelCode:byte.shortCode,title:byte.name,tenantName:byte.providerName,tenantLogo:byte.providerLogo,progress:byte.progress,externalCourse:external,ribbon:byte.byteObject.type,labelExternalOrInternal:byte.providerName,videoThumbnail:videoThumbnail,bookmark:byte.bookmark,contentUrl:byte.contentUrl,supporter:byte.role.privilegeSubType.name,channel:byte.channelName,videoUrl:byte.videoUrl,channelMessage:byte.unReadMsgs}}),this.inProgressCards=[...this.byteCards].filter(card=>card.progress>0&&card.progress<100),this.completedCards=[...this.byteCards].filter(card=>100===card.progress),this.notStartedCards=[...this.byteCards].filter(card=>0===card.progress)}),this.accountManager.getAccount().pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(u=>!!u)).subscribe(user=>{this.profileLogo=user.imageUrl,this.profileName=user.firstName+" "+user.lastName})}onBookmark(id){this.pathwayQuery.selectEntity(id).pipe(Object(take.a)(1)).subscribe(data=>{console.log(data);const bookmark=!data.bookmark,enrolmentId=data.enrollmentId;this.pathwayManager.updateBookmark(id,enrolmentId,bookmark).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(()=>{console.log("success")})})}onProgressChange(progress,id){this.pathwayQuery.selectEntity(id).pipe(Object(take.a)(1)).subscribe(data=>{const enrolmentId=data.enrollmentId;this.pathwayManager.updateProgress(id,enrolmentId,progress).subscribe(()=>{console.log("success")})})}openContentDetails(id,deliveryMethod){const card=this.byteCards.filter(v=>v.id===id)[0];console.log(card),deliveryMethod?utils.a.openExternalUrl(card.contentUrl):this.router.navigate(["dashboard/facilitating/pathways",id]).then(r=>{})}onConnect(channel){this.router.navigate(["dashboard","connect"],{state:{channel:channel}}).then(r=>{})}onCreatePathway(){this.drawerVisible=!0}onClose(){this.drawerVisible=!1,this.courseForm.reset(),this.batchForm.reset(),this.enrollForm.reset()}makeId(length){let result="";const characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",charactersLength=characters.length;for(let i=0;i<length;i++)result+=characters.charAt(Math.floor(Math.random()*charactersLength));return result}getFilterOptions(){this.courseManager.getCourseSkillsOptions().pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(res=>!!res)).subscribe(res=>{this.skillOptions=res.map(option=>({label:option.title,value:option.title}))}),this.batchesService.getAllTenantUsers().pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{console.log("all users"+res);const userData=[...res.users.filter(user=>6!==user.userId)];this.usersOptions=userData.map(user=>({value:user.userId,label:user.userName}))})}addPathway(){if("pathway"===this.action){if(this.courseForm.valid){const data=Object.assign(Object.assign({},this.courseForm.value),{shortCode:this.makeId(8),providerName:this.profileName,tableOfContents:"Random content",contentType:"User Created Pathway",timeCommittment:"20:20",visibility:"Private",showGradeBook:!1,groupNeeded:!1,deliveryMethod:!1,validity:"Life Long",learningContentLevel:"Introductory",instructorType:"Instructor Led",enrollmentMethod:"Self",paymentMethod:"Free",channelRequired:!1,contentSubscriptionNature:"Tenant Dependent",providerLogo:this.profileLogo,images:[{imageURL:"https://demo-minio.nexquare.io/learning-content/obertraun-5007673_1920.jpg"}],videoURL:null,learningObjectives:null,prerequisite:"",auidence:"",amount:null,deliveryURL:"",subjects:[],currency:null,channelValidity:"",entityIssuer:null,awardBadge:!1,instructionLanguage:null,channelLifetime:null,competency:!1});this.courseManager.createCourse(data).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{console.log("user created pathway",res),this.courseDetails=res,this.courseForm.disable(),this.action="batch"})}}else if("batch"===this.action){if(this.batchForm.valid){const batchData={name:"Batch-"+this.courseDetails.shortCode,shortCode:this.courseDetails.shortCode,course_period:this.batchControls.range.value,enrollment_period:this.batchControls.range.value,role:""};this.batchManager.createBatch(this.courseDetails.id,batchData).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{console.log("user created batch",res),this.batchDetails=res,this.courseManager.updateCourseStatus(this.batchDetails.id,"Completed, Live"),this.batchForm.disable(),this.action="enroll"})}}else if("enroll"===this.action&&this.enrollForm.valid){const selectedUser=this.enrollControls.supports.value,enrollUserData=[];selectedUser&&(enrollUserData.push({user:{id:6},role:{id:36}}),selectedUser.forEach(id=>{enrollUserData.push({user:{id:id},role:{id:36}})}));const outsideEnroll=[];this.outsideEmails&&this.outsideEmails.forEach(email=>{outsideEnroll.push({email:email,batch:{id:this.batchDetails.id},learningContent:{id:this.courseDetails.id},role:{id:36}})}),this.batchesService.enrollBatchUserFromSameTenant(this.batchDetails.id,enrollUserData).subscribe(res=>{console.log("enrolled supports",res),this.pathwayManager.pathwayList(!0),this.onClose()}),this.batchesService.addSupporters(outsideEnroll).subscribe(res=>{})}}emailTags(emails){this.outsideEmails=emails,console.log(emails)}};pathway_component_PathwayComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-pathway",template:(__webpack_require__(1466).default||__webpack_require__(1466)).length?__webpack_require__(1466).default||__webpack_require__(1466):"",styles:[(__webpack_require__(1467).default||__webpack_require__(1467)).length?__webpack_require__(1467).default||__webpack_require__(1467):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(pathway_component_a=void 0!==pathway_manager.a&&pathway_manager.a)?pathway_component_a:Object,"function"==typeof(pathway_component_b=void 0!==account_manager.a&&account_manager.a)?pathway_component_b:Object,"function"==typeof(pathway_component_c=void 0!==pathway_query.a&&pathway_query.a)?pathway_component_c:Object,"function"==typeof(pathway_component_d=void 0!==course_manager.a&&course_manager.a)?pathway_component_d:Object,"function"==typeof(pathway_component_e=void 0!==batch_manager.a&&batch_manager.a)?pathway_component_e:Object,"function"==typeof(pathway_component_f=void 0!==batches_service.a&&batches_service.a)?pathway_component_f:Object,"function"==typeof(pathway_component_g=void 0!==fesm5_router.i&&fesm5_router.i)?pathway_component_g:Object,"function"==typeof(pathway_component_h=void 0!==translate_pipe.a&&translate_pipe.a)?pathway_component_h:Object])],pathway_component_PathwayComponent);var course_details_component_a,course_details_component_b,course_details_component_c,course_details_component_d,course_details_component_e,course_details_component_f,course_details_component_g,course_details_component_h,course_details_component_j,subscribed_manager=__webpack_require__(1411),subscribed_query=__webpack_require__(1409),moodle_content_service=__webpack_require__(1689),account_query=__webpack_require__(227),ng_zorro_antd_core_util=__webpack_require__(3),forkJoin=__webpack_require__(569);let course_details_component_CourseDetailsComponent=class CourseDetailsComponent extends unsubscribe.a{constructor(subscribedManager,subscribedQuery,accountManager,accountQuery,route,moodleService,router,location,translatePipe){super(),this.subscribedManager=subscribedManager,this.subscribedQuery=subscribedQuery,this.accountManager=accountManager,this.accountQuery=accountQuery,this.route=route,this.moodleService=moodleService,this.router=router,this.location=location,this.translatePipe=translatePipe,this.showDetails=!1,this.tabs=[{title:this.translatePipe.transform("HOME").toLowerCase(),keys:[privilege_enum.a.FACILITATING_COURSE_ASSESSMENT,privilege_enum.a.Activities_Resources]},{title:this.translatePipe.transform("GRADEBOOK").toLowerCase(),keys:[privilege_enum.a.FACILITATING_COURSE_ASSESSMENT,privilege_enum.a.GRADEBOOK]}].filter(t=>privilege_utils.a.hasViewPrivileges(t.keys)).map(t=>t.title),this.headerSettings={pageTitle:this.translatePipe.transform("COURSE_ACTIVITY"),tabset:this.tabs,breadcrumbs:[{label:this.translatePipe.transform("LEARNING"),url:"learning"},{label:this.translatePipe.transform("SUBSCRIBED"),url:"subscribed"},{label:this.translatePipe.transform("ACTIVITY"),url:"activity"}],tabSetControl:new fesm5_forms.FormControl("home"),tagLine:null,tagLineButton:this.translatePipe.transform("SEE_DETAILS"),banner:"",isByte:!0},this.buttonType=public_api.c,this.filterControl=new fesm5_forms.FormControl(null),this.filterOptions=[{label:this.translatePipe.transform("ALL"),value:"All"},{label:this.translatePipe.transform("COMPLETED"),value:"Completed"},{label:this.translatePipe.transform("COMPUTER_ENGG"),value:"Computer Engineering"}],this.sortByControl=new fesm5_forms.FormControl(null),this.sortByLabel=this.translatePipe.transform("SORT_BY").toLowerCase(),this.sortByOptions=[{label:this.translatePipe.transform("PROGRESS"),value:"Progress"},{label:this.translatePipe.transform("POPULARITY"),value:"Popularity"},{label:this.translatePipe.transform("RATING"),value:"Rating"},{label:this.translatePipe.transform("VIEWS"),value:"Views"}],this.resource=[],this.activityCards=[],this.activityCardsForUI=[],this.isOnlyResource=!1,this.resourceButton=this.translatePipe.transform("SHOW_ONLY_RES"),this.activityStatus=[],this.activityForm=new fesm5_forms.FormGroup({}),this.control=new fesm5_forms.FormControl(!0),this.canChangeState=!1,this.resourceCards=[]}ngOnInit(){this.byteId=this.route.snapshot.paramMap.get("id"),this.courseId=+this.route.snapshot.paramMap.get("id").split("-")[0],this.mode=this.route.snapshot.paramMap.get("mode"),this.subscribedQuery.selectIsLoading$.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(l=>{this.isLoading=l,console.log(this.isLoading)}),this.accountManager.getAccount().pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(u=>!!u)).subscribe(user=>{this.user=user}),this.subscribedManager.getsubscribedById(this.byteId).pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(v=>!!v)).subscribe(data=>{this.course=data,this.gradeBookUrl=`${data.contentUrl}/grade/report/grader/index.php?id=${data.byteObject.id}`;common_utils.a.extractContent(data.description,!0);this.headerSettings=Object.assign(Object.assign({},this.headerSettings),{pageTitle:data.name,tagLine:data.batchName,banner:data.providerLogo?data.providerLogo:""}),this.isInsideNexquare=data.deliveryMethod!==constants_enum.a.OUTSIDE,this.url=data.contentUrl,Object(forkJoin.a)({activityProgress:this.moodleService.getActivityStatus(data.contentUrl,data.byteObject.id,+this.user.meta.moodleId),activity:this.moodleService.getMoodleContent(data.contentUrl,data.byteObject.id)}).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(value=>{console.log(value),this.activityStatus=value.activityProgress,this.activityForm=this.getControls(value.activityProgress,"cmid"),this.activityCards=[...value.activity],this.activityCardsForUI=[...value.activity],value.activity.forEach(result=>{result.modules.filter(f=>"Resource"===f.contenttype).forEach(module=>{const milliseconds=1e3*module.contents[0].timecreated;let resourceImageUrl=this.getImageUrl(module.description);resourceImageUrl||(resourceImageUrl="./assets/placeholder.svg");let desc="";module.description&&(desc=this.extractContent(module.description,!0)),this.resourceCards.push({id:module.id,resourceName:module.name,resourceIcon:module.modicon,resourceProvider:"",createdBy:module.contents[0].author,createdOn:new Date(milliseconds),description:desc,resourceImageUrl:resourceImageUrl,downloadUrl:module.contents[0].fileurl})})})})})}onConnect(){this.router.navigate(["dashboard","connect"],{state:{channel:this.course.channelName}}).then(r=>{})}onBookmark($event){}openMoodleIframe(url){this.url=url,this.showIframe=!0}closeIframe(){this.showIframe=!1,this.url=null}extractContent(s,space){const span=document.createElement("span");if(span.innerHTML=s,space){const children=span.querySelectorAll("*"),_length=children.length;for(let i=0;i<_length;i++)children[i].textContent,children[i].textContent+=" "}return[span.textContent||span.innerText].toString().replace(/ +/g," ")}getImageUrl(value){const parsedHtml=(new DOMParser).parseFromString(value,"text/html");return parsedHtml.images[0]?parsedHtml.images[0].src:""}goBack(){this.location.back()}seeDetails(){this.showDetails=!0}closeDrawer(){this.showDetails=!1}forYou(){this.router.navigate(["dashboard","base","for-you"]).then(r=>{})}switchContent(){this.isOnlyResource?(this.isOnlyResource=!this.isOnlyResource,this.resourceButton=this.translatePipe.transform("SHOW_ONLY_RES"),this.activityCardsForUI=[...this.activityCards]):(this.isOnlyResource=!this.isOnlyResource,this.resourceButton=this.translatePipe.transform("SHOW_ALL"),this.activityCardsForUI=[...this.activityCards].map(result=>(console.log("result",result),Object.assign(Object.assign({},result),{modules:result.modules.filter(res=>"Resource"===res.contenttype).map(res=>Object.assign({},res))}))))}getControls(contentArray,key){const form=new fesm5_forms.FormGroup({});return contentArray.forEach(module=>{const value=1===module.state;form.addControl(module[key]+"",new fesm5_forms.FormControl(value))}),form}updateActivityStatus(newstate,moodleActivityId){let state=0;newstate&&(state=1),this.moodleService.updateActivityStatus(this.course.contentUrl,moodleActivityId,+this.user.meta.moodleId,state).pipe(Object(take.a)(1)).subscribe(value=>{console.log("sucess");const act=[...this.activityStatus].filter(f=>f.cmid!==moodleActivityId);this.activityStatus=[...act,value]},error=>{this.activityForm.controls[moodleActivityId].setValue(!newstate)})}getProgress(card){const ids=card.modules.map(r=>r.id),filteredActivity=[...this.activityStatus.filter(f=>ids.includes(f.cmid))];let p=0;return filteredActivity.forEach(a=>{p+=a.state}),Object(ng_zorro_antd_core_util.g)(0,filteredActivity.length,p)}};var resource_card_list_component_a;course_details_component_CourseDetailsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-course-details",template:(__webpack_require__(1468).default||__webpack_require__(1468)).length?__webpack_require__(1468).default||__webpack_require__(1468):"",styles:[(__webpack_require__(1469).default||__webpack_require__(1469)).length?__webpack_require__(1469).default||__webpack_require__(1469):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(course_details_component_a=void 0!==subscribed_manager.a&&subscribed_manager.a)?course_details_component_a:Object,"function"==typeof(course_details_component_b=void 0!==subscribed_query.a&&subscribed_query.a)?course_details_component_b:Object,"function"==typeof(course_details_component_c=void 0!==account_manager.a&&account_manager.a)?course_details_component_c:Object,"function"==typeof(course_details_component_d=void 0!==account_query.a&&account_query.a)?course_details_component_d:Object,"function"==typeof(course_details_component_e=void 0!==fesm5_router.a&&fesm5_router.a)?course_details_component_e:Object,"function"==typeof(course_details_component_f=void 0!==moodle_content_service.a&&moodle_content_service.a)?course_details_component_f:Object,"function"==typeof(course_details_component_g=void 0!==fesm5_router.i&&fesm5_router.i)?course_details_component_g:Object,"function"==typeof(course_details_component_h=void 0!==common.g&&common.g)?course_details_component_h:Object,"function"==typeof(course_details_component_j=void 0!==translate_pipe.a&&translate_pipe.a)?course_details_component_j:Object])],course_details_component_CourseDetailsComponent);let resource_card_list_component_ResourceCardListComponent=class ResourceCardListComponent{constructor(translatePipe){this.translatePipe=translatePipe,this.filterControl=new fesm5_forms.FormControl(null),this.filterOptions=[{label:this.translatePipe.transform("ALL"),value:"All"},{label:this.translatePipe.transform("COMPLETED"),value:"Completed"},{label:this.translatePipe.transform("COMPUTER_ENGG"),value:"Computer Engineering"}],this.sortByControl=new fesm5_forms.FormControl(null),this.sortByLabel=this.translatePipe.transform("SORT_BY").toLowerCase(),this.sortByOptions=[{label:this.translatePipe.transform("PROGRESS"),value:"Progress"},{label:this.translatePipe.transform("POPULARITY"),value:"Popularity"},{label:this.translatePipe.transform("RATING"),value:"Rating"},{label:this.translatePipe.transform("RATING"),value:"Views"}]}ngOnInit(){}resourceCardClicked($event){}};var moodle_component_a;Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Array)],resource_card_list_component_ResourceCardListComponent.prototype,"resourceCards",void 0),resource_card_list_component_ResourceCardListComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-resource-card-list",template:(__webpack_require__(1470).default||__webpack_require__(1470)).length?__webpack_require__(1470).default||__webpack_require__(1470):"",styles:[(__webpack_require__(1471).default||__webpack_require__(1471)).length?__webpack_require__(1471).default||__webpack_require__(1471):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(resource_card_list_component_a=void 0!==translate_pipe.a&&translate_pipe.a)?resource_card_list_component_a:Object])],resource_card_list_component_ResourceCardListComponent);let moodle_component_MoodleComponent=class MoodleComponent{constructor(){this.frameLoaded=new core.EventEmitter}onResize(){this.frameWidth=.72*window.innerWidth+"px",this.frameHeight=.5*window.innerHeight+"px"}ngAfterViewInit(){this.iframe.nativeElement.onload=this.iframeLoaded.bind(this)}iframeLoaded(){this.frameLoaded.emit(!0)}};var collection_component_a,collection_component_b,collection_component_c,collection_component_d;Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",String)],moodle_component_MoodleComponent.prototype,"url",void 0),Object(tslib_es6.c)([Object(core.ViewChild)("iframe"),Object(tslib_es6.f)("design:type","function"==typeof(moodle_component_a=void 0!==core.ElementRef&&core.ElementRef)?moodle_component_a:Object)],moodle_component_MoodleComponent.prototype,"iframe",void 0),Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],moodle_component_MoodleComponent.prototype,"frameLoaded",void 0),Object(tslib_es6.c)([Object(core.HostListener)("window:resize"),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",void 0)],moodle_component_MoodleComponent.prototype,"onResize",null),moodle_component_MoodleComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-moodle",template:(__webpack_require__(1472).default||__webpack_require__(1472)).length?__webpack_require__(1472).default||__webpack_require__(1472):"",styles:[(__webpack_require__(1473).default||__webpack_require__(1473)).length?__webpack_require__(1473).default||__webpack_require__(1473):""]}),Object(tslib_es6.f)("design:paramtypes",[])],moodle_component_MoodleComponent);let collection_component_CollectionComponent=class CollectionComponent extends unsubscribe.a{constructor(subscribedManager,subscribedQuery,router,translatePipe){super(),this.subscribedManager=subscribedManager,this.subscribedQuery=subscribedQuery,this.router=router,this.translatePipe=translatePipe,this.buttonType=public_api.c,this.tabs=[{title:this.translatePipe.transform("PATHWAYS").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.PATHWAYS]},{title:this.translatePipe.transform("COLLECTION").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.COLLECTIONS]},{title:this.translatePipe.transform("CATALOG").toLowerCase(),keys:[privilege_enum.a.FACILITATING,privilege_enum.a.CATALOG]}].filter(t=>privilege_utils.a.hasViewPrivileges(t.keys)).map(t=>t.title),this.headerSettings={pageTitle:this.translatePipe.transform("FACILITATING"),tabset:this.tabs,breadcrumbs:[{label:this.translatePipe.transform("LEARNING"),url:"learning"},{label:this.translatePipe.transform("COLLECTION"),url:"collection"}],tabSetControl:new fesm5_forms.FormControl("collection"),banner:"../assets/images/content-banner.svg",tagLine:this.translatePipe.transform("ALL_PATHWAYS_COLLECTIONS")},this.showPopUp=!1,this.sortByControl=new fesm5_forms.FormControl(null),this.sortByOptions=[{label:this.translatePipe.transform("IN_PROGRESS"),value:"in-progress"},{label:this.translatePipe.transform("POPULARITY"),value:"Popularity"},{label:this.translatePipe.transform("RATING"),value:"Rating"},{label:this.translatePipe.transform("VIEWS"),value:"Views"}],this.byteCards=[],this.inProgressCards=[],this.completedCards=[],this.notStartedCards=[],this.emptyStateMessage="You are currently not facilitating any learner."}ngOnInit(){this.headerSettings.tabSetControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(value=>{"catalog"===value?this.router.navigate(["dashboard/facilitating/catalog"]).then():"saved"===value?this.router.navigate(["dashboard/facilitating/saved"]).then():"recommended"===value?this.router.navigate(["dashboard/facilitating/recommended"]).then():"pathways"===value?this.router.navigate(["dashboard/facilitating/pathways"]).then():this.router.navigate(["dashboard/facilitating/collection"]).then()}),this.subscribedQuery.selectIsLoading$.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(l=>{this.isLoading=l,console.log(this.isLoading)}),this.subscribedManager.subscribedList(!0).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(data=>{this.byteCards=[...data].filter(card=>"Content"===card.role.privilegeRole.name).filter(card=>"Learner"!==card.role.privilegeSubType.name).map(byte=>{let external=!1;byte.deliveryMethod===constants_enum.a.OUTSIDE&&(external=!0);let imageUrl="./assets/placeholder.svg";byte.imageUrls!==[]&&void 0!==byte.imageUrls&&(imageUrl=byte.imageUrls[0]);let videoThumbnail=!1;return byte.videoUrl&&(videoThumbnail=!0),{id:byte.id,coverImage:imageUrl,labelCode:byte.shortCode,title:byte.name,tenantName:byte.providerName,tenantLogo:byte.providerLogo,progress:byte.progress,externalCourse:external,ribbon:byte.byteObject.type,labelExternalOrInternal:byte.providerName,videoThumbnail:videoThumbnail,bookmark:byte.bookmark,contentUrl:byte.contentUrl,supporter:byte.role.privilegeSubType.name,channel:byte.channelName,videoUrl:byte.videoUrl}}),console.log(this.byteCards),this.inProgressCards=[...this.byteCards].filter(card=>card.progress>0&&card.progress<100),this.completedCards=[...this.byteCards].filter(card=>100===card.progress),this.notStartedCards=[...this.byteCards].filter(card=>0===card.progress)})}onConnect(channel){this.router.navigate(["dashboard","connect"],{state:{channel:channel}}).then(r=>{})}onBookmark(id){this.subscribedQuery.selectEntity(id).pipe(Object(take.a)(1)).subscribe(data=>{console.log(data);const bookmark=!data.bookmark,enrolmentId=data.enrollmentId;this.subscribedManager.updateBookmark(id,enrolmentId,bookmark).pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(()=>{console.log("success")})})}onProgressChange(progress,id){this.subscribedQuery.selectEntity(id).pipe(Object(take.a)(1)).subscribe(data=>{const enrolmentId=data.enrollmentId;this.subscribedManager.updateProgress(id,enrolmentId,progress).subscribe(()=>{console.log("success")})})}openContentDetails(id,deliveryMethod){const card=this.byteCards.filter(v=>v.id===id)[0];console.log(card),deliveryMethod?utils.a.openExternalUrl(card.contentUrl):"360"===card.ribbon?this.router.navigate(["dashboard/facilitating/collection",id,"three-sixty"]).then(r=>{}):this.router.navigate(["dashboard/facilitating/collection",id,card.ribbon.toLocaleLowerCase()]).then(r=>{})}};collection_component_CollectionComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-collection",template:(__webpack_require__(1474).default||__webpack_require__(1474)).length?__webpack_require__(1474).default||__webpack_require__(1474):"",styles:[(__webpack_require__(1475).default||__webpack_require__(1475)).length?__webpack_require__(1475).default||__webpack_require__(1475):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(collection_component_a=void 0!==subscribed_manager.a&&subscribed_manager.a)?collection_component_a:Object,"function"==typeof(collection_component_b=void 0!==subscribed_query.a&&subscribed_query.a)?collection_component_b:Object,"function"==typeof(collection_component_c=void 0!==fesm5_router.i&&fesm5_router.i)?collection_component_c:Object,"function"==typeof(collection_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?collection_component_d:Object])],collection_component_CollectionComponent);var facilitating_permission_guard_a,permission_guard=__webpack_require__(135);let facilitating_permission_guard_FacilitatingPermissionGuard=class FacilitatingPermissionGuard{constructor(router){this.router=router,this.routes={[privilege_enum.a.PATHWAYS]:"pathways",[privilege_enum.a.COLLECTIONS]:"collection",[privilege_enum.a.CATALOG]:"catalog"}}canActivate(route,state){const menuItemKeys=route.data.keys;if(privilege_utils.a.hasViewPrivileges(menuItemKeys))return!0;{const keys=Object.keys(this.routes),index=keys.indexOf(menuItemKeys[1]),alternateRouteKey=index<keys.length-1?keys[index+1]:keys[0],alternateRoute=this.routes[alternateRouteKey];this.router.navigateByUrl("/dashboard/facilitating/"+alternateRoute)}}};facilitating_permission_guard_FacilitatingPermissionGuard=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(facilitating_permission_guard_a=void 0!==fesm5_router.i&&fesm5_router.i)?facilitating_permission_guard_a:Object])],facilitating_permission_guard_FacilitatingPermissionGuard);const ContentRoutes=[{path:"",redirectTo:"pathways",pathMatch:"full"},{path:"collection",component:collection_component_CollectionComponent,canActivate:[facilitating_permission_guard_FacilitatingPermissionGuard],data:{keys:[privilege_enum.a.FACILITATING,privilege_enum.a.COLLECTIONS]}},{path:"catalog",component:catalog_component_CatalogComponent,canActivate:[facilitating_permission_guard_FacilitatingPermissionGuard],data:{keys:[privilege_enum.a.FACILITATING,privilege_enum.a.CATALOG]}},{path:"pathways",component:pathway_component_PathwayComponent,canActivate:[facilitating_permission_guard_FacilitatingPermissionGuard],data:{keys:[privilege_enum.a.FACILITATING,privilege_enum.a.PATHWAYS]}},{path:"collection/:id",redirectTo:"collection",pathMatch:"full"},{path:"collection/:id/pulse",loadChildren:()=>__webpack_require__.e(4).then(__webpack_require__.bind(null,1715)).then(m=>m.PulseDetailsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PULSE_360]}},{path:"collection/:id/three-sixty",loadChildren:()=>__webpack_require__.e(0).then(__webpack_require__.bind(null,1716)).then(m=>m.ThreeSixtyDetailsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PULSE_360]}},{path:"collection/:id/feedback",loadChildren:()=>__webpack_require__.e(0).then(__webpack_require__.bind(null,1716)).then(m=>m.ThreeSixtyDetailsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PULSE_360]}},{path:"collection/:id/:mode",component:course_details_component_CourseDetailsComponent,canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_COURSE_ASSESSMENT]}},{path:"pathways/:pathwayId",component:pathway_details_component_PathwayDetailsComponent,canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PATHWAY]}},{path:"pathways/:pathwayId/:id/three-sixty",loadChildren:()=>__webpack_require__.e(0).then(__webpack_require__.bind(null,1716)).then(m=>m.ThreeSixtyDetailsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PATHWAY]}},{path:"pathways/:pathwayId/:id/feedback",loadChildren:()=>__webpack_require__.e(0).then(__webpack_require__.bind(null,1716)).then(m=>m.ThreeSixtyDetailsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PATHWAY]}},{path:"pathways/:pathwayId/:id/pulse",loadChildren:()=>__webpack_require__.e(4).then(__webpack_require__.bind(null,1715)).then(m=>m.PulseDetailsModule),canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PATHWAY]}},{path:"pathways/:pathwayId/:id/:mode",component:course_details_component_CourseDetailsComponent,canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.FACILITATING_PATHWAY]}}];let FacilitatingRoutingModule=class FacilitatingRoutingModule{};FacilitatingRoutingModule=Object(tslib_es6.c)([Object(core.NgModule)({imports:[fesm5_router.l.forChild(ContentRoutes)],exports:[fesm5_router.l]})],FacilitatingRoutingModule);var mutual_module=__webpack_require__(1423);const COMPONENTS=[...[catalog_component_CatalogComponent,collection_component_CollectionComponent,pathway_details_component_PathwayDetailsComponent,pathway_component_PathwayComponent,course_details_component_CourseDetailsComponent,resource_card_list_component_ResourceCardListComponent,moodle_component_MoodleComponent]];let FacilitatingModule=class FacilitatingModule{};FacilitatingModule=Object(tslib_es6.c)([Object(core.NgModule)({declarations:[...COMPONENTS],imports:[common.b,shared_module.a,FacilitatingRoutingModule,mutual_module.a],exports:[...COMPONENTS],providers:[]})],FacilitatingModule)}}]);
//# sourceMappingURL=14.8083e24f987c35a716b3.bundle.js.map