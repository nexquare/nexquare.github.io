(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1408:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DropdownOptionsService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_api_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(217);let DropdownOptionsService=class DropdownOptionsService{constructor(apiService){this.apiService=apiService,this.general_sub_url="controller/api",this.misc_sub_url="controller/misc",this.course_components_sub_url="controller/api/courses/components",this.course_batch_components_sub_url="controller/api/batch-components",this.tenant_type_sub_url="controller/api/tenant-type",this.tenant_sub_url="controller/api/tenant",this.config_sub_url="controller/api/config"}currencies(){return this.apiService.get(this.general_sub_url+"/currencies")}courseDeliveryMethods(){return this.apiService.get(this.course_components_sub_url+"/delivery-methods")}courseTypes(){return this.apiService.get(this.course_components_sub_url+"/course-types")}courseSkills(){return this.apiService.get(this.course_components_sub_url+"/skills")}courseLearningLevels(){return this.apiService.get(this.course_components_sub_url+"/learning-levels")}courseInstructorTypes(){return this.apiService.get(this.course_components_sub_url+"/instructor-types")}courseSubjects(){return this.apiService.get(this.course_components_sub_url+"/subjects")}courseInstructionLanguage(){return this.apiService.get(this.course_components_sub_url+"/instruction-language")}courseEnrollmentMethods(){return this.apiService.get(this.course_components_sub_url+"/enrollment-methods")}coursePaymentMethods(){return this.apiService.get(this.course_components_sub_url+"/payment-methods")}courseCompetencies(){return this.apiService.get(this.course_components_sub_url+"/competencies")}courseChannelRequirements(){return this.apiService.get(this.course_components_sub_url+"/channel-requirements")}courseAccessLifetime(){return this.apiService.get(this.course_components_sub_url+"/access-lifetime")}courseSubscriptionTypes(){return this.apiService.get(this.course_components_sub_url+"/subscription-types")}courseAccessTypes(){return this.apiService.get(this.course_components_sub_url+"/access-types")}courseGradeBookDisplaySettings(){return this.apiService.get(this.course_components_sub_url+"/grade-book-display-settings")}courseStatus(){return this.apiService.get(this.course_components_sub_url+"/course-status")}batchStatus(){return this.apiService.get(this.course_batch_components_sub_url+"/batch-status")}batchUserStatus(){return this.apiService.get(this.course_batch_components_sub_url+"/batch-user-status")}tenantTypeRoleTypes(tenantTypeId){return this.apiService.get(`${this.tenant_type_sub_url}/${tenantTypeId}/role-type`)}tenantTypeRolePrivileges(tenantTypeId,typeId){return this.apiService.get(`${this.tenant_type_sub_url}/${tenantTypeId}/privileges/type/${typeId}`)}tenantTypes(){return this.apiService.get(""+this.tenant_type_sub_url)}tenantLanguages(){return this.apiService.get(this.tenant_sub_url+"/languages")}tenantRoleTypes(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/role-type`)}tenantRolePrivileges(tenantId,typeId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/privileges/type/${typeId}`)}tenantRoleTemplates(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/role-template`)}countriesList(){return this.apiService.get(this.misc_sub_url+"/countries")}industriesList(){return this.apiService.get(this.misc_sub_url+"/industries")}organizationRoles(){return this.apiService.get(this.misc_sub_url+"/organization-roles")}};DropdownOptionsService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.f)("design:paramtypes",["function"==typeof(_a=void 0!==_api_service__WEBPACK_IMPORTED_MODULE_2__.a&&_api_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],DropdownOptionsService)},1414:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DateUtils}));class DateUtils{static daysBetweenDates(dateA,dateB){const one=new Date(dateA.getFullYear(),dateA.getMonth(),dateA.getDate());return(new Date(dateB.getFullYear(),dateB.getMonth(),dateB.getDate()).getTime()-one.getTime())/864e5}static calculateAge(birthday){if(birthday>new Date(Date.now()))return null;const ageDifMs=Date.now()-birthday.getTime(),ageDate=new Date(ageDifMs);return Math.abs(ageDate.getUTCFullYear()-1970)}static addDays(date,days){return new Date(date.getFullYear(),date.getMonth(),date.getDate()+days)}static daysInMonth(month,year){return new Date(year,month,0).getDate()}static toISODateString(date){const fullDate=("0"+date.getDate()).slice(-2),fullMonth=("0"+(date.getMonth()+1)).slice(-2);return date.getFullYear()+"-"+fullMonth+"-"+fullDate}static stringToUTCDate(stringDate){const tempDate=new Date(stringDate),userTimezoneOffset=6e4*tempDate.getTimezoneOffset();return new Date(tempDate.getTime()+userTimezoneOffset)}static convertToDateString(date){const fullDate=("0"+date.getDate()).slice(-2),fullMonth=("0"+(date.getMonth()+1)).slice(-2);return date.getFullYear()+"-"+fullMonth+"-"+fullDate}static convertToDateTimeString(date){const fullDate=("0"+date.getDate()).slice(-2),fullMonth=("0"+(date.getMonth()+1)).slice(-2);return date.getFullYear()+"-"+fullMonth+"-"+fullDate+" "+date.getHours()+":"+date.getMinutes()+":"+date.getSeconds()}static getDueDateStatus(date){const a=new Date(date).getTime()-(new Date).getTime(),seconds=Math.floor(a/1e3),minutes=Math.floor(seconds/60),hours=Math.floor(minutes/60);return Math.floor(hours/24)}}DateUtils.months=[{id:1,value:"January"},{id:2,value:"February"},{id:3,value:"March"},{id:4,value:"April"},{id:5,value:"June"},{id:6,value:"July"},{id:7,value:"August"},{id:9,value:"September"},{id:10,value:"October"},{id:11,value:"November"},{id:12,value:"December"}]},1425:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PendingChangesGuard}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_shared_pipes_translate_pipe__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(215);let PendingChangesGuard=class PendingChangesGuard{constructor(translatePipe){this.translatePipe=translatePipe}canDeactivate(component){return!!component.canDeactivate()||confirm(this.translatePipe.transform("CHANGE_CONFIRM_MSG"))}};PendingChangesGuard=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.f)("design:paramtypes",["function"==typeof(_a=void 0!==_shared_pipes_translate_pipe__WEBPACK_IMPORTED_MODULE_2__.a&&_shared_pipes_translate_pipe__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],PendingChangesGuard)},1427:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RoleUtils}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(509);class RoleUtils{static generateAssignedPrivileges(privileges,selected){const tree=[];return privileges.forEach(privilege=>{if(selected.includes(privilege.privilegeId))tree.push(privilege);else if(privilege.children&&privilege.children.length){const children=this.generateAssignedPrivileges(privilege.children,selected);children.length&&(privilege=Object.assign(Object.assign({},privilege),{children:children}),tree.push(privilege))}}),tree}static generateUnAssignedPrivileges(privileges,selected){const tree=[];return privileges.forEach(privilege=>{if(!selected.includes(privilege.privilegeId))if(privilege.children&&privilege.children.length){const children=this.generateUnAssignedPrivileges(privilege.children,selected);children.length&&tree.push(Object.assign(Object.assign({},privilege),{children:children}))}else tree.push(privilege)}),tree}static getLeafNodes(privileges){const _map={},_recurGet=(privilege,map)=>{let _leafNodes;return _leafNodes=privilege.children?lodash__WEBPACK_IMPORTED_MODULE_0__.uniq(lodash__WEBPACK_IMPORTED_MODULE_0__.flatten(privilege.children.map(p=>_recurGet(p,map)))):[privilege.privilegeId],map[privilege.privilegeId]=_leafNodes,_leafNodes};for(const privilege of privileges)_recurGet(privilege,_map);return _map}static getAllLeafNodes(privileges){let leafPrivileges=[];return privileges.forEach(privilege=>{if(privilege.children&&privilege.children.length){const leafNodes=this.getAllLeafNodes(privilege.children);leafPrivileges=[...leafPrivileges,...leafNodes]}else leafPrivileges=[...leafPrivileges,privilege.privilegeId]}),leafPrivileges}static transformPrivilege(privileges){return privileges.map(p=>{const updatedPrivilege={title:p.name,key:p.privilegeId};let children=null;return p.children?(children=this.transformPrivilege(p.children),updatedPrivilege.children=children):updatedPrivilege.isLeaf=!0,updatedPrivilege})}}},1554:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="tenant-listing">\n  <div class="tenant-listing__header">\n    <nxq-breadcrumbs [breadcrumbs]="breadcrumbs"></nxq-breadcrumbs>\n    <div class="tenant-listing__header--heading">\n      <nxq-header [title]="\'TENANT_LISTING\' | translate" [headerType]="pageHeaderType"></nxq-header>\n      <div class="header-buttons">\n        <nxq-tabset-radio-button-group [control]="tabsetControl">\n          <nxq-radio-button value="registered">{{ \'REGISTERED\' | translate }}</nxq-radio-button>\n          <nxq-radio-button value="interested">{{ \'INTERESTED\' | translate }}</nxq-radio-button>\n        </nxq-tabset-radio-button-group>\n      </div>\n    </div>\n  </div>\n  <router-outlet></router-outlet>\n</div>\n'},1555:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.tenant-listing {\n  padding: 20px 30px 0 30px;\n  width: 100%;\n  padding: 15px 0;\n  display: flex;\n  flex-direction: column;\n}\n.tenant-listing > * {\n  margin-bottom: 30px;\n}\n.tenant-listing > *:last-child {\n  margin-bottom: 0;\n}\n.tenant-listing__header {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.tenant-listing__header > * {\n  margin-bottom: 10px;\n}\n.tenant-listing__header > *:last-child {\n  margin-bottom: 0;\n}\n.tenant-listing__header--heading {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n.tenant-listing__header--heading .header-buttons {\n  display: flex;\n  flex-direction: row;\n}\n.tenant-listing__header--heading .header-buttons > * {\n  margin-right: 20px;\n}\n.tenant-listing__header--heading .header-buttons > *:last-child {\n  margin-right: 0;\n}\n.tenant-listing__content {\n  display: flex;\n  flex-direction: column;\n}\n.tenant-listing__content > * {\n  margin-bottom: 30px;\n}\n.tenant-listing__content > *:last-child {\n  margin-bottom: 0;\n}"},1556:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="edit-organisation">\n  <div class="header">\n    <nxq-header [title]="pageHeader" [headerType]="headerType"></nxq-header>\n  </div>\n  <div class="body">\n    <div class="body-sidenav">\n      <nxq-sub-menu [dataTree]="subMenu" [level]="this.level" (selectElement)="subMenuSelectedItem($event)"></nxq-sub-menu>\n    </div>\n    <div class="body-content">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n'},1557:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.edit-organisation {\n  height: 100%;\n  width: 100%;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.edit-organisation .header {\n  width: 100%;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n:host-context(.xs) .edit-organisation .header, .xs .edit-organisation .header, :host-context(.sm) .edit-organisation .header, .sm .edit-organisation .header {\n  display: flex;\n  flex-direction: column;\n}\n:host-context(.xs) .edit-organisation .header, .xs .edit-organisation .header, :host-context(.sm) .edit-organisation .header, .sm .edit-organisation .header {\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.edit-organisation .body {\n  margin-top: 20px;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.edit-organisation .body-sidenav {\n  display: flex;\n  flex-direction: row;\n  flex-basis: auto;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 270px;\n  height: 100%;\n  border-right: 1px solid #d9d9d9;\n}\n.edit-organisation .body-sidenav nxq-sub-menu {\n  width: 100%;\n}\n.edit-organisation .body-content {\n  width: 100%;\n  height: 100%;\n}"},1558:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\', formElement)">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'next\', formElement)">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n</div>\n<div class="organisation-details">\n  <nxq-collapse [active]="true">\n    <div slot="header">\n      <h3>{{ \'GENERAL\' | translate }}</h3>\n    </div>\n    <div slot="content">\n      <form [formGroup]="organisationDetailForm" class="organisation-details-form" #formElement>\n        <div class="input-container">\n          <p class="label">{{ \'SQUARE_ICON\' | translate }}</p>\n          <div class="input logo">\n            <input type="file" accept="image/*" (change)="addSquareLogo($event)" hidden #squareLogoInput />\n            <nxq-logo [image]="controls.squareIconUrl.value" [fullLogo]="true"></nxq-logo>\n\n            <div class="buttons">\n              <nxq-button type="primary" [width]="\'100%\'" (click)="uploadSquareLogo()">{{ \'UPLOAD\' | translate }}</nxq-button>\n              <nxq-button type="danger" [width]="\'100%\'" (click)="deleteSquareLogo()">{{ \'REMOVE\' | translate }}</nxq-button>\n            </div>\n          </div>\n        </div>\n\n        <div class="input-container">\n          <p class="label">{{ \'LOGO\' | translate }}</p>\n\n          <div class="input logo">\n            <input type="file" accept="image/*" (change)="addLogo($event)" hidden #logoInput />\n            <nxq-logo [image]="controls.logoUrl.value" [fullLogo]="true"></nxq-logo>\n\n            <div class="buttons">\n              <nxq-button type="primary" [width]="\'100%\'" (click)="uploadLogo()">{{ \'UPLOAD\' | translate }}</nxq-button>\n              <nxq-button type="danger" [width]="\'100%\'" (click)="deleteLogo()">{{ \'REMOVE\' | translate }}</nxq-button>\n            </div>\n          </div>\n        </div>\n\n        <div class="input-container">\n          <nxq-label\n            [isRequired]="!!controls.legalName.validator"\n            [labelType]="labelType.CODE"\n            [value]="\'LEGAL_NAME\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-input-master [control]="controls.legalName" class="input" [placeholder]="\'LEGAL_NAME\' | translate"></nxq-input-master>\n        </div>\n        <div class="input-container">\n          <nxq-label\n            [isRequired]="!!controls.displayName.validator"\n            [labelType]="labelType.CODE"\n            [value]="\'DISPLAY_NAME\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-input-master [control]="controls.displayName" class="input" [placeholder]="\'DISPLAY_NAME\' | translate"></nxq-input-master>\n        </div>\n        <div class="input-container">\n          <nxq-label\n            [isRequired]="!!controls.subDomain.validator"\n            [labelType]="labelType.CODE"\n            [value]="\'SUB_DOMAIN\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-input-master [control]="controls.subDomain" class="input" [placeholder]="\'SUB_DOMAIN\' | translate"></nxq-input-master>\n        </div>\n        <div class="input-container">\n          <nxq-label\n            [isRequired]="!!controls.country.validator"\n            [labelType]="labelType.CODE"\n            [value]="\'COUNTRY\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-select\n            [control]="controls.country"\n            [options]="countryOptions"\n            [placeholder]="\'COUNTRY\' | translate"\n            class="input"\n          ></nxq-select>\n          <nxq-control-error\n            [control]="controls.country"\n            *ngIf="controls.country.invalid && controls.country.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="input-container">\n          <nxq-label\n            [isRequired]="!!controls.languageId.validator"\n            [labelType]="labelType.CODE"\n            [value]="\'LANGUAGE\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-select\n            [control]="controls.languageId"\n            [options]="languageOptions"\n            [placeholder]="\'LANGUAGE\' | translate"\n            class="input"\n          ></nxq-select>\n          <nxq-control-error\n            [control]="controls.languageId"\n            *ngIf="controls.languageId.invalid && controls.languageId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="input-container">\n          <nxq-label\n            [isRequired]="!!controls.typeId.validator"\n            [labelType]="labelType.CODE"\n            [value]="\'TYPE\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-select\n            [control]="controls.typeId"\n            [options]="tenantTypeOptions"\n            [placeholder]="\'TYPE\' | translate"\n            class="input"\n          ></nxq-select>\n          <nxq-control-error\n            [control]="controls.typeId"\n            *ngIf="controls.typeId.invalid && controls.typeId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n      </form>\n    </div>\n  </nxq-collapse>\n</div>\n'},1559:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.organisation-details {\n  margin-top: 5px;\n}\n:host-context(.xs) .organisation-details, .xs .organisation-details {\n  margin-bottom: 50px;\n}\n.organisation-details .nxq-collapse .organisation-details-form {\n  display: flex;\n  flex-direction: column;\n}\n.organisation-details .nxq-collapse .organisation-details-form > * {\n  margin-bottom: 10px;\n}\n.organisation-details .nxq-collapse .organisation-details-form > *:last-child {\n  margin-bottom: 0;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form, .xs .organisation-details .nxq-collapse .organisation-details-form {\n  margin-bottom: 50px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container {\n  display: flex;\n  flex-direction: row;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container > * {\n  margin-right: 100px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container > *:last-child {\n  margin-right: 0;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container {\n  display: flex;\n  flex-direction: column;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container > *, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container > * {\n  margin-bottom: 10px;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container > *:last-child, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container > *:last-child {\n  margin-bottom: 0;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .label {\n  width: 120px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input {\n  width: 330px;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container .input, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container .input {\n  width: 85%;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo > * {\n  margin-right: 20px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo > *:last-child {\n  margin-right: 0;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo nxq-logo {\n  width: 180px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .buttons {\n  width: 150px;\n  display: flex;\n  flex-direction: column;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .buttons > * {\n  margin-bottom: 10px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .buttons > *:last-child {\n  margin-bottom: 0;\n}"},1560:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button [type]="buttonType.PRIMARY" (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button [type]="buttonType.PRIMARY" (click)="update(\'back\', formElement1, formElement2, formElement3, formElement4)">{{\n    \'UPDATE_AND_BACK\' | translate\n  }}</nxq-button>\n  <nxq-button [type]="buttonType.SECONDARY" (click)="update(\'next\', formElement1, formElement2, formElement3, formElement4)">{{\n    \'UPDATE_AND_NEXT\' | translate\n  }}</nxq-button>\n</div>\n<div class="subscription-component">\n  <nxq-collapse>\n    <div slot="header" class="header">\n      <h3>{{ \'SUBSCRIPTION_STATUS\' | translate }}</h3>\n    </div>\n    <div slot="content">\n      <form [formGroup]="subscriptionForm" #formElement1 class="content">\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.status.validator"\n            [labelType]="\'code\'"\n            [value]="\'CURRENT_STATUS\' | translate"\n            class="label"\n          ></nxq-label>\n          <div class="radio-btn">\n            <nxq-radio-group [orientation]="orientation.HORIZONTAL" [control]="subscriptionControls.status">\n              <nxq-radio value="Active">{{ \'ACTIVE\' | translate }}</nxq-radio>\n              <nxq-radio value="Inactive">{{ \'INACTIVE\' | translate }}</nxq-radio>\n              <nxq-radio value="Archived">{{ \'ARCHIVED\' | translate }}</nxq-radio>\n              <nxq-radio value="Closed">{{ \'CLOSED\' | translate }}</nxq-radio>\n            </nxq-radio-group>\n          </div>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.signupDate.validator"\n            [labelType]="\'code\'"\n            [value]="\'SIGN_UP_DATE\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-date-picker [control]="subscriptionControls.signupDate"></nxq-date-picker>\n          <nxq-control-error\n            [control]="subscriptionControls.signupDate"\n            *ngIf="subscriptionControls.signupDate.invalid && subscriptionControls.signupDate.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.startDate.validator"\n            [labelType]="\'code\'"\n            [value]="\'START_DATE\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-date-picker [control]="subscriptionControls.startDate"></nxq-date-picker>\n          <nxq-control-error\n            [control]="subscriptionControls.startDate"\n            *ngIf="subscriptionControls.startDate.invalid && subscriptionControls.startDate.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.expiryDate.validator"\n            [labelType]="\'code\'"\n            [value]="\'EXPIRY_DATE\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-date-picker [control]="subscriptionControls.expiryDate"></nxq-date-picker>\n          <nxq-control-error\n            [control]="subscriptionControls.expiryDate"\n            *ngIf="subscriptionControls.expiryDate.invalid && subscriptionControls.expiryDate.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.otherTenantPart.validator"\n            [labelType]="\'code\'"\n            [value]="\'USER_CANT_BE_PART\'"\n            class="label"\n            truncateLimit="100"\n          >\n          </nxq-label>\n          <nxq-switch\n            [control]="subscriptionControls.otherTenantPart"\n            [onLabel]="\'YES\' | translate"\n            [offLabel]="\'NO\' | translate"\n          ></nxq-switch>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.enrollIntoNxq.validator"\n            [labelType]="\'code\'"\n            [value]="\'USER_NOT_ENROLLED\' | translate"\n            class="label"\n            truncateLimit="100"\n          >\n          </nxq-label>\n          <nxq-switch\n            [control]="subscriptionControls.enrollIntoNxq"\n            [onLabel]="\'YES\' | translate"\n            [offLabel]="\'NO\' | translate"\n          ></nxq-switch>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.restrictContent.validator"\n            [labelType]="\'code\'"\n            [value]="\'CANT_RESTRICT_COURSES\' | translate"\n            class="label"\n          >\n          </nxq-label>\n          <nxq-switch\n            [control]="subscriptionControls.restrictContent"\n            [onLabel]="\'YES\' | translate"\n            [offLabel]="\'NO\' | translate"\n          ></nxq-switch>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.publishPathwayBytes.validator"\n            [labelType]="\'code\'"\n            [value]="\'CAN_PUBLISH_PATHWAYS_COURSES\' | translate"\n            class="label"\n          >\n          </nxq-label>\n          <nxq-switch\n            [control]="subscriptionControls.publishPathwayBytes"\n            [onLabel]="\'YES\' | translate"\n            [offLabel]="\'NO\' | translate"\n          ></nxq-switch>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!subscriptionControls.selfSignUp.validator"\n            [labelType]="\'code\'"\n            [value]="\'SELF_SIGN_UP_ALLOWED\' | translate"\n            class="label"\n          >\n          </nxq-label>\n          <nxq-switch [control]="subscriptionControls.selfSignUp" [onLabel]="\'YES\' | translate" [offLabel]="\'NO\' | translate"></nxq-switch>\n        </div>\n      </form>\n    </div>\n  </nxq-collapse>\n\n  <nxq-collapse>\n    <div slot="header" class="header">\n      <h3>{{ \'NUMBER_OF_LICENSES\' | translate }}</h3>\n    </div>\n    <div slot="content" class="content">\n      <div class="subscription-headers">\n        <span>{{ \'PURCHASED\' | translate }}</span>\n        <span>{{ \'IN_USE\' | translate }}</span>\n        <span>{{ \'AVAILABLE\' | translate }}</span>\n      </div>\n      <div class="line"></div>\n      <form [formGroup]="activeUsersForm" class="licence-field-container" #formElement2>\n        <nxq-label\n          [isRequired]="!!activeUsersLicenseControls.purchased.validator"\n          [value]="\'ACTIVE_USERS\' | translate"\n          [labelType]="\'code\'"\n          class="label"\n        ></nxq-label>\n        <nxq-progress [percent]="0" class="progress"></nxq-progress>\n        <nxq-input-master\n          [control]="activeUsersLicenseControls.purchased"\n          [errorMessage]="activeUsersLicenseControls.purchased.invalid ? (\'PURCHASED_LESS_INUSE\' | translate) : \'\'"\n          type="number"\n          class="input"\n        ></nxq-input-master>\n        <nxq-input-master [control]="activeUsersLicenseControls.inUse" type="number" class="input"></nxq-input-master>\n        <nxq-input-master [control]="activeUsersLicenseControls.available" type="number" class="input"></nxq-input-master>\n      </form>\n      <form [formGroup]="subscribersForm" class="licence-field-container" #formElement3>\n        <nxq-label\n          [isRequired]="!!subscribersLicenseControls.purchased.validator"\n          [value]="\'SUBSCRIBERS\' | translate"\n          [labelType]="\'code\'"\n          class="label"\n        ></nxq-label>\n        <nxq-progress [percent]="50" class="progress"></nxq-progress>\n        <nxq-input-master\n          [control]="subscribersLicenseControls.purchased"\n          [errorMessage]="subscribersLicenseControls.purchased.invalid ? (\'PURCHASED_LESS_INUSE\' | translate) : \'\'"\n          type="number"\n          class="input"\n        ></nxq-input-master>\n        <nxq-input-master [control]="subscribersLicenseControls.inUse" type="number" class="input"></nxq-input-master>\n        <nxq-input-master [control]="subscribersLicenseControls.available" type="number" class="input"></nxq-input-master>\n      </form>\n    </div>\n  </nxq-collapse>\n\n  <nxq-collapse>\n    <div slot="header" class="header">\n      <h3>{{ \'SUBSCRIPTION_ADMINISTRATOR\' | translate }}</h3>\n    </div>\n\n    <div slot="content">\n      <form [formGroup]="administratorForm" class="content" #formElement4>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!administratorControls.name.validator"\n            [labelType]="\'code\'"\n            [value]="\'NAME\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-input-master [control]="administratorControls.name" [tooltip]="\'NAME\' | translate" type="text"></nxq-input-master>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!administratorControls.email.validator"\n            [labelType]="\'code\'"\n            [value]="\'EMAIL\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-input-master [control]="administratorControls.email" [tooltip]="\'EMAIL\' | translate" type="email"></nxq-input-master>\n        </div>\n        <div class="field-container">\n          <nxq-label\n            [isRequired]="!!administratorControls.phone.validator"\n            [labelType]="\'code\'"\n            [value]="\'PHONE\' | translate"\n            class="label"\n          ></nxq-label>\n          <nxq-input-master [control]="administratorControls.phone" [tooltip]="\'PHONE\' | translate" type="number"></nxq-input-master>\n        </div>\n      </form>\n    </div>\n  </nxq-collapse>\n</div>\n'},1561:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content {\n  display: flex;\n  flex-direction: column;\n}\n.subscription-component .nxq-collapse .content > * {\n  margin-bottom: 15px;\n}\n.subscription-component .nxq-collapse .content > *:last-child {\n  margin-bottom: 0;\n}\n.subscription-component .nxq-collapse .content .field-container {\n  display: flex;\n  flex-direction: row;\n}\n.subscription-component .nxq-collapse .content .field-container > * {\n  margin-right: 20px;\n}\n.subscription-component .nxq-collapse .content .field-container > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content .field-container .label {\n  width: 200px;\n}\n.subscription-component .nxq-collapse .content .subscription-headers {\n  width: 470px;\n  margin-bottom: 5px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.subscription-component .nxq-collapse .content .subscription-headers > * {\n  margin-right: 45px;\n}\n.subscription-component .nxq-collapse .content .subscription-headers > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content .line {\n  border-bottom: 2px solid #f7f9fc;\n  width: 520px;\n  margin-bottom: 10px;\n}\n.subscription-component .nxq-collapse .content .licence-field-container {\n  display: flex;\n  flex-direction: row;\n}\n.subscription-component .nxq-collapse .content .licence-field-container > * {\n  margin-right: 10px;\n}\n.subscription-component .nxq-collapse .content .licence-field-container > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content .licence-field-container .input {\n  width: 100px;\n}\n.subscription-component .nxq-collapse .content .licence-field-container .progress {\n  width: 75px;\n}\n.subscription-component .nxq-collapse .content .licence-field-container .label {\n  width: 100px;\n}"},1562:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n</div>\n<div class="modules-plug-ins">\n  <div>\n    <nxq-collapse [background]="false">\n      <div slot="header">\n        <h3>{{ \'MODULES\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <table class="modules-plug-ins-content">\n          <tr *ngFor="let module of tenantModules">\n            <td>\n              <p>{{ module.masterId | masterPluginName: masterPlugins }}</p>\n            </td>\n            <td>\n              <nxq-switch\n                [control]="modulesForm.controls[module.masterId]"\n                [offLabel]="\'INACTIVE\' | translate"\n                [onLabel]="\'ACTIVE\' | translate"\n              >\n              </nxq-switch>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </nxq-collapse>\n    <nxq-collapse *ngIf="!!tenantPlugins.length" [background]="false">\n      <div slot="header">\n        <h3>{{ \'PLUG_INS\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <table class="modules-plug-ins-content">\n          <tr *ngFor="let module of tenantPlugins">\n            <td>\n              <p>{{ module.masterId | masterPluginName: masterPlugins }}</p>\n            </td>\n            <td>\n              <nxq-switch\n                [control]="pluginsForm.controls[module.masterId]"\n                [offLabel]="\'INACTIVE\' | translate"\n                [onLabel]="\'ACTIVE\' | translate"\n              >\n              </nxq-switch>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </nxq-collapse>\n  </div>\n</div>\n'},1563:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.modules-plug-ins {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 100%;\n}\n.modules-plug-ins-select {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  max-width: 300px;\n}\n.modules-plug-ins-select > * {\n  margin-bottom: 10px;\n}\n.modules-plug-ins-select > *:last-child {\n  margin-bottom: 0;\n}\n.modules-plug-ins-content td {\n  padding: 10px;\n}"},1564:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button [type]="buttonType.PRIMARY" (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button [type]="buttonType.PRIMARY" (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button [type]="buttonType.SECONDARY" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n</div>\n<div class="integrations">\n  <div>\n    <form [formGroup]="integrationsForm">\n      <ng-container *ngFor="let integration of masterIntegrations | keyvalue">\n        <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ integration.key | titlecase }}</h3>\n          </div>\n          <div slot="content">\n            <div class="integrations-content">\n              <p>{{ \'SELECT\' | translate }} {{ integration.key | titlecase }} {{ \'PROVIDER\' | translate }}</p>\n              <div class="integrations-content-container">\n                <div\n                  class="integrations-content-logo"\n                  *ngFor="let option of integration.value"\n                  [ngClass]="{ selected: integrationsForm.controls[integration.key].value.includes(option.id) }"\n                  (click)="integrationSelected(integration.key, option.id)"\n                >\n                  <img [src]="option.logoUrl" alt="" />\n                  <span>{{ option.name | uppercase }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </nxq-collapse>\n      </ng-container>\n    </form>\n  </div>\n</div>\n'},1565:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.integrations {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 100%;\n}\n.integrations-select {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  max-width: 300px;\n}\n.integrations-select > * {\n  margin-bottom: 10px;\n}\n.integrations-select > *:last-child {\n  margin-bottom: 0;\n}\n.integrations-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n  padding-bottom: 20px;\n}\n.integrations-content > * {\n  margin-bottom: 20px;\n}\n.integrations-content > *:last-child {\n  margin-bottom: 0;\n}\n.integrations-content-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.integrations-content-container > * {\n  margin-right: 60px;\n}\n.integrations-content-container > *:last-child {\n  margin-right: 0;\n}\n.integrations-content-container .rtl {\n  display: flex;\n  flex-direction: row;\n}\n.integrations-content-container .rtl > * {\n  margin-left: 60px;\n  margin-right: 0;\n}\n.integrations-content-container .rtl > *:last-child {\n  margin-left: 0;\n}\n.integrations-content-logo {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n  padding: 0 10px 10px 10px;\n  cursor: pointer;\n}\n.integrations-content-logo > * {\n  margin-right: 10px;\n}\n.integrations-content-logo > *:last-child {\n  margin-right: 0;\n}\n.integrations-content-logo > img {\n  height: 30px;\n  width: 60px;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.integrations-content-logo > span {\n  font-size: 14px;\n  font-weight: 600;\n}\n.integrations-content-logo.selected {\n  border-bottom: 2px solid #2373ff;\n  color: #2373ff;\n}"},1566:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button\n    [type]="buttonType.PRIMARY"\n    class="popup-button"\n    nz-popconfirm\n    [nzPopconfirmTitle]="popupTitleTemplate"\n    [nzPopconfirmTrigger]="\'click\'"\n    [nzCancelText]="\'CANCEL\' | translate"\n    [nzOkText]="\'CONFIRM\' | translate"\n    (nzOnConfirm)="reset()"\n    nzPopconfirmPlacement="topLeft"\n    nzOverlayClassName="nxq-overlay"\n    >{{ \'RESET\' | translate }}</nxq-button\n  >\n  <nxq-button [type]="buttonType.PRIMARY" (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button [type]="buttonType.SECONDARY" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n</div>\n<div class="user-rights">\n  <div *ngIf="!!privileges && !!privilegeRoles">\n    <ng-container *ngFor="let privilege of privileges">\n      <nxq-privilege\n        [privilege]="privilege"\n        [privilegeRoles]="privilegeRoles"\n        (privilegeToUpdate)="updatePrivilegeList($event)"\n      ></nxq-privilege>\n    </ng-container>\n  </div>\n</div>\n<ng-template #popupTitleTemplate>\n  <h4>{{ \'CLEAR_UNSAVED_CHANGES\' | translate }}</h4>\n  <h5>{{ \'STILL_PROCEED\' | translate }}</h5>\n</ng-template>\n'},1567:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.user-rights {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 100%;\n}\n.user-rights-content {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n  padding-bottom: 20px;\n}\n.user-rights-content > * {\n  margin-right: 60px;\n}\n.user-rights-content > *:last-child {\n  margin-right: 0;\n}\n.user-rights-content .rtl {\n  display: flex;\n  flex-direction: row;\n}\n.user-rights-content .rtl > * {\n  margin-left: 60px;\n  margin-right: 0;\n}\n.user-rights-content .rtl > *:last-child {\n  margin-left: 0;\n}"},1568:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button [type]="buttonType.PRIMARY" (click)="update(\'back\')">{{ \'BACK\' | translate }}</nxq-button>\n  <nxq-button [type]="buttonType.SECONDARY" (click)="update(\'next\')">{{ \'NEXT\' | translate }}</nxq-button>\n</div>\n\n<div class="role-templates">\n  <div>\n    <nxq-collapse [background]="false" [active]="!!roles.length">\n      <div slot="header">\n        <h3>{{ \'EXISTING_ROLE_TEMPLATES\' | translate }}</h3>\n      </div>\n      <div slot="content" class="role-templates-content">\n        <nxq-table\n          enableSelect="true"\n          [tableHeaders]="headers"\n          [tableData]="data"\n          [showPagination]="showPagination"\n          [enableSelect]="enableSelect"\n          (customAction)="onActive($event)"\n          (actionClicked)="actionClicked($event)"\n          (filtersChanged)="filters($event)"\n          *ngIf="!isLoading"\n        >\n        </nxq-table>\n\n        <nz-drawer\n          [nzBodyStyle]="{ height: \'calc(100% - 55px)\', overflow: \'auto\', \'padding-bottom\': \'70px\' }"\n          [nzClosable]="false"\n          [nzMaskClosable]="true"\n          [nzWidth]="470"\n          [nzVisible]="showAdd"\n          [nzTitle]="\'\'"\n          (nzOnClose)="onClose()"\n        >\n          <div class="side-drawer">\n            <nxq-add-new-role\n              *ngIf="showAdd && !!editAllowed"\n              (closeDrawer)="onClose()"\n              [tenantId]="tenantId"\n              [role]="selectedRole"\n              (formIsDirty)="formDirtyStateChanged($event)"\n            ></nxq-add-new-role>\n          </div>\n        </nz-drawer>\n        <div class="nxq-spinner-cp" *ngIf="isLoading">\n          <nxq-loading></nxq-loading>\n        </div>\n      </div>\n    </nxq-collapse>\n\n    <nxq-button type="primary" (click)="add()" *ngIf="!isLoading && editAllowed">{{ \'ADD_NEW_ROLE\' | translate }}</nxq-button>\n  </div>\n\n  <nz-modal\n    [(nzVisible)]="showModal"\n    [nzContent]="modalContent"\n    [nzFooter]="modalFooter"\n    (nzOnCancel)="onCancelPopup()"\n    nzWidth="400px"\n    nzHeight="300px"\n    class="confirm-popup"\n    nzClassName="confirm-modal"\n  >\n    <ng-template #modalContent>\n      You have unsaved data in the form, Are you sure you want to discard the changes?\n    </ng-template>\n\n    <ng-template #modalFooter>\n      <nxq-button type="primary" (click)="onCancelPopup()">Cancel</nxq-button>\n      <nxq-button type="secondary" (click)="onConfirmPopup()">Confirm</nxq-button>\n    </ng-template>\n  </nz-modal>\n</div>\n'},1569:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.role-templates {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 100%;\n}\n.role-templates-select {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  max-width: 300px;\n}\n.role-templates-select > * {\n  margin-bottom: 10px;\n}\n.role-templates-select > *:last-child {\n  margin-bottom: 0;\n}\n.role-templates-content {\n  display: flex;\n  flex-direction: column;\n  max-height: 500px;\n  overflow-y: scroll;\n}\n.role-templates-content > * {\n  margin-bottom: 20px;\n}\n.role-templates-content > *:last-child {\n  margin-bottom: 0;\n}\n.role-templates-content .nxq-spinner-cp {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n}"},1570:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons">\n  <nxq-button>{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="updateAndBack()">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="updateAndNext()">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n</div>\n<div class="navigation">\n  <div>\n    <nxq-collapse [background]="false">\n      <div slot="header">\n        <h3>{{ \'HOME\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <ng-container *ngFor="let plugin of modulesDict">\n          <div class="navigation-content">\n            <p>{{ plugin.id }}</p>\n            <nxq-switch [control]="plugin.formControl" [offLabel]="\'INACTIVE\' | translate" [onLabel]="\'ACTIVE\' | translate"> </nxq-switch>\n          </div>\n        </ng-container>\n      </div>\n    </nxq-collapse>\n    <nxq-collapse [background]="false">\n      <div slot="header">\n        <h3>{{ \'DISCOVER\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <ng-container *ngFor="let plugin of modulesDict">\n          <div class="navigation-content">\n            <p>{{ plugin.id }}</p>\n            <nxq-switch [control]="plugin.formControl" [offLabel]="\'INACTIVE\' | translate" [onLabel]="\'ACTIVE\' | translate"> </nxq-switch>\n          </div>\n        </ng-container>\n      </div>\n    </nxq-collapse>\n    <nxq-collapse [background]="false">\n      <div slot="header">\n        <h3>{{ \'PATHWAYS\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <ng-container *ngFor="let plugin of modulesDict">\n          <div class="navigation-content">\n            <p>{{ plugin.id }}</p>\n            <nxq-switch [control]="plugin.formControl" [offLabel]="\'INACTIVE\' | translate" [onLabel]="\'ACTIVE\' | translate"> </nxq-switch>\n          </div>\n        </ng-container>\n      </div>\n    </nxq-collapse>\n  </div>\n</div>\n'},1571:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin: -75px 0 40px 0;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.navigation {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 100%;\n}\n.navigation-select {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  max-width: 300px;\n}\n.navigation-select > * {\n  margin-bottom: 10px;\n}\n.navigation-select > *:last-child {\n  margin-bottom: 0;\n}\n.navigation-content {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n  padding-bottom: 20px;\n}\n.navigation-content > * {\n  margin-right: 60px;\n}\n.navigation-content > *:last-child {\n  margin-right: 0;\n}\n.navigation-content .rtl {\n  display: flex;\n  flex-direction: row;\n}\n.navigation-content .rtl > * {\n  margin-left: 60px;\n  margin-right: 0;\n}\n.navigation-content .rtl > *:last-child {\n  margin-left: 0;\n}"},1572:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="registered">\n  <nxq-filters *ngIf="!isLoading"></nxq-filters>\n  <nxq-table\n    [tableHeaders]="headers"\n    [tableData]="data"\n    enableSelect="true"\n    (actionClicked)="actionClicked($event)"\n    (customAction)="customAction($event)"\n    (filtersChanged)="filters($event)"\n    (rowsSelected)="rowsSelected($event)"\n    *ngIf="!isLoading"\n  ></nxq-table>\n\n  <div class="buttons" *ngIf="!isLoading">\n    <nxq-button type="primary" (click)="activateSelected()">{{ \'ACTIVATE\' | translate }}</nxq-button>\n    <nxq-button type="primary" (click)="deActivateSelected()">{{ \'INACTIVE\' | translate }}</nxq-button>\n    <nxq-button type="primary" (click)="archiveSelected()">{{ \'ARCHIVED\' | translate }}</nxq-button>\n    <nxq-button type="primary" (click)="closeSelected()">{{ \'CLOSED\' | translate }}</nxq-button>\n  </div>\n\n  <div class="nxq-spinner-cp" *ngIf="isLoading">\n    <nxq-loading></nxq-loading>\n  </div>\n</div>\n\n<nz-drawer\n  [nzBodyStyle]="{ height: \'calc(100% - 55px)\', overflow: \'auto\', \'padding-bottom\': \'70px\' }"\n  [nzClosable]="false"\n  [nzMaskClosable]="true"\n  [nzWidth]="490"\n  [nzVisible]="drawerVisible"\n  [nzTitle]="\'\'"\n  (nzOnClose)="onClose()"\n>\n  <div class="side-drawer" *ngIf="!!drawerVisible && editAllowed">\n    <nxq-tenant-detail [id]="tenantId" (closeDrawer)="onClose()"></nxq-tenant-detail>\n  </div>\n</nz-drawer>\n'},1573:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.registered {\n  padding: 20px 30px 0 30px;\n  display: flex;\n  flex-direction: column;\n}\n.registered > * {\n  margin-bottom: 30px;\n}\n.registered > *:last-child {\n  margin-bottom: 0;\n}\n.registered .buttons {\n  display: flex;\n  flex-direction: row;\n}\n.registered .buttons > * {\n  margin-right: 20px;\n}\n.registered .buttons > *:last-child {\n  margin-right: 0;\n}\n:host-context(.xs) .registered .buttons, .xs .registered .buttons {\n  display: flex;\n  flex-direction: column;\n}\n:host-context(.xs) .registered .buttons > *, .xs .registered .buttons > * {\n  margin-bottom: 10px;\n}\n:host-context(.xs) .registered .buttons > *:last-child, .xs .registered .buttons > *:last-child {\n  margin-bottom: 0;\n}\n.registered .nxq-spinner-cp {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n}"},1574:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="interested__content">\n  <nxq-filters *ngIf="!isLoading"></nxq-filters>\n  <nxq-table\n    [tableHeaders]="headers"\n    [tableData]="data"\n    enableSelect="true"\n    (actionClicked)="actionClicked($event)"\n    (filtersChanged)="filters($event)"\n    (rowsSelected)="rowsSelected($event)"\n    *ngIf="!isLoading"\n  ></nxq-table>\n\n  <nz-modal\n    [(nzVisible)]="showModal"\n    [nzContent]="modalContent"\n    [nzFooter]="modalFooter"\n    (nzOnCancel)="onCancel()"\n    nzWidth="400px"\n    nzHeight="300px"\n    class="confirm-popup"\n    nzClassName="confirm-modal"\n  >\n    <ng-template #modalContent>\n      {{ \'DELETE_MESSAGE\' | translate }}\n    </ng-template>\n\n    <ng-template #modalFooter>\n      <nxq-button type="primary" (click)="onCancel()">{{ \'CANCEL\' | translate }}</nxq-button>\n      <nxq-button type="secondary" (click)="onConfirm()">{{ \'CONFIRM\' | translate }}</nxq-button>\n    </ng-template>\n  </nz-modal>\n  <div class="nxq-spinner-cp" *ngIf="isLoading">\n    <nxq-loading></nxq-loading>\n  </div>\n</div>\n'},1575:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.interested {\n  width: 100%;\n  padding: 20px 30px 0 30px;\n  display: flex;\n  flex-direction: column;\n}\n.interested > * {\n  margin-bottom: 30px;\n}\n.interested > *:last-child {\n  margin-bottom: 0;\n}\n.interested__header {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.interested__header > * {\n  margin-bottom: 10px;\n}\n.interested__header > *:last-child {\n  margin-bottom: 0;\n}\n.interested__header--heading {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n.interested__header--heading .header-buttons {\n  display: flex;\n  flex-direction: row;\n}\n.interested__header--heading .header-buttons > * {\n  margin-right: 20px;\n}\n.interested__header--heading .header-buttons > *:last-child {\n  margin-right: 0;\n}\n.interested__content {\n  display: flex;\n  flex-direction: column;\n}\n.interested__content > * {\n  margin-bottom: 30px;\n}\n.interested__content > *:last-child {\n  margin-bottom: 0;\n}\n.interested__content .nxq-spinner-cp {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n}"},1576:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="nxq-cp-ctr">\n  <div div class="nxq-cp-ctr-body">\n    <div class="nxq-cp-ctr-body-section">\n      <nxq-collapse [background]="false" [active]="true">\n        <div slot="header">\n          <nxq-header [title]="\'360\'" [headerType]="headerType.SECTION"></nxq-header>\n        </div>\n        <div slot="content" class="nxq-cp-ctr-body-content">\n          <div class="table">\n            <nxq-table\n              [tableHeaders]="tableHeaders"\n              [tableData]="threeSixtyData"\n              [showPagination]="showPagination"\n              [enableSelect]="enableSelect"\n              (customAction)="customActionClicked($event)"\n              (filtersChanged)="filters($event)"\n              *ngIf="!isLoading"\n            ></nxq-table>\n          </div>\n          <div class="nxq-spinner-cp" *ngIf="isLoading">\n            <nxq-loading></nxq-loading>\n          </div>\n        </div>\n      </nxq-collapse>\n      <nxq-collapse [background]="false" [active]="true">\n        <div slot="header">\n          <nxq-header [title]="\'PULSE\' | translate" [headerType]="headerType.SECTION"></nxq-header>\n        </div>\n        <div slot="content" class="nxq-cp-ctr-body-content">\n          <div class="table">\n            <nxq-table\n              [tableHeaders]="tableHeaders"\n              [tableData]="pulseData"\n              [showPagination]="showPagination"\n              [enableSelect]="enableSelect"\n              (customAction)="customActionClicked($event)"\n              (filtersChanged)="filters($event)"\n              *ngIf="!isLoading"\n            ></nxq-table>\n          </div>\n          <div class="nxq-spinner-cp" *ngIf="isLoading">\n            <nxq-loading></nxq-loading>\n          </div>\n        </div>\n      </nxq-collapse>\n    </div>\n  </div>\n</div>\n'},1577:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n}\n.nxq-cp-ctr > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n.nxq-cp-ctr-body {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-cp-ctr-body > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-section {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr-body-content {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-cp-ctr-body-content > * {\n  margin-bottom: 30px;\n}\n.nxq-cp-ctr-body-content > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-cp-ctr-body-content .table {\n  display: flex;\n  overflow-x: scroll;\n}\n.nxq-pop-up {\n  margin: 20px 0;\n  padding: 30px;\n  border-radius: 10px;\n  border: 1px solid #2373ff;\n  box-shadow: 0 2px 22px rgba(174, 179, 198, 0.120465);\n  display: flex;\n  flex-direction: column;\n}\n.nxq-pop-up > * {\n  margin-bottom: 30px;\n}\n.nxq-pop-up > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-pop-up-header {\n  color: #2373ff;\n  font-size: 22px;\n  font-weight: bold;\n  display: flex;\n  flex-direction: column;\n}\n.nxq-pop-up-header > * {\n  margin-bottom: 30px;\n}\n.nxq-pop-up-header > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-pop-up-body {\n  display: flex;\n  flex-direction: column;\n}\n.nxq-pop-up-body > * {\n  margin-bottom: 30px;\n}\n.nxq-pop-up-body > *:last-child {\n  margin-bottom: 0;\n}\n.nxq-pop-up-actions {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.nxq-pop-up-actions > * {\n  margin-right: 30px;\n}\n.nxq-pop-up-actions > *:last-child {\n  margin-right: 0;\n}"},1578:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="container">\n  <div class="header">\n    <span *ngIf="!role">{{ \'ADD_NEW_ROLE\' | translate }}</span>\n    <span *ngIf="!!role">{{ \'EDIT_ROLE\' | translate }}</span>\n  </div>\n\n  <div class="content">\n    <form class="form" [formGroup]="form" #formElement>\n      <div class="input-field">\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.name.validator" labelType="code" [value]="\'ROLE_NAME\' | translate"></nxq-label>\n          <nxq-input-master [placeholder]="\'ROLE_NAME\' | translate" [control]="controls.name" class="input-left"></nxq-input-master>\n        </div>\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.typeId.validator" labelType="code" [value]="\'TYPE\' | translate"></nxq-label>\n          <nxq-select\n            [options]="typeOptions"\n            [placeholder]="\'TYPE\' | translate"\n            [control]="controls.typeId"\n            class="input-right"\n          ></nxq-select>\n          <nxq-control-error\n            *ngIf="controls.typeId.invalid && controls.typeId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.subTypeId.validator" labelType="code" [value]="\'SUB_TYPE\' | translate"></nxq-label>\n          <nxq-select\n            [placeholder]="\'SUB_TYPE\' | translate"\n            [control]="controls.subTypeId"\n            [options]="subTypeOptions"\n            class="input-left"\n          ></nxq-select>\n          <nxq-control-error\n            *ngIf="controls.subTypeId.invalid && controls.subTypeId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.description.validator" labelType="code" [value]="\'ROLE_DESCRIPTION\' | translate"></nxq-label>\n          <quill-editor\n            class="quill"\n            [placeholder]="\'DESCRIPTION\' | translate"\n            [formControl]="controls.description"\n            theme="bubble"\n          ></quill-editor>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="select-privileges">\n    <h3>{{ \'SELECT_PRIVILEGES\' | translate }}</h3>\n\n    <nxq-tabset-radio-button-group [control]="selectedTab">\n      <nxq-radio-button value="option-1">{{ \'ALL\' | translate }}</nxq-radio-button>\n      <nxq-radio-button value="option-2">{{ \'ASSIGNED\' | translate }}</nxq-radio-button>\n      <nxq-radio-button value="option-3">{{ \'UNASSIGNED\' | translate }}</nxq-radio-button>\n    </nxq-tabset-radio-button-group>\n  </div>\n\n  <div>\n    <div class="tree-container">\n      <nxq-tree\n        *ngIf="selectedTab.value === \'option-1\' && !!allPrivileges.length"\n        [nodes]="allPrivileges"\n        [checkedKeys]="selectedPrivileges"\n        (checkBoxChange)="onCheckBoxClick($event)"\n      ></nxq-tree>\n\n      <nxq-tree\n        *ngIf="selectedTab.value === \'option-2\' && !!assignedPrivileges.length"\n        [nodes]="assignedPrivileges"\n        [checkable]="false"\n      ></nxq-tree>\n      <nxq-tree\n        *ngIf="selectedTab.value === \'option-3\' && !!unAssignedPrivileges.length"\n        [nodes]="unAssignedPrivileges"\n        [checkable]="false"\n      ></nxq-tree>\n    </div>\n  </div>\n\n  <div class="buttons">\n    <nxq-button type="primary" (click)="cancel()">{{ \'CANCEL\' | translate }}</nxq-button>\n    <nxq-button type="secondary" (click)="addRole(formElement)" *ngIf="!role">{{ \'ADD\' | translate }}</nxq-button>\n    <nxq-button type="secondary" (click)="editRole(formElement)" *ngIf="!!role">{{ \'SAVE\' | translate }}</nxq-button>\n  </div>\n</div>\n'},1579:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.container .header {\n  position: absolute;\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 22px;\n  color: #2373ff;\n  top: 0px;\n  width: 90%;\n  height: 50px;\n  z-index: 10;\n  background-color: #ffffff;\n  padding-top: 10px;\n}\n.container .content {\n  margin: 25px 0;\n  display: flex;\n  flex-direction: column;\n}\n.container .content > * {\n  margin-bottom: 20px;\n}\n.container .content > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form {\n  display: flex;\n  flex-direction: column;\n}\n.container .content .form > * {\n  margin-bottom: 20px;\n}\n.container .content .form > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form .input-field {\n  display: flex;\n  flex-direction: column;\n}\n.container .content .form .input-field > * {\n  margin-bottom: 10px;\n}\n.container .content .form .input-field > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form .input-field .input-container {\n  display: flex;\n  flex-direction: column;\n}\n.container .content .form .input-field .input-container > * {\n  margin-bottom: 10px;\n}\n.container .content .form .input-field .input-container > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form .quill {\n  width: 100%;\n  height: 100px;\n}\n.select-privileges {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n}\n.select-privileges > * {\n  margin-bottom: 20px;\n}\n.select-privileges > *:last-child {\n  margin-bottom: 0;\n}\n.select-privileges h3 {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  padding: 10px 20px 10px 20px;\n  background: #ffffff;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  border-top: 1px solid lightgray;\n  box-shadow: 0px 0px 10px 2px rgba(187, 187, 187, 0.7);\n  z-index: 1;\n}\n.buttons > * {\n  margin-right: 13px;\n}\n.buttons > *:last-child {\n  margin-right: 0;\n}"},1580:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="spinner" *ngIf="!visible"></div>\n<div class="drawer-header">\n  <nxq-header [headerType]="headerType.SECTION" [title]="\'ORGANISATION_DETAILS\' | translate"></nxq-header>\n  <div class="icons">\n    <nxq-icon icon="close" class="icon" (click)="close()"></nxq-icon>\n  </div>\n</div>\n<div class="line-abs"></div>\n<div class="side-drawr" *ngIf="visible">\n  <div class="org-details">\n    <div class="info-container">\n      <nxq-label [value]="\'NAME\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n      <p>{{ summary.name }}</p>\n    </div>\n    <div class="info-container">\n      <nxq-logo [title]="summary.name" [fullLogo]="true" [image]="summary.iconUrl"></nxq-logo>\n    </div>\n    <div class="info-container">\n      <nxq-label [value]="\'COUNTRY\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n      <p>{{ summary.country }}</p>\n    </div>\n\n    <div class="info-container">\n      <nxq-label [value]="\'TYPE\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n      <p>{{ summary.typeId }}</p>\n    </div>\n\n    <div class="info-container">\n      <nxq-label [value]="\'SUB_DOMAIN\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n      <p>{{ summary.subDomain }}</p>\n    </div>\n\n    <div class="info-container">\n      <nxq-label [value]="\'LANGUAGE\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n      <p>{{ summary.languageId }}</p>\n    </div>\n  </div>\n  <div class="line"></div>\n  <nxq-collapse active="true">\n    <div slot="header">\n      <h3>{{ \'ACCOUNT_DETAILS\' | translate }}</h3>\n    </div>\n    <div slot="content" class="container">\n      <div class="info-container">\n        <nxq-label [value]="\'STATUS\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.status }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'EXPIRY_DATE\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.expiryDate }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'ACTIVE_USERS\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.activeUsers }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'SUBSCRIPTION_USERS\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.subscriptionUsers }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'ADMINISTRATOR_NAME\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.administratorName }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'EMAIL\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.administratorEmail }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'PHONE\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.phone }}</p>\n      </div>\n    </div>\n  </nxq-collapse>\n  <div class="line"></div>\n  <nxq-collapse active="true">\n    <div slot="header">\n      <h3>{{ \'MODULES_PLUG_INS\' | translate }}</h3>\n    </div>\n    <div slot="content" class="container">\n      <div class="info-container">\n        <nxq-label [value]="\'MODULES\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <div class="modules-plugins">\n          <p *ngFor="let module of summary.modules">{{ module }}</p>\n        </div>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'PLUG_INS\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <div class="modules-plugins">\n          <p *ngFor="let plugin of summary.plugins">{{ plugin }}</p>\n        </div>\n      </div>\n    </div>\n  </nxq-collapse>\n  <div class="line"></div>\n  <nxq-collapse active="true">\n    <div slot="header">\n      <h3>{{ \'INTEGRATIONS\' | translate }}</h3>\n    </div>\n    <div slot="content" class="container">\n      <div class="info-container">\n        <nxq-label [value]="\'SMS\' | translate | uppercase" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.sms }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'EMAIL\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.email }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'PAYMENT\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.payment }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'PRIMARY_REPOSITORY\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.primaryRepository }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'SECONDARY_REPOSITORY\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.secondaryRepository }}</p>\n      </div>\n      <div class="info-container">\n        <nxq-label [value]="\'LTI_APP\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <p>{{ summary.ltiApplications }}</p>\n      </div>\n    </div>\n  </nxq-collapse>\n  <div class="button">\n    <nxq-button [type]="buttonType.PRIMARY" width="430px" (click)="edit()">Edit</nxq-button>\n  </div>\n</div>\n'},1581:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.drawer-header {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  top: 0px;\n  height: 70px;\n  width: 450px;\n  background-color: #ffffff;\n  padding: 20px 0 20px 0;\n  z-index: 5;\n}\n.drawer-header > * {\n  margin-right: auto;\n}\n.drawer-header > *:last-child {\n  margin-right: 0;\n}\n.drawer-header .icons {\n  display: flex;\n  flex-direction: row;\n}\n.drawer-header .icons > * {\n  margin-right: 10px;\n}\n.drawer-header .icons > *:last-child {\n  margin-right: 0;\n}\n.drawer-header .icons .icon {\n  height: 30px;\n}\n.side-drawr {\n  margin-top: 30px;\n}\n.side-drawr .org-details {\n  padding: 20px 0 0 18px;\n  display: flex;\n  flex-direction: column;\n}\n.side-drawr .org-details > * {\n  margin-bottom: 10px;\n}\n.side-drawr .org-details > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawr .org-details .info-container {\n  display: flex;\n  flex-direction: row;\n}\n.side-drawr .org-details .info-container > * {\n  margin-right: 100px;\n}\n.side-drawr .org-details .info-container > *:last-child {\n  margin-right: 0;\n}\n.side-drawr .org-details .info-container .label {\n  width: 100px;\n}\n.side-drawr .nxq-collapse .container {\n  padding-top: 20px;\n  display: flex;\n  flex-direction: column;\n}\n.side-drawr .nxq-collapse .container > * {\n  margin-bottom: 10px;\n}\n.side-drawr .nxq-collapse .container > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawr .nxq-collapse .container .info-container {\n  display: flex;\n  flex-direction: row;\n}\n.side-drawr .nxq-collapse .container .info-container > * {\n  margin-right: 75px;\n}\n.side-drawr .nxq-collapse .container .info-container > *:last-child {\n  margin-right: 0;\n}\n.side-drawr .nxq-collapse .container .info-container .label {\n  width: 130px;\n}\n.side-drawr .nxq-collapse .container .info-container .modules-plugins {\n  display: flex;\n  flex-direction: column;\n}\n.side-drawr .nxq-collapse .container .info-container .modules-plugins > * {\n  margin-bottom: 3px;\n}\n.side-drawr .nxq-collapse .container .info-container .modules-plugins > *:last-child {\n  margin-bottom: 0;\n}\n.side-drawr .button {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  padding: 10px 20px 10px 20px;\n  background: #ffffff;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  border-top: 1px solid lightgray;\n  box-shadow: 0px 0px 10px 2px rgba(187, 187, 187, 0.7);\n  z-index: 1;\n}\n.side-drawr .button > * {\n  margin-right: 13px;\n}\n.side-drawr .button > *:last-child {\n  margin-right: 0;\n}\n.line {\n  width: 470px;\n  margin-left: -24px;\n  margin-top: 20px;\n  border-top: 2px solid #f7f9fc;\n}\n.line-abs {\n  width: 470px;\n  margin-left: -24px;\n  margin-top: 40px;\n  border-top: 2px solid #f7f9fc;\n  position: absolute;\n  top: 30px;\n}"},1691:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return tenant_type_privileges_manager_TenantTypePrivilegesManager}));var tslib_es6=__webpack_require__(1),core=__webpack_require__(0),map=__webpack_require__(22),take=__webpack_require__(85),tap=__webpack_require__(73),organisation_service=__webpack_require__(1415),datorama_akita=__webpack_require__(244);let tenant_type_privileges_store_TenantTypePrivilegesStore=class TenantTypePrivilegesStore extends datorama_akita.a{constructor(){super({loaded:!1,loading:!1,updating:!1,roles:null})}};var _a;tenant_type_privileges_store_TenantTypePrivilegesStore=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(datorama_akita.c)({name:"tenant-type-privileges"}),Object(tslib_es6.f)("design:paramtypes",[])],tenant_type_privileges_store_TenantTypePrivilegesStore);let tenant_type_privileges_query_TenantTypePrivilegesQuery=class TenantTypePrivilegesQuery extends datorama_akita.b{constructor(store){super(store),this.store=store}selectTenantTypePrivileges(tenantTypeId){return this.selectAll().pipe(Object(map.a)(privileges=>privileges.filter(p=>p.tenantTypeId===tenantTypeId)))}};var tenant_type_privileges_manager_a,_b,_c;tenant_type_privileges_query_TenantTypePrivilegesQuery=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_a=void 0!==tenant_type_privileges_store_TenantTypePrivilegesStore&&tenant_type_privileges_store_TenantTypePrivilegesStore)?_a:Object])],tenant_type_privileges_query_TenantTypePrivilegesQuery);let tenant_type_privileges_manager_TenantTypePrivilegesManager=class TenantTypePrivilegesManager{constructor(tenantTypePrivilegesStore,tenantTypePrivilegesQuery,organisationService){this.tenantTypePrivilegesStore=tenantTypePrivilegesStore,this.tenantTypePrivilegesQuery=tenantTypePrivilegesQuery,this.organisationService=organisationService}getLoading(){return this.tenantTypePrivilegesQuery.selectLoading()}getLoaded(){return this.tenantTypePrivilegesQuery.select("loaded")}getUpdating(){return this.tenantTypePrivilegesQuery.select("updating")}getPrivilegeRoles(){return this.tenantTypePrivilegesQuery.select("roles")}getTenantTypePrivilegeLoaded(tenantId){return this.tenantTypePrivilegesQuery.selectTenantTypePrivileges(tenantId).pipe(Object(map.a)(v=>!!v.length))}setLoading(value){this.tenantTypePrivilegesStore.update({loading:value})}setUpdating(value){this.tenantTypePrivilegesStore.update({updating:value})}getTenantTypePrivileges(tenantId,force=!1){let loaded=!1;return this.getTenantTypePrivilegeLoaded(tenantId).pipe(Object(take.a)(1)).subscribe(res=>loaded=res),loaded&&!force||(this.searchSubscription&&(this.setLoading(!1),this.searchSubscription.unsubscribe()),this.fetchTenantTypePrivileges(tenantId,force)),this.tenantTypePrivilegesQuery.selectTenantTypePrivileges(tenantId)}fetchTenantTypePrivileges(tenantId,force=!1){let loading=!1,privilegesRolesLoaded=!1;this.getLoading().pipe(Object(take.a)(1)).subscribe(res=>loading=res),this.getPrivilegeRoles().pipe(Object(take.a)(1)).subscribe(res=>privilegesRolesLoaded=!!res),loading||(this.setLoading(!0),this.searchSubscription=this.organisationService.getTenantTypePrivileges(tenantId).subscribe(res=>{this.tenantTypePrivilegesStore.upsertMany(res.privileges),privilegesRolesLoaded||this.tenantTypePrivilegesStore.update({roles:res.roles}),this.setLoading(!1)},err=>{this.setLoading(!1)}))}updateTenantTypePrivileges(tenantId,data){let privileges;return this.tenantTypePrivilegesQuery.selectTenantTypePrivileges(tenantId).pipe(Object(take.a)(1)).subscribe(res=>{privileges=res}),this.setUpdating(!0),this.organisationService.updateTenantTypePrivileges(tenantId,data).pipe(Object(tap.a)(()=>{this.setUpdating(!1);const updatedPrivileges=data.privileges;this.tenantTypePrivilegesStore.upsertMany(updatedPrivileges)},err=>{this.setUpdating(!1)}))}ngOnDestroy(){}transformPrivilege(privileges,privilegesToUpdate){const idsOfPrivilegesToUpdate=[...privilegesToUpdate].map(p=>p.id);return privileges.map(privilege=>{if(privilege.children)return Object.assign(Object.assign({},privilege),{children:this.transformPrivilege(privilege.children,privilegesToUpdate)});if(idsOfPrivilegesToUpdate.includes(privilege.id)){const updatedPrivilege=privilegesToUpdate.filter(p=>p.id===privilege.id)[0];return Object.assign(Object.assign({},privilege),{accessType:updatedPrivilege.accessType,roleIds:updatedPrivilege.roleIds})}return privilege})}};tenant_type_privileges_manager_TenantTypePrivilegesManager=Object(tslib_es6.c)([Object(core.Injectable)(),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(tenant_type_privileges_manager_a=void 0!==tenant_type_privileges_store_TenantTypePrivilegesStore&&tenant_type_privileges_store_TenantTypePrivilegesStore)?tenant_type_privileges_manager_a:Object,"function"==typeof(_b=void 0!==tenant_type_privileges_query_TenantTypePrivilegesQuery&&tenant_type_privileges_query_TenantTypePrivilegesQuery)?_b:Object,"function"==typeof(_c=void 0!==organisation_service.a&&organisation_service.a)?_c:Object])],tenant_type_privileges_manager_TenantTypePrivilegesManager)},1707:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TenantListingModule",(function(){return TenantListingModule}));var _a,_b,_c,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),common=__webpack_require__(6),fesm5_forms=__webpack_require__(5),fesm5_router=__webpack_require__(35),public_api=__webpack_require__(12),takeUntil=__webpack_require__(29),unsubscribe=__webpack_require__(216),translate_pipe=__webpack_require__(215);let tenant_listing_component_TenantListingComponent=class TenantListingComponent extends unsubscribe.a{constructor(router,route,translatePipe){super(),this.router=router,this.route=route,this.translatePipe=translatePipe,this.pageHeaderType=public_api.g.PAGE,this.buttonType=public_api.c,this.breadcrumbs=[{url:"manage-organisation",label:this.translatePipe.transform("MANAGE_ORGANISATION")},{url:"tenant-listing",label:this.translatePipe.transform("TENANT_LISTING")}],this.filterOptions=[{label:"Cat",value:"Cat"},{label:"Dog",value:"Dog"},{label:"Elephant",value:"Elephant"}],this.filterControl=new fesm5_forms.FormControl(""),this.tabsetControl=new fesm5_forms.FormControl(null);const routeLink=this.route.snapshot.firstChild.url[0].path;this.tabsetControl.setValue(routeLink,{emitEvent:!1})}ngOnInit(){this.tabsetControl.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(value=>{"interested"===value?this.router.navigate(["../tenant-listing/interested"],{relativeTo:this.route}):this.router.navigate(["../tenant-listing/registered"],{relativeTo:this.route})})}};tenant_listing_component_TenantListingComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-tenant-listing",template:(__webpack_require__(1554).default||__webpack_require__(1554)).length?__webpack_require__(1554).default||__webpack_require__(1554):"",styles:[(__webpack_require__(1555).default||__webpack_require__(1555)).length?__webpack_require__(1555).default||__webpack_require__(1555):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_a=void 0!==fesm5_router.i&&fesm5_router.i)?_a:Object,"function"==typeof(_b=void 0!==fesm5_router.a&&fesm5_router.a)?_b:Object,"function"==typeof(_c=void 0!==translate_pipe.a&&translate_pipe.a)?_c:Object])],tenant_listing_component_TenantListingComponent);var edit_organisation_component_a,edit_organisation_component_b,edit_organisation_component_c,shared_module=__webpack_require__(587),filter=__webpack_require__(44);let edit_organisation_component_EditOrganisationComponent=class EditOrganisationComponent extends unsubscribe.a{constructor(router,route,translatePipe){super(),this.router=router,this.route=route,this.translatePipe=translatePipe,this.subMenu=[{id:1,name:this.translatePipe.transform("ORGANISATION_DETAILS"),canAddChild:!1,deletable:!1,routerLink:"organisation-details"},{id:2,name:this.translatePipe.transform("SUBSCRIPTION"),canAddChild:!1,deletable:!1,routerLink:"subscription"},{id:3,name:this.translatePipe.transform("MODULES_PLUG_INS"),canAddChild:!1,deletable:!1,routerLink:"modules-and-plug-ins"},{id:4,name:this.translatePipe.transform("INTEGRATIONS"),canAddChild:!1,deletable:!1,routerLink:"integrations"},{id:5,name:this.translatePipe.transform("USER_RIGHTS_PRIVILEGES"),canAddChild:!1,deletable:!1,routerLink:"user-rights-and-privileges"},{id:6,name:this.translatePipe.transform("ROLE_TEMPLATES"),canAddChild:!1,deletable:!1,routerLink:"role-templates"},{id:7,name:this.translatePipe.transform("SURVEY"),canAddChild:!1,deletable:!1,routerLink:"survey"}],this.pageHeader="",this.headerType=public_api.g.PAGE}ngOnInit(){this.setBreadCrumbs(),this.router.events.pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(event=>event instanceof fesm5_router.c)).subscribe(()=>{this.setBreadCrumbs()})}subMenuSelectedItem(subMenuItem){this.router.navigate([subMenuItem.routerLink],{relativeTo:this.route})}setBreadCrumbs(){const routeLink=this.route.snapshot.firstChild.url[0].path;this.level=this.subMenu.map(item=>item.routerLink).indexOf(routeLink);const subMenuItem=this.subMenu[this.level];this.pageHeader=subMenuItem.name}};edit_organisation_component_EditOrganisationComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-edit-organisation",template:(__webpack_require__(1556).default||__webpack_require__(1556)).length?__webpack_require__(1556).default||__webpack_require__(1556):"",styles:[(__webpack_require__(1557).default||__webpack_require__(1557)).length?__webpack_require__(1557).default||__webpack_require__(1557):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(edit_organisation_component_a=void 0!==fesm5_router.i&&fesm5_router.i)?edit_organisation_component_a:Object,"function"==typeof(edit_organisation_component_b=void 0!==fesm5_router.a&&fesm5_router.a)?edit_organisation_component_b:Object,"function"==typeof(edit_organisation_component_c=void 0!==translate_pipe.a&&translate_pipe.a)?edit_organisation_component_c:Object])],edit_organisation_component_EditOrganisationComponent);var tenant_service_a,api_service=__webpack_require__(217),map=__webpack_require__(22);let tenant_service_TenantService=class TenantService{constructor(apiService){this.apiService=apiService,this.tenant_sub_url="controller/api/tenant"}getRegisteredTenantsList(){return this.apiService.get(this.tenant_sub_url+"/registered")}getRegisteredTenantSummary(tenantId){return this.apiService.get(`${this.tenant_sub_url}/registered/${tenantId}`)}updateTenantStatus(id,active){return this.apiService.put(`${this.tenant_sub_url}/${id}/status?status=${active}`)}bulkUpdateTenantStatusToActive(data){return this.apiService.put(this.tenant_sub_url+"/registered/active",data)}bulkUpdateTenantStatusToInActive(data){return this.apiService.put(this.tenant_sub_url+"/registered/inactive",data)}bulkUpdateTenantStatusToArchive(data){return this.apiService.put(this.tenant_sub_url+"/registered/archive",data)}bulkUpdateTenantStatusToClose(data){return this.apiService.put(this.tenant_sub_url+"/registered/close",data)}getInterestedTenantsList(){return this.apiService.get(this.tenant_sub_url+"/interested")}initiateRegistration(tenantId){return this.apiService.post(`${this.tenant_sub_url}/initiate-registration/${tenantId}`,null)}deleteInterestedTenant(tenantId){return this.apiService.delete(`${this.tenant_sub_url}/interested/${tenantId}`)}createEntryInInterestedTenantsList(data){return this.apiService.get("controller/organization/signup",data)}getOrganisationDetails(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}`)}createOrganisationDetails(data){return this.apiService.post(""+this.tenant_sub_url,data)}updateOrganisationDetails(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}`,data)}updateSqaureLogoOfTenant(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/squareIcon/upload`,data)}deleteSqaureLogoOfTenant(tenantId,data){return this.apiService.delete(`${this.tenant_sub_url}/${tenantId}/squareIcon/remove`,data)}updateLogoOfTenant(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/logo/upload`,data)}deleteLogoOfTenant(tenantId,data){return this.apiService.delete(`${this.tenant_sub_url}/${tenantId}/logo/remove`,data)}getTenantSubscription(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/subscription`)}updateTenantSubscription(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/subscription`,data)}getTenantModulePlugins(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/module-plugin`)}updateTenantModulePlugins(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/module-plugin`,data)}getTenantIntegrations(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/integration`)}updateTenantIntegrations(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/integration`,data)}getTenantPrivileges(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/privileges`)}updateTenantPrivileges(tenantId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/privileges`,data)}getTenantRoles(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/roles`).pipe(Object(map.a)(res=>this.transformRoles(tenantId,res)))}updateTenantRoleActive(tenantId,roleId,active){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/role/${roleId}/active?active=${active}`)}getTenantRoleDetails(tenantId,roleId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/role/${roleId}`)}createTenantRoleWithPrivileges(tenantId,data){return this.apiService.post(`${this.tenant_sub_url}/${tenantId}/role`,data)}updateTenantRoleWithPrivileges(tenantId,roleId,data){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/role/${roleId}`,data)}getTenantSurveyList(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/surveys`)}updateTenantSurveyStatus(tenantId,surveyId,active){return this.apiService.put(`${this.tenant_sub_url}/${tenantId}/survey/${surveyId}/active?active=${active}`)}transformRoles(tenantTypeId,data){const roles=[];return data.forEach(role=>{roles.push(Object.assign(Object.assign({},role),{tenantTypeId:tenantTypeId,active:{value:!!role.active,disable:role.userExist},custom:{value:!!role.custom}}))}),roles}};tenant_service_TenantService=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(tenant_service_a=void 0!==api_service.a&&api_service.a)?tenant_service_a:Object])],tenant_service_TenantService);var organisation_details_component_a,organisation_details_component_b,_d,_e,_f,_g,_h,_j,dropdown_options_service=__webpack_require__(1408),utils=__webpack_require__(586),ng_zorro_antd_message=__webpack_require__(185);let organisation_details_component_OrganisationDetailsComponent=class OrganisationDetailsComponent{constructor(tenantService,dropdownOptionsService,route,router,messageService,translatePipe){this.tenantService=tenantService,this.dropdownOptionsService=dropdownOptionsService,this.route=route,this.router=router,this.messageService=messageService,this.translatePipe=translatePipe,this.labelType=public_api.h,this.logoAddedOrRemoved=!1,this.formIsSaved=!1,this.controls={squareIconUrl:new fesm5_forms.FormControl(null),logoUrl:new fesm5_forms.FormControl(null),legalName:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),displayName:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),subDomain:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),country:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),languageId:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),typeId:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required)},this.countryOptions=[],this.languageOptions=[],this.tenantTypeOptions=[],this.organisationDetailForm=new fesm5_forms.FormGroup(this.controls),this.tenantId=+this.route.parent.snapshot.paramMap.get("id")}canDeactivate(){return!(this.logoAddedOrRemoved||this.organisationDetailForm.dirty&&!this.formIsSaved)}ngOnInit(){this.getFilterOptions(),this.setFormData()}getFilterOptions(){this.dropdownOptionsService.tenantLanguages().subscribe(res=>{this.languageOptions=res.map(l=>({label:l.name,value:l.id+""}))}),this.dropdownOptionsService.tenantTypes().subscribe(res=>{this.tenantTypeOptions=res.map(l=>({label:l.name,value:l.id+""}))}),this.dropdownOptionsService.countriesList().subscribe(res=>{this.countryOptions=res.map(l=>({label:l.name,value:l.name+""}))})}setFormData(){this.tenantService.getOrganisationDetails(this.tenantId).subscribe(res=>{console.log(res),this.orgDetails=res;const languageId=res.languageId?res.languageId.toString():null,typeId=res.typeId?res.typeId.toString():null,country=res.country;this.organisationDetailForm.patchValue(Object.assign(Object.assign({},res),{languageId:languageId,typeId:typeId,country:country}))}),console.log(this.organisationDetailForm)}uploadSquareLogo(){this.logoAddedOrRemoved=!0,this.squareLogoInput.nativeElement.click()}addSquareLogo(event){this.logoAddedOrRemoved=!0;const file=event.target.files[0];console.log(file);const formData=new FormData;if(file){const fileReader=new FileReader;fileReader.onload=f=>{formData.append("file",file),this.tenantService.updateSqaureLogoOfTenant(this.tenantId,formData).subscribe(res=>{console.log("uploaded square logo",res),this.controls.squareIconUrl.setValue(null),this.controls.squareIconUrl.setValue(res.squareIconUrl),this.messageService.success(this.translatePipe.transform("IMAGE_UPLOADED_SUCCESSFULLY"))})},fileReader.readAsDataURL(file)}}deleteSquareLogo(){this.logoAddedOrRemoved=!0;const logoUrl=this.organisationDetailForm.controls.squareIconUrl.value;this.tenantService.deleteSqaureLogoOfTenant(this.tenantId,{name:logoUrl}).subscribe(res=>{console.log("deleted square logo",res),this.organisationDetailForm.controls.squareIconUrl.reset(),this.messageService.success(this.translatePipe.transform("IMAGE_REMOVED_SUCCESSFULLY"))})}uploadLogo(){this.logoAddedOrRemoved=!0,this.logoInput.nativeElement.click()}addLogo(event){this.logoAddedOrRemoved=!0;const file=event.target.files[0],formData=new FormData;if(file){const fileReader=new FileReader;fileReader.onload=f=>{formData.append("file",file),this.tenantService.updateLogoOfTenant(this.tenantId,formData).subscribe(res=>{console.log("uploaded logo",res),this.controls.logoUrl.setValue(null),this.controls.logoUrl.setValue(res.tenantLogo),this.messageService.success(this.translatePipe.transform("IMAGE_UPLOADED_SUCCESSFULLY"))})},fileReader.readAsDataURL(file)}}deleteLogo(){this.logoAddedOrRemoved=!0;const logoUrl=this.organisationDetailForm.controls.logoUrl.value;this.tenantService.deleteLogoOfTenant(this.tenantId,{name:logoUrl}).subscribe(res=>{console.log("deleted logo",res),this.organisationDetailForm.controls.logoUrl.reset(),this.messageService.success(this.translatePipe.transform("IMAGE_REMOVED_SUCCESSFULLY"))})}reset(){const languageId=this.orgDetails.languageId?this.orgDetails.languageId.toString():null,typeId=this.orgDetails.typeId?this.orgDetails.typeId.toString():null;this.organisationDetailForm.patchValue(Object.assign(Object.assign({},this.orgDetails),{languageId:languageId,typeId:typeId}))}update(action,formElement){if(this.organisationDetailForm.invalid)utils.a.checkFormValidity(this.organisationDetailForm,formElement);else{const data=this.organisationDetailForm.getRawValue();console.log(data,"raw data"),this.tenantService.updateOrganisationDetails(this.tenantId,data).subscribe(res=>{this.logoAddedOrRemoved=!1,this.formIsSaved=!0,this.messageService.success(this.translatePipe.transform("DETAILS_UPDATED_SUCCESSFULLY")),"back"===action?this.router.navigate(["../../../../tenant-listing"],{relativeTo:this.route}):this.router.navigate(["../subscription"],{relativeTo:this.route})},error=>{})}}};var subscription_component_b,subscription_component_c,subscription_component_d,subscription_component_e,subscription_component_f,subscription_component_g;Object(tslib_es6.c)([Object(core.ViewChild)("squareLogoInput",{static:!0}),Object(tslib_es6.f)("design:type","function"==typeof(organisation_details_component_a=void 0!==core.ElementRef&&core.ElementRef)?organisation_details_component_a:Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"squareLogoInput",void 0),Object(tslib_es6.c)([Object(core.ViewChild)("logoInput",{static:!0}),Object(tslib_es6.f)("design:type","function"==typeof(organisation_details_component_b=void 0!==core.ElementRef&&core.ElementRef)?organisation_details_component_b:Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"logoInput",void 0),Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"canDeactivate",null),organisation_details_component_OrganisationDetailsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-organisation-details",template:(__webpack_require__(1558).default||__webpack_require__(1558)).length?__webpack_require__(1558).default||__webpack_require__(1558):"",styles:[(__webpack_require__(1559).default||__webpack_require__(1559)).length?__webpack_require__(1559).default||__webpack_require__(1559):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_d=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?_d:Object,"function"==typeof(_e=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?_e:Object,"function"==typeof(_f=void 0!==fesm5_router.a&&fesm5_router.a)?_f:Object,"function"==typeof(_g=void 0!==fesm5_router.i&&fesm5_router.i)?_g:Object,"function"==typeof(_h=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?_h:Object,"function"==typeof(_j=void 0!==translate_pipe.a&&translate_pipe.a)?_j:Object])],organisation_details_component_OrganisationDetailsComponent);let subscription_component_SubscriptionComponent=class SubscriptionComponent{constructor(tenantService,dropdownOptionsService,router,route,translatePipe,messageService){this.tenantService=tenantService,this.dropdownOptionsService=dropdownOptionsService,this.router=router,this.route=route,this.translatePipe=translatePipe,this.messageService=messageService,this.orientation=public_api.m,this.buttonType=public_api.c,this.subscriptionControls={status:new fesm5_forms.FormControl(null),signupDate:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),startDate:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),expiryDate:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),otherTenantPart:new fesm5_forms.FormControl(null),enrollIntoNxq:new fesm5_forms.FormControl(null),restrictContent:new fesm5_forms.FormControl(null),publishPathwayBytes:new fesm5_forms.FormControl(null),selfSignUp:new fesm5_forms.FormControl(null)},this.activeUsersLicenseControls={purchased:new fesm5_forms.FormControl(null),inUse:new fesm5_forms.FormControl(null),available:new fesm5_forms.FormControl(null)},this.subscribersLicenseControls={purchased:new fesm5_forms.FormControl(null),inUse:new fesm5_forms.FormControl(null),available:new fesm5_forms.FormControl(null)},this.administratorControls={name:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required),email:new fesm5_forms.FormControl(null),phone:new fesm5_forms.FormControl(null)},this.subscriptionForm=new fesm5_forms.FormGroup(this.subscriptionControls),this.activeUsersForm=new fesm5_forms.FormGroup(Object.assign({},this.activeUsersLicenseControls)),this.subscribersForm=new fesm5_forms.FormGroup(Object.assign({},this.subscribersLicenseControls)),this.administratorForm=new fesm5_forms.FormGroup(this.administratorControls),this.formIsSaved=!1,this.tenantId=+this.route.parent.snapshot.paramMap.get("id")}canDeactivate(){return!((this.subscriptionForm.dirty||this.activeUsersForm.dirty||this.subscribersForm.dirty||this.administratorForm.dirty)&&!this.formIsSaved)}ngOnInit(){this.tenantService.getTenantSubscription(this.tenantId).subscribe(res=>{this.subscription=res,this.setFormData()})}setFormData(){this.subscriptionForm.patchValue(Object.assign({},this.subscription.subscription)),this.activeUsersForm.patchValue(Object.assign({},this.subscription.license.activeUsers)),this.subscribersForm.patchValue(Object.assign({},this.subscription.license.subscribers)),this.administratorForm.patchValue(Object.assign({},this.subscription.administrator));const activeUsersInUse=this.subscription.license.activeUsers.inUse,subscribersInUse=this.subscription.license.subscribers.inUse;this.activeUsersForm.controls.purchased.setValidators([fesm5_forms.Validators.required,fesm5_forms.Validators.min(activeUsersInUse)]),this.subscribersForm.controls.purchased.setValidators([fesm5_forms.Validators.required,fesm5_forms.Validators.min(subscribersInUse)]),this.activeUsersForm.controls.purchased.updateValueAndValidity(),this.subscribersForm.controls.purchased.updateValueAndValidity(),this.activeUsersForm.controls.inUse.disable(),this.activeUsersForm.controls.available.disable(),this.subscribersForm.controls.inUse.disable(),this.subscribersForm.controls.available.disable(),this.administratorForm.controls.email.disable(),this.administratorForm.controls.phone.disable()}update(action,f1,f2,f3,f4){if(console.log(this.activeUsersForm.invalid),this.subscriptionForm.invalid)utils.a.checkFormValidity(this.subscriptionForm,f1);else if(this.activeUsersForm.invalid)utils.a.checkFormValidity(this.activeUsersForm,f2);else if(this.subscribersForm.invalid)utils.a.checkFormValidity(this.subscribersForm,f3);else if(this.administratorForm.invalid)utils.a.checkFormValidity(this.administratorForm,f4);else{const data={subscription:this.subscriptionForm.getRawValue(),license:{activeUsers:this.activeUsersForm.getRawValue(),subscribers:this.subscribersForm.getRawValue()},administrator:this.administratorForm.getRawValue()};this.tenantService.updateTenantSubscription(this.tenantId,data).subscribe(res=>{this.formIsSaved=!0,this.messageService.success(this.translatePipe.transform("SUBSCRIPTIONS_UPDATED_SUCCESSFULLY")),"back"===action?this.router.navigate(["../organisation-details"],{relativeTo:this.route}):this.router.navigate(["../modules-and-plug-ins"],{relativeTo:this.route})})}}reset(){this.setFormData()}};var modules_plug_ins_component_b,modules_plug_ins_component_c,modules_plug_ins_component_d,modules_plug_ins_component_e,modules_plug_ins_component_f,modules_plug_ins_component_g;Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",Object)],subscription_component_SubscriptionComponent.prototype,"canDeactivate",null),subscription_component_SubscriptionComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-subscription",template:(__webpack_require__(1560).default||__webpack_require__(1560)).length?__webpack_require__(1560).default||__webpack_require__(1560):"",styles:[(__webpack_require__(1561).default||__webpack_require__(1561)).length?__webpack_require__(1561).default||__webpack_require__(1561):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(subscription_component_b=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?subscription_component_b:Object,"function"==typeof(subscription_component_c=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?subscription_component_c:Object,"function"==typeof(subscription_component_d=void 0!==fesm5_router.i&&fesm5_router.i)?subscription_component_d:Object,"function"==typeof(subscription_component_e=void 0!==fesm5_router.a&&fesm5_router.a)?subscription_component_e:Object,"function"==typeof(subscription_component_f=void 0!==translate_pipe.a&&translate_pipe.a)?subscription_component_f:Object,"function"==typeof(subscription_component_g=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?subscription_component_g:Object])],subscription_component_SubscriptionComponent);let modules_plug_ins_component_ModulesPlugInsComponent=class ModulesPlugInsComponent{constructor(tenantService,dropdownOptionsService,router,route,messageService,translatePipe){this.tenantService=tenantService,this.dropdownOptionsService=dropdownOptionsService,this.router=router,this.route=route,this.messageService=messageService,this.translatePipe=translatePipe,this.masterPlugins=[],this.tenantModules=[],this.tenantPlugins=[],this.modulesForm=new fesm5_forms.FormGroup({}),this.pluginsForm=new fesm5_forms.FormGroup({}),this.formIsSaved=!1,this.tenantId=+this.route.parent.snapshot.paramMap.get("id")}canDeactivate(){return!!this.formIsSaved||!((this.modulesForm.touched&&this.modulesForm.dirty||this.pluginsForm.touched&&this.pluginsForm.dirty)&&!this.formIsSaved)}ngOnInit(){this.setFormData()}setFormData(){this.tenantService.getTenantModulePlugins(this.tenantId).subscribe(res=>{console.log(res),this.masterPlugins=res.master,res.tenants.Modules.forEach(module=>{this.modulesForm.addControl(module.masterId+"",new fesm5_forms.FormControl(module.active))}),res.tenants.Plugins.forEach(module=>{this.pluginsForm.addControl(module.masterId+"",new fesm5_forms.FormControl(module.active))}),this.tenantModules=res.tenants.Modules,this.tenantPlugins=res.tenants.Plugins})}reset(){this.tenantModules.forEach(module=>{this.modulesForm.patchValue({[module.masterId]:module.active})}),this.tenantPlugins.forEach(module=>{this.pluginsForm.patchValue({[module.masterId]:module.active})})}update(action){this.formIsSaved=!0;const moduleForm=this.modulesForm.getRawValue(),pluginForm=this.pluginsForm.getRawValue(),data=this.transformTenantPlugins(moduleForm,pluginForm);this.tenantService.updateTenantModulePlugins(this.tenantId,data).subscribe(res=>{this.messageService.success(this.translatePipe.transform("MODULES_PLUGINS_UPDATED")),console.log("updated",res),"back"===action?this.router.navigate(["../subscription"],{relativeTo:this.route}):this.router.navigate(["../integrations"],{relativeTo:this.route})})}transformTenantPlugins(moduleForm,pluginForm){const Modules=[],Plugins=[];return Object.keys(moduleForm).forEach(id=>{Modules.push({masterId:+id,active:moduleForm[id]})}),Object.keys(pluginForm).forEach(id=>{Plugins.push({masterId:+id,active:pluginForm[id]})}),{tenants:{Modules:Modules,Plugins:Plugins}}}searchQueryChanged($event){}};var integrations_component_a,integrations_component_b,integrations_component_c;Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",Object)],modules_plug_ins_component_ModulesPlugInsComponent.prototype,"canDeactivate",null),modules_plug_ins_component_ModulesPlugInsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-modules-plug-ins",template:(__webpack_require__(1562).default||__webpack_require__(1562)).length?__webpack_require__(1562).default||__webpack_require__(1562):"",styles:[(__webpack_require__(1563).default||__webpack_require__(1563)).length?__webpack_require__(1563).default||__webpack_require__(1563):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(modules_plug_ins_component_b=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?modules_plug_ins_component_b:Object,"function"==typeof(modules_plug_ins_component_c=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?modules_plug_ins_component_c:Object,"function"==typeof(modules_plug_ins_component_d=void 0!==fesm5_router.i&&fesm5_router.i)?modules_plug_ins_component_d:Object,"function"==typeof(modules_plug_ins_component_e=void 0!==fesm5_router.a&&fesm5_router.a)?modules_plug_ins_component_e:Object,"function"==typeof(modules_plug_ins_component_f=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?modules_plug_ins_component_f:Object,"function"==typeof(modules_plug_ins_component_g=void 0!==translate_pipe.a&&translate_pipe.a)?modules_plug_ins_component_g:Object])],modules_plug_ins_component_ModulesPlugInsComponent);let integrations_component_IntegrationsComponent=class IntegrationsComponent{constructor(tenantService,route,router){this.tenantService=tenantService,this.route=route,this.router=router,this.buttonType=public_api.c,this.masterIntegrations={},this.integrations={},this.integrationsForm=new fesm5_forms.FormGroup({}),this.tenantId=+this.route.parent.snapshot.paramMap.get("id")}ngOnInit(){this.tenantService.getTenantIntegrations(this.tenantId).subscribe(data=>{console.log(data,"data"),Object.keys(data).forEach(integration=>{this.integrationsForm.addControl(integration,new fesm5_forms.FormControl(data[integration].selected)),this.masterIntegrations[integration]=data[integration].masters,console.log(this.masterIntegrations,"tenant-listing"),this.integrations[integration]=data[integration].selected})})}integrationSelected(integration,selected){this.integrationsForm.patchValue({[integration]:[selected]})}update(action){const integrationForm=this.integrationsForm.getRawValue(),data=this.transformIntegrations(integrationForm);this.tenantService.updateTenantIntegrations(this.tenantId,data).subscribe(res=>{"back"===action?this.router.navigate(["../modules-and-plug-ins"],{relativeTo:this.route}):this.router.navigate(["../user-rights-and-privileges"],{relativeTo:this.route})})}reset(){Object.keys(this.integrations).forEach(integration=>{this.integrationsForm.patchValue({[integration]:this.integrations[integration]})})}transformIntegrations(integrationForm){const selected={};return Object.keys(integrationForm).forEach(key=>{selected[key]={selected:integrationForm[key]}}),selected}};integrations_component_IntegrationsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-integrations",template:(__webpack_require__(1564).default||__webpack_require__(1564)).length?__webpack_require__(1564).default||__webpack_require__(1564):"",styles:[(__webpack_require__(1565).default||__webpack_require__(1565)).length?__webpack_require__(1565).default||__webpack_require__(1565):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(integrations_component_a=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?integrations_component_a:Object,"function"==typeof(integrations_component_b=void 0!==fesm5_router.a&&fesm5_router.a)?integrations_component_b:Object,"function"==typeof(integrations_component_c=void 0!==fesm5_router.i&&fesm5_router.i)?integrations_component_c:Object])],integrations_component_IntegrationsComponent);var user_rights_privileges_component_b,user_rights_privileges_component_c,user_rights_privileges_component_d,user_rights_privileges_component_e,user_rights_privileges_component_f,user_rights_privileges_component_g,tenant_type_privileges_manager=__webpack_require__(1691);let user_rights_privileges_component_UserRightsPrivilegesComponent=class UserRightsPrivilegesComponent{constructor(tenantService,tenantTypePrivilegesManager,route,router,messageService,translatePipe){this.tenantService=tenantService,this.tenantTypePrivilegesManager=tenantTypePrivilegesManager,this.route=route,this.router=router,this.messageService=messageService,this.translatePipe=translatePipe,this.buttonType=public_api.c,this.formValueChanged=!1,this.formIsSaved=!1,this.selectedPrivileges=[],this.tenantId=+this.route.parent.snapshot.paramMap.get("id")}canDeactivate(){return!this.formValueChanged&&!this.formIsSaved||!(this.formValueChanged&&!this.formIsSaved)}ngOnInit(){this.tenantService.getTenantPrivileges(this.tenantId).pipe(Object(filter.a)(v=>!!v)).subscribe(data=>{console.log(data,"data"),this.privilegeRoles=data.roles,this.privileges=data.privileges,this.previousPrivileges=[...data.privileges],console.log(this.privileges,"privileges"),console.log(this.previousPrivileges,"previous privileges")})}reset(){this.selectedPrivileges=[],this.privileges=[],setTimeout(()=>{this.privileges=[...this.previousPrivileges]})}update(action){const data={privileges:this.tenantTypePrivilegesManager.transformPrivilege(this.privileges,this.selectedPrivileges)};this.tenantService.updateTenantPrivileges(this.tenantId,data).subscribe(res=>{this.formIsSaved=!0,this.messageService.success(this.translatePipe.transform("PRIVILEGES_UPDATED")),"back"===action?this.router.navigate(["../integrations"],{relativeTo:this.route}):this.router.navigate(["../role-templates"],{relativeTo:this.route})})}updatePrivilegeList(event){this.formValueChanged=!0;const index=this.selectedPrivileges.map(p=>p.privilegeId).indexOf(event.privilegeId);-1!==index?this.selectedPrivileges[index]=Object.assign(Object.assign({},event),{roleIds:event.roleIds}):this.selectedPrivileges.push(event),console.log(this.selectedPrivileges,event)}updatePrivileges(privileges,updatedPrivilege){return privileges.map(item=>item.privilegeId===updatedPrivilege.privilegeId?Object.assign(Object.assign({},item),updatedPrivilege):item.children?Object.assign(Object.assign({},item),{children:this.updatePrivileges(item.children,updatedPrivilege)}):item)}};Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",Object)],user_rights_privileges_component_UserRightsPrivilegesComponent.prototype,"canDeactivate",null),user_rights_privileges_component_UserRightsPrivilegesComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-user-rights-privileges",template:(__webpack_require__(1566).default||__webpack_require__(1566)).length?__webpack_require__(1566).default||__webpack_require__(1566):"",styles:[(__webpack_require__(1567).default||__webpack_require__(1567)).length?__webpack_require__(1567).default||__webpack_require__(1567):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(user_rights_privileges_component_b=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?user_rights_privileges_component_b:Object,"function"==typeof(user_rights_privileges_component_c=void 0!==tenant_type_privileges_manager.a&&tenant_type_privileges_manager.a)?user_rights_privileges_component_c:Object,"function"==typeof(user_rights_privileges_component_d=void 0!==fesm5_router.a&&fesm5_router.a)?user_rights_privileges_component_d:Object,"function"==typeof(user_rights_privileges_component_e=void 0!==fesm5_router.i&&fesm5_router.i)?user_rights_privileges_component_e:Object,"function"==typeof(user_rights_privileges_component_f=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?user_rights_privileges_component_f:Object,"function"==typeof(user_rights_privileges_component_g=void 0!==translate_pipe.a&&translate_pipe.a)?user_rights_privileges_component_g:Object])],user_rights_privileges_component_UserRightsPrivilegesComponent);var role_templates_component_a,role_templates_component_b,role_templates_component_c,role_templates_component_d,role_templates_component_e,privilege_utils=__webpack_require__(87),privilege_enum=__webpack_require__(47);let role_templates_component_RoleTemplatesComponent=class RoleTemplatesComponent extends unsubscribe.a{constructor(tenantService,router,route,translatePipe,messageService){super(),this.tenantService=tenantService,this.router=router,this.route=route,this.translatePipe=translatePipe,this.messageService=messageService,this.visible=!1,this.buttonType=public_api.c,this.showAdd=!1,this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SUBSCRIPTIONS,privilege_enum.a.TENANT_LISTING,privilege_enum.a.EDIT]),this.headers=[{title:this.translatePipe.transform("ROLE_NAME"),type:public_api.s.TEXT,property:"name",showSort:!0},{title:this.translatePipe.transform("ACTIVE"),type:public_api.s.COMPONENT,property:"active",component:public_api.f},{title:this.translatePipe.transform("TYPE"),type:public_api.s.TEXT,property:"typeName",showSort:!0},{title:this.translatePipe.transform("SUB_TYPE"),type:public_api.s.TEXT,property:"subtypeName",showSort:!0},{title:this.translatePipe.transform("DESCRIPTION"),type:public_api.s.QUILL_TEXT,property:"description",showSort:!0},{title:this.translatePipe.transform("ACTIONS"),type:public_api.s.ACTIONS,property:"",actions:[{title:this.translatePipe.transform("EDIT"),type:public_api.r.BUTTON}]}],this.roles=[],this.data=[],this.isLoading=!0,this.showPagination=!1,this.enableSelect=!1,this.tenantId=+this.route.parent.snapshot.paramMap.get("id")}ngOnInit(){this.tenantService.getTenantRoles(this.tenantId).subscribe(data=>{this.roles=data,this.data=[...this.roles],this.data&&(this.isLoading=!1)}),this.editAllowed||this.headers.filter(s=>"Actions"===s.title)}actionClicked(event){console.log("Action Clicked",event),this.selectedRole=event.data,this.showAdd=!0}filters(event){event.search?this.data=[...this.roles.filter(role=>role.name.toLowerCase().includes(event.search.toLowerCase())||(role.id+"").toLowerCase().includes(event.search.toLowerCase()))]:this.data=[...this.roles]}add(){this.showAdd=!0,this.selectedRole=null}update(action){"back"===action?this.router.navigate(["../user-rights-and-privileges"],{relativeTo:this.route}):this.router.navigate(["../survey"],{relativeTo:this.route})}onClose(){this.formIsDirty?this.showModal=!0:(this.showAdd=!1,this.tenantService.getTenantRoles(this.tenantId).subscribe(data=>{this.roles=data,this.data=[...this.roles]}))}onActive(event){console.log(event),this.tenantService.updateTenantRoleActive(this.tenantId,event.data.id,event.active).subscribe(res=>{console.log("active updated"),this.messageService.success(this.translatePipe.transform("ROLE_ACTIVATED_SUCCESSFULLY"))})}onCancelPopup(){this.showModal=!1}onConfirmPopup(){this.showModal=!1,this.showAdd=!1,this.formIsDirty=!1}formDirtyStateChanged(event){this.formIsDirty=event}};var navigation_component_a,navigation_component_b,navigation_component_c;role_templates_component_RoleTemplatesComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-role-templates",template:(__webpack_require__(1568).default||__webpack_require__(1568)).length?__webpack_require__(1568).default||__webpack_require__(1568):"",styles:[(__webpack_require__(1569).default||__webpack_require__(1569)).length?__webpack_require__(1569).default||__webpack_require__(1569):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(role_templates_component_a=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?role_templates_component_a:Object,"function"==typeof(role_templates_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?role_templates_component_b:Object,"function"==typeof(role_templates_component_c=void 0!==fesm5_router.a&&fesm5_router.a)?role_templates_component_c:Object,"function"==typeof(role_templates_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?role_templates_component_d:Object,"function"==typeof(role_templates_component_e=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?role_templates_component_e:Object])],role_templates_component_RoleTemplatesComponent);let navigation_component_NavigationComponent=class NavigationComponent{constructor(route,router,translatePipe){this.route=route,this.router=router,this.translatePipe=translatePipe,this.selectControl=new fesm5_forms.FormControl,this.selectOptions=[{label:this.translatePipe.transform("SCHOOL"),value:"School"},{label:this.translatePipe.transform("COLLEGE"),value:"college"}],this.modules=["module 1","module 2","module 3","module 4"],this.plugins=["plugin 1","plugin 2","plugin 3","plugin 4"],this.modulesDict=[]}ngOnInit(){this.createArray(this.modules),this.moduleSwitchFormGroup=new fesm5_forms.FormGroup({})}createArray(array){for(const index of array)this.modulesDict.push({id:index,formControl:new fesm5_forms.FormControl(!1)})}searchQueryChanged($event){}updateAndBack(){this.router.navigate(["../role-templates"],{relativeTo:this.route})}updateAndNext(){}reset(){}};navigation_component_NavigationComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-navigation",template:(__webpack_require__(1570).default||__webpack_require__(1570)).length?__webpack_require__(1570).default||__webpack_require__(1570):"",styles:[(__webpack_require__(1571).default||__webpack_require__(1571)).length?__webpack_require__(1571).default||__webpack_require__(1571):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(navigation_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?navigation_component_a:Object,"function"==typeof(navigation_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?navigation_component_b:Object,"function"==typeof(navigation_component_c=void 0!==translate_pipe.a&&translate_pipe.a)?navigation_component_c:Object])],navigation_component_NavigationComponent);var registered_component_a,registered_component_b,registered_component_c,registered_component_d,registered_component_e,date_utils=__webpack_require__(1414);let registered_component_RegisteredComponent=class RegisteredComponent{constructor(tenantService,router,route,translatePipe,messageService){this.tenantService=tenantService,this.router=router,this.route=route,this.translatePipe=translatePipe,this.messageService=messageService,this.drawerVisible=!1,this.buttonType=public_api.c,this.isLoading=!0,this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SUBSCRIPTIONS,privilege_enum.a.TENANT_LISTING,privilege_enum.a.EDIT]),this.headers=[{title:this.translatePipe.transform("ORGANISATION"),type:public_api.s.TEXT,property:"organization",showSort:!0},{title:this.translatePipe.transform("COUNTRY"),type:public_api.s.TEXT,property:"country",showSort:!0},{title:this.translatePipe.transform("TYPE"),type:public_api.s.TEXT,property:"type"},{title:this.translatePipe.transform("NAME"),type:public_api.s.TEXT,property:"name",showSort:!0},{title:this.translatePipe.transform("EMAIL"),type:public_api.s.TEXT,property:"email",showSort:!0},{title:this.translatePipe.transform("EXPIRY_DATE"),type:public_api.s.TEXT,property:"expiryDate"},{title:this.translatePipe.transform("STATUS"),type:public_api.s.COMPONENT,property:"status",component:public_api.d,component_meta:{options:[{label:this.translatePipe.transform("ACTIVE"),value:"Active"},{label:this.translatePipe.transform("NOT_ACTIVE"),value:"Inactive"},{label:this.translatePipe.transform("ARCHIVED"),value:"Archived"}],disable:!this.editAllowed}},{title:this.translatePipe.transform("ACTIONS"),type:public_api.s.ACTIONS,property:"",actions:[{title:"info-circle",type:public_api.r.ICON,value:"info-circle"},{title:this.translatePipe.transform("EDIT").toLowerCase(),type:public_api.r.BUTTON,value:"edit"}]}],this.selectedTenantIds=[],this.data=[]}ngOnInit(){this.tenantService.getRegisteredTenantsList().subscribe(res=>{this.registeredTenants=res,this.data=this.transformRegisteredTenants(res),this.data&&(this.isLoading=!1)}),this.editAllowed||(this.headers=this.headers.filter(s=>s.type!==public_api.s.ACTIONS))}onEdit(item){this.router.navigate([`../${item.id}/edit-organisation`],{relativeTo:this.route})}openDrawer(item){this.drawerVisible=!0,this.tenantDetails=item.data}onClose(){this.drawerVisible=!1,this.tenantDetails=null}actionClicked(item){"edit"===item.value?this.onEdit(item.data):"info-circle"===item.value&&(this.openDrawer(item),this.tenantId=item.data.id)}customAction(event){console.log("Custom Action",event),event.status&&this.tenantService.updateTenantStatus(event.data.id,event.status).subscribe(res=>{this.messageService.success(this.translatePipe.transform("STATUS_CHANGED_SUCCESSFULLY")),console.log("Set Status to"+event.status)})}filters(event){event.search?this.data=[...this.registeredTenants.filter(tenant=>tenant.name.toLowerCase().includes(event.search.toLowerCase())||(tenant.id+"").toLowerCase().includes(event.search.toLowerCase())||tenant.organization.toLowerCase().includes(event.search.toLowerCase()))]:this.data=[...this.registeredTenants],event.sortBy&&(this.data=utils.a.sortByMultipleValues(this.data,event.sortBy))}rowsSelected(event){console.log("Rows Selected",event),this.selectedTenantIds=event}transformRegisteredTenants(list){return[...list].map(tenant=>{let expiryDate="";return tenant.expiryDate&&(expiryDate=date_utils.a.convertToDateString(new Date(tenant.expiryDate))),Object.assign(Object.assign({},tenant),{expiryDate:expiryDate})})}activateSelected(){this.tenantService.bulkUpdateTenantStatusToActive({ids:this.selectedTenantIds}).subscribe(res=>{console.log("Set Status to Active"),this.bulkUpdateSelected(this.selectedTenantIds,"Active")})}deActivateSelected(){this.tenantService.bulkUpdateTenantStatusToInActive({ids:this.selectedTenantIds}).subscribe(res=>{console.log("Set Status to Deactivate"),this.bulkUpdateSelected(this.selectedTenantIds,"Inactive")})}archiveSelected(){this.tenantService.bulkUpdateTenantStatusToArchive({ids:this.selectedTenantIds}).subscribe(res=>{console.log("Set Status to Archive"),this.bulkUpdateSelected(this.selectedTenantIds,"Archived")})}closeSelected(){this.tenantService.bulkUpdateTenantStatusToClose({ids:this.selectedTenantIds}).subscribe(res=>{console.log("Set Status to Close"),this.bulkUpdateSelected(this.selectedTenantIds,"Closed")})}bulkUpdateSelected(selectedIds,status){this.registeredTenants=this.registeredTenants.map(tenant=>selectedIds.includes(tenant.id)?Object.assign(Object.assign({},tenant),{status:status}):tenant),this.data=this.transformRegisteredTenants(this.registeredTenants),this.selectedTenantIds=[]}};var interested_component_a,interested_component_b,interested_component_c,interested_component_d,interested_component_e;registered_component_RegisteredComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-registered",template:(__webpack_require__(1572).default||__webpack_require__(1572)).length?__webpack_require__(1572).default||__webpack_require__(1572):"",styles:[(__webpack_require__(1573).default||__webpack_require__(1573)).length?__webpack_require__(1573).default||__webpack_require__(1573):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(registered_component_a=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?registered_component_a:Object,"function"==typeof(registered_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?registered_component_b:Object,"function"==typeof(registered_component_c=void 0!==fesm5_router.a&&fesm5_router.a)?registered_component_c:Object,"function"==typeof(registered_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?registered_component_d:Object,"function"==typeof(registered_component_e=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?registered_component_e:Object])],registered_component_RegisteredComponent);let interested_component_InterestedComponent=class InterestedComponent{constructor(tenantService,router,route,translatePipe,messageService){this.tenantService=tenantService,this.router=router,this.route=route,this.translatePipe=translatePipe,this.messageService=messageService,this.buttonType=public_api.c,this.isLoading=!0,this.headers=[{title:this.translatePipe.transform("ORGANISATION"),type:public_api.s.TEXT,property:"organization",showSort:!0},{title:this.translatePipe.transform("NAME"),type:public_api.s.TEXT,property:"name"},{title:this.translatePipe.transform("REQUEST_DATE"),type:public_api.s.TEXT,property:"requestDate"},{title:this.translatePipe.transform("PHONE"),type:public_api.s.TEXT,property:"phone",showSort:!0},{title:this.translatePipe.transform("EMAIL"),type:public_api.s.TEXT,property:"email"},{title:this.translatePipe.transform("ACTIONS"),type:public_api.s.ACTIONS,property:"",actions:[{title:this.translatePipe.transform("INITIATE_REGISTRATION"),type:public_api.r.BUTTON,value:"initiate-registration"},{title:"close-circle",type:public_api.r.ICON,value:"close-circle"}]}],this.data=[{id:1,organisation:"Microsoft",phone:"+64554158511",name:"Jack Russel",email:"jack-39999@gmail.com",status:"active",requestDate:"Jan 25, 2019"}],this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SUBSCRIPTIONS,privilege_enum.a.TENANT_LISTING,privilege_enum.a.EDIT])}ngOnInit(){this.tenantService.getInterestedTenantsList().subscribe(res=>{this.interestedTenants=res,this.data=this.transformInterestedTenants(res),this.data&&(this.isLoading=!1)}),this.editAllowed||(this.headers=this.headers.filter(s=>s.type!==public_api.s.ACTIONS))}actionClicked(item){console.log(item),"initiate-registration"===item.value?this.initiateRegistration(item.data):"close-circle"===item.value&&(this.showModal=!0,this.deleteData=item.data)}rowsSelected(event){console.log("Rows Selected",event)}filters(event){event.search?this.data=[...this.interestedTenants.filter(tenant=>tenant.name.toLowerCase().includes(event.search.toLowerCase())||(tenant.id+"").toLowerCase().includes(event.search.toLowerCase())||tenant.email.toLowerCase().includes(event.search.toLowerCase())||tenant.organization.toLowerCase().includes(event.search.toLowerCase()))]:this.data=[...this.interestedTenants],event.sortBy&&(this.data=utils.a.sortByMultipleValues(this.data,event.sortBy))}deleteTenant(tenant){this.tenantService.deleteInterestedTenant(tenant.id).subscribe(res=>{console.log("Delete Tenant"),this.messageService.success(this.translatePipe.transform("ORGANISATION_DELETED_SUCCESSFULLY")),this.data=[...this.interestedTenants].filter(t=>t.id!==tenant.id),this.showModal=!1})}initiateRegistration(tenant){this.tenantService.initiateRegistration(tenant.id).subscribe(res=>{this.data=[...this.interestedTenants].filter(t=>t.id!==tenant.id),this.router.navigate([`../${res.id}/edit-organisation`],{relativeTo:this.route})})}transformInterestedTenants(list){return[...list].map(tenant=>{const requestDate=date_utils.a.convertToDateString(new Date(tenant.requestDate));return Object.assign(Object.assign({},tenant),{requestDate:requestDate})})}onCancel(){this.showModal=!1}onConfirm(){this.deleteTenant(this.deleteData)}};var tenant_survey_component_a,tenant_survey_component_b,tenant_survey_component_c,tenant_survey_component_d;interested_component_InterestedComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-interested",template:(__webpack_require__(1574).default||__webpack_require__(1574)).length?__webpack_require__(1574).default||__webpack_require__(1574):"",styles:[(__webpack_require__(1575).default||__webpack_require__(1575)).length?__webpack_require__(1575).default||__webpack_require__(1575):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(interested_component_a=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?interested_component_a:Object,"function"==typeof(interested_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?interested_component_b:Object,"function"==typeof(interested_component_c=void 0!==fesm5_router.a&&fesm5_router.a)?interested_component_c:Object,"function"==typeof(interested_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?interested_component_d:Object,"function"==typeof(interested_component_e=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?interested_component_e:Object])],interested_component_InterestedComponent);let tenant_survey_component_TenantSurveyComponent=class TenantSurveyComponent extends unsubscribe.a{constructor(tenantService,activatedRoute,translatePipe,messageService){super(),this.tenantService=tenantService,this.activatedRoute=activatedRoute,this.translatePipe=translatePipe,this.messageService=messageService,this.buttonType=public_api.c,this.isLoading=!0,this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SUBSCRIPTIONS,privilege_enum.a.TENANT_LISTING,privilege_enum.a.EDIT]),this.breadcrumbs=[{label:this.translatePipe.transform("LEARNING"),url:"learning"},{label:this.translatePipe.transform("PULSE"),url:"pulse"}],this.pageTitle=this.translatePipe.transform("LEARNING"),this.headerType=public_api.g,this.showPagination=!1,this.enableSelect=!1,this.tableHeaders=[{title:this.translatePipe.transform("TEMPLATE"),type:public_api.s.TEXT,property:"template"},{title:this.translatePipe.transform("ACTIVE"),type:public_api.s.COMPONENT,component:public_api.f,property:"active"},{title:this.translatePipe.transform("SURVEY_URL"),type:public_api.s.TEXT,property:"surveyUrl",customColumnClass:"max-width-200"},{title:this.translatePipe.transform("WEBHOOK_URL"),type:public_api.s.TEXT,property:"webhookUrl",showSort:!0},{title:this.translatePipe.transform("CUSTOM_VARIABLE"),type:public_api.s.COMPONENT,property:"selectedCustomVariable",component:public_api.e}],this.pulseData=[],this.threeSixtyData=[]}ngOnInit(){this.activatedRoute.parent.params.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{this.tenantId=+res.id,this.tenantId&&this.tenantService.getTenantSurveyList(this.tenantId).subscribe(value=>{this.pulseData=this.transformSurvey(value.pulse),this.threeSixtyData=this.transformSurvey(value.threeSixty),this.pulseData&&this.threeSixtyData&&(this.isLoading=!1)})}),this.editAllowed||this.tableHeaders.filter(s=>"Actions"===s.title)}transformSurvey(data){return data.map(survey=>Object.assign(Object.assign({},survey),{active:{value:survey.active,disable:!this.editAllowed||survey.courseExist},selectedCustomVariable:{placeholder:this.translatePipe.transform("SELECT_VARIABLES"),serverSearch:!1,tags:[...survey.selectedCustomVariable].map(variable=>variable.id+"")},meta:{selectedCustomVariable:{options:[...survey.selectedCustomVariable].map(variable=>({label:variable.name,value:variable.id+""}))}}}))}filters($event){}customActionClicked(event){event.hasOwnProperty("active")&&this.tenantService.updateTenantSurveyStatus(this.tenantId,event.data.surveyId,event.active).subscribe(value=>{this.messageService.success(this.translatePipe.transform("SURVEY_STATUS_CHANGED")),console.log("changed",value)})}};tenant_survey_component_TenantSurveyComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-tenant-survey",template:(__webpack_require__(1576).default||__webpack_require__(1576)).length?__webpack_require__(1576).default||__webpack_require__(1576):"",styles:[(__webpack_require__(1577).default||__webpack_require__(1577)).length?__webpack_require__(1577).default||__webpack_require__(1577):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(tenant_survey_component_a=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?tenant_survey_component_a:Object,"function"==typeof(tenant_survey_component_b=void 0!==fesm5_router.a&&fesm5_router.a)?tenant_survey_component_b:Object,"function"==typeof(tenant_survey_component_c=void 0!==translate_pipe.a&&translate_pipe.a)?tenant_survey_component_c:Object,"function"==typeof(tenant_survey_component_d=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?tenant_survey_component_d:Object])],tenant_survey_component_TenantSurveyComponent);var pending_changes_guard=__webpack_require__(1425);const tenantListingRoutes=[{path:"",component:tenant_listing_component_TenantListingComponent,children:[{path:"",redirectTo:"registered",pathMatch:"full"},{path:"registered",component:registered_component_RegisteredComponent},{path:"interested",component:interested_component_InterestedComponent}]},{path:":id/edit-organisation",component:edit_organisation_component_EditOrganisationComponent,children:[{path:"",redirectTo:"organisation-details",pathMatch:"full"},{path:"organisation-details",component:organisation_details_component_OrganisationDetailsComponent,canDeactivate:[pending_changes_guard.a]},{path:"subscription",component:subscription_component_SubscriptionComponent,canDeactivate:[pending_changes_guard.a]},{path:"modules-and-plug-ins",component:modules_plug_ins_component_ModulesPlugInsComponent,canDeactivate:[pending_changes_guard.a]},{path:"integrations",component:integrations_component_IntegrationsComponent},{path:"user-rights-and-privileges",component:user_rights_privileges_component_UserRightsPrivilegesComponent,canDeactivate:[pending_changes_guard.a]},{path:"role-templates",component:role_templates_component_RoleTemplatesComponent},{path:"survey",component:tenant_survey_component_TenantSurveyComponent},{path:"navigation",component:navigation_component_NavigationComponent}]}];let TenantListingRoutingModule=class TenantListingRoutingModule{};TenantListingRoutingModule=Object(tslib_es6.c)([Object(core.NgModule)({imports:[fesm5_router.l.forChild(tenantListingRoutes)],exports:[fesm5_router.l]})],TenantListingRoutingModule);var add_new_role_component_b,add_new_role_component_c,add_new_role_component_d,add_new_role_component_e,role_utils=__webpack_require__(1427);let add_new_role_component_AddNewRoleComponent=class AddNewRoleComponent extends unsubscribe.a{constructor(dropdownOptionsService,tenantService,translatePipe,messageService){super(),this.dropdownOptionsService=dropdownOptionsService,this.tenantService=tenantService,this.translatePipe=translatePipe,this.messageService=messageService,this.selectedTab=new fesm5_forms.FormControl("option-1"),this.formIsDirty=new core.EventEmitter,this.closeDrawer=new core.EventEmitter,this.typeOptions=[],this.previouslySelectedPrivileges=[],this.subTypeOptions=[],this.selectedPrivileges=[],this.selectedLeafNodes=[],this.privilegesToTransform=[],this.allPrivileges=[],this.assignedPrivileges=[],this.unAssignedPrivileges=[],this.controls={name:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),typeId:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),subTypeId:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),description:new fesm5_forms.FormControl("",[fesm5_forms.Validators.maxLength(1024)]),selected:new fesm5_forms.FormControl([]),unselected:new fesm5_forms.FormControl([])},this.form=new fesm5_forms.FormGroup(this.controls)}get role(){return this._role}set role(role){role&&(console.log("ROLE",role),this._role=role,this.tenantService.getTenantRoleDetails(this.tenantId,role.id).subscribe(res=>{console.log(res),this.form.patchValue(Object.assign(Object.assign({},res),{typeId:res.typeId+"",subTypeId:res.subTypeId+""}),{emitEvent:!1}),this.selectedPrivileges=res.selected?res.selected:[],this.previouslySelectedPrivileges=res.selected?res.selected:[],console.log("[Semper] this.tenantService.getTenantRoleDetails"),this.dropdownOptionsService.tenantRolePrivileges(this.tenantId,res.typeId).subscribe(data=>{this.privilegesToTransform=data,this.allPrivileges=role_utils.a.transformPrivilege(data),this.selectedPrivileges.length?(this.assignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateAssignedPrivileges(data,this.selectedPrivileges)),this.unAssignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateUnAssignedPrivileges(data,this.selectedPrivileges))):(this.assignedPrivileges=[],this.unAssignedPrivileges=[...this.allPrivileges])}),res.userExist&&(this.form.controls.typeId.disable({emitEvent:!1}),this.form.controls.subTypeId.disable({emitEvent:!1}))}))}canDeactivate(event){if(this.form.touched&&this.form.dirty)return!1}ngOnInit(){this.getDropDownOptions(),this.controls.typeId.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{this.typeSubTypes&&(this.subTypeOptions=[...this.typeSubTypes.subTypes].filter(subtype=>subtype.typeId===+res).map(subtype=>({label:subtype.name,value:subtype.id+""})))}),this.controls.subTypeId.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{if(res){const typeId=this.controls.typeId.value;this.dropdownOptionsService.tenantRolePrivileges(this.tenantId,typeId).subscribe(data=>{this.privilegesToTransform=data,this.selectedPrivileges=[],this.allPrivileges=role_utils.a.transformPrivilege(data),this.assignedPrivileges=[],this.unAssignedPrivileges=[...this.allPrivileges]})}}),this.form.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(v=>{this.form.dirty&&this.formIsDirty.emit(!0)})}cancel(){this.closeDrawer.emit("")}addRole(formElement){if(this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{const dataForApi=this.transformFormData(this.form.getRawValue());console.log(this.form.getRawValue(),dataForApi),this.tenantService.createTenantRoleWithPrivileges(this.tenantId,dataForApi).subscribe(res=>{this.messageService.success(this.translatePipe.transform("NEW_ROLE_ADDED_SUCCESS")),console.log("added new role"),this.formIsDirty.emit(!1),this.closeDrawer.emit()})}}editRole(formElement){if(this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{const dataForApi=this.transformFormData(this.form.getRawValue());console.log(this.form.getRawValue(),dataForApi),this.tenantService.updateTenantRoleWithPrivileges(this.tenantId,this.role.id,dataForApi).subscribe(res=>{this.messageService.success(this.translatePipe.transform("ROLE_EDITED_SUCCESSFULLY")),console.log("updated role"),console.log(this.form.getRawValue()),this.formIsDirty.emit(!1),this.closeDrawer.emit()})}}onCheckBoxClick(event){console.log("CheckBox",event),this.selectedPrivileges=event;const assignedPrivilegesTree=role_utils.a.generateAssignedPrivileges(this.privilegesToTransform,this.selectedPrivileges);this.assignedPrivileges=role_utils.a.transformPrivilege(assignedPrivilegesTree),this.unAssignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateUnAssignedPrivileges(this.privilegesToTransform,this.selectedPrivileges));const selectedChildNodes=role_utils.a.getLeafNodes(assignedPrivilegesTree),selectedLeafNodes=[];Object.keys(selectedChildNodes).forEach(key=>{this.selectedPrivileges.includes(+key)&&selectedLeafNodes.push(...selectedChildNodes[+key])}),this.selectedLeafNodes=selectedLeafNodes}getDropDownOptions(){this.dropdownOptionsService.tenantRoleTypes(this.tenantId).subscribe(res=>{if(this.typeSubTypes=res,this.typeOptions=[...this.typeSubTypes.types].map(type=>({label:type.name,value:type.id+""})),this.role){console.log(this.typeOptions,this.role);const selectedType=this.typeOptions.filter(t=>t.label===this.role.typeName)[0];if(selectedType){const selectedTypeId=+selectedType.value;this.subTypeOptions=[...this.typeSubTypes.subTypes].filter(s=>s.typeId===selectedTypeId).map(subtype=>({label:subtype.name,value:subtype.id+""}))}else this.subTypeOptions=[]}})}transformFormData(data){const typeName=this.typeOptions.filter(type=>type.value===data.typeId)[0].label,subtypeName=this.subTypeOptions.filter(subtype=>subtype.value===data.subTypeId)[0].label;return this.selectedLeafNodes.length&&(data.selected=this.selectedLeafNodes.filter(v=>!this.previouslySelectedPrivileges.includes(v))),this.previouslySelectedPrivileges.length&&(data.unselected=this.previouslySelectedPrivileges.filter(v=>!this.selectedLeafNodes.includes(v))),Object.assign(Object.assign({},data),{typeName:typeName,subtypeName:subtypeName})}};var tenant_detail_component_a,tenant_detail_component_b,tenant_detail_component_c;Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],add_new_role_component_AddNewRoleComponent.prototype,"formIsDirty",void 0),Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],add_new_role_component_AddNewRoleComponent.prototype,"closeDrawer",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",String)],add_new_role_component_AddNewRoleComponent.prototype,"action",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Object)],add_new_role_component_AddNewRoleComponent.prototype,"tenantId",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Object),Object(tslib_es6.f)("design:paramtypes",[Object])],add_new_role_component_AddNewRoleComponent.prototype,"role",null),Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[Object]),Object(tslib_es6.f)("design:returntype",Object)],add_new_role_component_AddNewRoleComponent.prototype,"canDeactivate",null),add_new_role_component_AddNewRoleComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-add-new-role",template:(__webpack_require__(1578).default||__webpack_require__(1578)).length?__webpack_require__(1578).default||__webpack_require__(1578):"",styles:[(__webpack_require__(1579).default||__webpack_require__(1579)).length?__webpack_require__(1579).default||__webpack_require__(1579):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(add_new_role_component_b=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?add_new_role_component_b:Object,"function"==typeof(add_new_role_component_c=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?add_new_role_component_c:Object,"function"==typeof(add_new_role_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?add_new_role_component_d:Object,"function"==typeof(add_new_role_component_e=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?add_new_role_component_e:Object])],add_new_role_component_AddNewRoleComponent);let tenant_detail_component_TenantDetailComponent=class TenantDetailComponent{constructor(tenantService,route,router){this.tenantService=tenantService,this.route=route,this.router=router,this.headerType=public_api.g,this.buttonType=public_api.c,this.closeDrawer=new core.EventEmitter,this.visible=!1}ngOnInit(){this.tenantService.getRegisteredTenantSummary(this.id).subscribe(res=>{this.summary=this.transformRegisteredTenants(res),this.visible=!0,console.log(res)})}transformRegisteredTenants(tenantSum){return tenantSum.expiryDate=date_utils.a.convertToDateString(new Date(tenantSum.expiryDate)),tenantSum}close(){this.closeDrawer.emit(),console.log("close")}edit(){this.router.navigate([`../${this.id}/edit-organisation`],{relativeTo:this.route})}};Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Number)],tenant_detail_component_TenantDetailComponent.prototype,"id",void 0),Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],tenant_detail_component_TenantDetailComponent.prototype,"closeDrawer",void 0),tenant_detail_component_TenantDetailComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-tenant-detail",template:(__webpack_require__(1580).default||__webpack_require__(1580)).length?__webpack_require__(1580).default||__webpack_require__(1580):"",styles:[(__webpack_require__(1581).default||__webpack_require__(1581)).length?__webpack_require__(1581).default||__webpack_require__(1581):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(tenant_detail_component_a=void 0!==tenant_service_TenantService&&tenant_service_TenantService)?tenant_detail_component_a:Object,"function"==typeof(tenant_detail_component_b=void 0!==fesm5_router.a&&fesm5_router.a)?tenant_detail_component_b:Object,"function"==typeof(tenant_detail_component_c=void 0!==fesm5_router.i&&fesm5_router.i)?tenant_detail_component_c:Object])],tenant_detail_component_TenantDetailComponent);const COMPONENTS=[...[tenant_listing_component_TenantListingComponent,edit_organisation_component_EditOrganisationComponent],...[organisation_details_component_OrganisationDetailsComponent,subscription_component_SubscriptionComponent,modules_plug_ins_component_ModulesPlugInsComponent,integrations_component_IntegrationsComponent,user_rights_privileges_component_UserRightsPrivilegesComponent,role_templates_component_RoleTemplatesComponent,navigation_component_NavigationComponent,interested_component_InterestedComponent,registered_component_RegisteredComponent,add_new_role_component_AddNewRoleComponent,tenant_survey_component_TenantSurveyComponent]];let TenantListingModule=class TenantListingModule{};TenantListingModule=Object(tslib_es6.c)([Object(core.NgModule)({declarations:[...COMPONENTS,tenant_detail_component_TenantDetailComponent],imports:[common.b,shared_module.a,TenantListingRoutingModule],exports:[...COMPONENTS],providers:[]})],TenantListingModule)}}]);
//# sourceMappingURL=11.8083e24f987c35a716b3.bundle.js.map