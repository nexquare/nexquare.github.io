(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1408:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DropdownOptionsService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_api_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(217);let DropdownOptionsService=class DropdownOptionsService{constructor(apiService){this.apiService=apiService,this.general_sub_url="controller/api",this.misc_sub_url="controller/misc",this.course_components_sub_url="controller/api/courses/components",this.course_batch_components_sub_url="controller/api/batch-components",this.tenant_type_sub_url="controller/api/tenant-type",this.tenant_sub_url="controller/api/tenant",this.config_sub_url="controller/api/config"}currencies(){return this.apiService.get(this.general_sub_url+"/currencies")}courseDeliveryMethods(){return this.apiService.get(this.course_components_sub_url+"/delivery-methods")}courseTypes(){return this.apiService.get(this.course_components_sub_url+"/course-types")}courseSkills(){return this.apiService.get(this.course_components_sub_url+"/skills")}courseLearningLevels(){return this.apiService.get(this.course_components_sub_url+"/learning-levels")}courseInstructorTypes(){return this.apiService.get(this.course_components_sub_url+"/instructor-types")}courseSubjects(){return this.apiService.get(this.course_components_sub_url+"/subjects")}courseInstructionLanguage(){return this.apiService.get(this.course_components_sub_url+"/instruction-language")}courseEnrollmentMethods(){return this.apiService.get(this.course_components_sub_url+"/enrollment-methods")}coursePaymentMethods(){return this.apiService.get(this.course_components_sub_url+"/payment-methods")}courseCompetencies(){return this.apiService.get(this.course_components_sub_url+"/competencies")}courseChannelRequirements(){return this.apiService.get(this.course_components_sub_url+"/channel-requirements")}courseAccessLifetime(){return this.apiService.get(this.course_components_sub_url+"/access-lifetime")}courseSubscriptionTypes(){return this.apiService.get(this.course_components_sub_url+"/subscription-types")}courseAccessTypes(){return this.apiService.get(this.course_components_sub_url+"/access-types")}courseGradeBookDisplaySettings(){return this.apiService.get(this.course_components_sub_url+"/grade-book-display-settings")}courseStatus(){return this.apiService.get(this.course_components_sub_url+"/course-status")}batchStatus(){return this.apiService.get(this.course_batch_components_sub_url+"/batch-status")}batchUserStatus(){return this.apiService.get(this.course_batch_components_sub_url+"/batch-user-status")}tenantTypeRoleTypes(tenantTypeId){return this.apiService.get(`${this.tenant_type_sub_url}/${tenantTypeId}/role-type`)}tenantTypeRolePrivileges(tenantTypeId,typeId){return this.apiService.get(`${this.tenant_type_sub_url}/${tenantTypeId}/privileges/type/${typeId}`)}tenantTypes(){return this.apiService.get(""+this.tenant_type_sub_url)}tenantLanguages(){return this.apiService.get(this.tenant_sub_url+"/languages")}tenantRoleTypes(tenantId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/role-type`)}tenantRolePrivileges(tenantId,typeId){return this.apiService.get(`${this.tenant_sub_url}/${tenantId}/privileges/type/${typeId}`)}tenantRoleTemplates(tenantId){return this.apiService.get(`${this.config_sub_url}/${tenantId}/role-template`)}countriesList(){return this.apiService.get(this.misc_sub_url+"/countries")}industriesList(){return this.apiService.get(this.misc_sub_url+"/industries")}organizationRoles(){return this.apiService.get(this.misc_sub_url+"/organization-roles")}};DropdownOptionsService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.f)("design:paramtypes",["function"==typeof(_a=void 0!==_api_service__WEBPACK_IMPORTED_MODULE_2__.a&&_api_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],DropdownOptionsService)},1427:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RoleUtils}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(509);class RoleUtils{static generateAssignedPrivileges(privileges,selected){const tree=[];return privileges.forEach(privilege=>{if(selected.includes(privilege.privilegeId))tree.push(privilege);else if(privilege.children&&privilege.children.length){const children=this.generateAssignedPrivileges(privilege.children,selected);children.length&&(privilege=Object.assign(Object.assign({},privilege),{children:children}),tree.push(privilege))}}),tree}static generateUnAssignedPrivileges(privileges,selected){const tree=[];return privileges.forEach(privilege=>{if(!selected.includes(privilege.privilegeId))if(privilege.children&&privilege.children.length){const children=this.generateUnAssignedPrivileges(privilege.children,selected);children.length&&tree.push(Object.assign(Object.assign({},privilege),{children:children}))}else tree.push(privilege)}),tree}static getLeafNodes(privileges){const _map={},_recurGet=(privilege,map)=>{let _leafNodes;return _leafNodes=privilege.children?lodash__WEBPACK_IMPORTED_MODULE_0__.uniq(lodash__WEBPACK_IMPORTED_MODULE_0__.flatten(privilege.children.map(p=>_recurGet(p,map)))):[privilege.privilegeId],map[privilege.privilegeId]=_leafNodes,_leafNodes};for(const privilege of privileges)_recurGet(privilege,_map);return _map}static getAllLeafNodes(privileges){let leafPrivileges=[];return privileges.forEach(privilege=>{if(privilege.children&&privilege.children.length){const leafNodes=this.getAllLeafNodes(privilege.children);leafPrivileges=[...leafPrivileges,...leafNodes]}else leafPrivileges=[...leafPrivileges,privilege.privilegeId]}),leafPrivileges}static transformPrivilege(privileges){return privileges.map(p=>{const updatedPrivilege={title:p.name,key:p.privilegeId};let children=null;return p.children?(children=this.transformPrivilege(p.children),updatedPrivilege.children=children):updatedPrivilege.isLeaf=!0,updatedPrivilege})}}},1582:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<nxq-manage-header [headerSettings]="headerSettings">\n  <div class="configuration-management">\n    <div class="body">\n      <div class="body-sidenav">\n        <nxq-sub-menu [dataTree]="subMenu" [level]="level" (selectElement)="subMenuSelectedItem($event)"></nxq-sub-menu>\n      </div>\n      <div class="body-content">\n        <router-outlet></router-outlet>\n      </div>\n    </div>\n  </div>\n</nxq-manage-header>\n'},1583:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.configuration-management {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.configuration-management .breadcrumb {\n  margin-bottom: 12px;\n}\n.configuration-management .header {\n  width: 100%;\n  margin-bottom: 40px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n:host-context(.xs) .configuration-management .header, .xs .configuration-management .header, :host-context(.sm) .configuration-management .header, .sm .configuration-management .header {\n  display: flex;\n  flex-direction: column;\n}\n:host-context(.xs) .configuration-management .header, .xs .configuration-management .header, :host-context(.sm) .configuration-management .header, .sm .configuration-management .header {\n  justify-content: space-between;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.configuration-management .body {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.configuration-management .body .body-sidenav {\n  width: 270px;\n  height: 100%;\n  border-right: 1px solid #d9d9d9;\n  display: flex;\n  flex-direction: row;\n  flex-basis: auto;\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n.configuration-management .body .body-sidenav nxq-sub-menu {\n  width: 100%;\n  height: calc(100vh - 90px);\n}\n.configuration-management .body .body-content {\n  width: 100%;\n  padding: 20px;\n  max-height: 85vh;\n  overflow-y: scroll;\n}"},1584:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed || addRoleAllowed">\n  <nxq-button (click)="update(\'back\')">{{ \'BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'next\')">{{ \'NEXT\' | translate }}</nxq-button>\n</div>\n\n<div class="container" *ngIf="loaded">\n  <iframe *ngIf="!!moodleUrl" [src]="moodleUrl | safe" width="50px" height="50px"></iframe>\n\n  <nxq-collapse [active]="true">\n    <div slot="header">\n      <h3>{{ \'EXISTING_ROLES\' | translate }}</h3>\n    </div>\n\n    <div slot="content">\n      <div class="roles-table" *ngIf="!isLoading">\n        <nxq-table\n          [tableHeaders]="headers"\n          [tableData]="filteredData"\n          (filtersChanged)="filter($event)"\n          (customAction)="customActionClicked($event)"\n          (actionClicked)="actionClicked($event)"\n        ></nxq-table>\n      </div>\n\n      <nz-modal\n        [(nzVisible)]="showModal"\n        [nzContent]="modalContent"\n        [nzFooter]="modalFooter"\n        (nzOnCancel)="onCancel()"\n        nzWidth="400px"\n        nzHeight="300px"\n        class="confirm-popup"\n        nzClassName="confirm-modal"\n      >\n        <ng-template #modalContent>\n          {{ \'DEFAULT_SIGN_IN_ROLE_CHANGE\' | translate }}\n          <p *ngIf="!!defaultChangeError" style="color: red">{{ defaultChangeError }}</p>\n        </ng-template>\n\n        <ng-template #modalFooter>\n          <nxq-button type="primary" (click)="onCancel()">{{ \'CANCEL\' | translate }}</nxq-button>\n          <nxq-button type="secondary" (click)="onConfirm()">{{ \'CONFIRM\' | translate }}</nxq-button>\n        </ng-template>\n      </nz-modal>\n\n      <div class="button" *ngIf="!isLoading">\n        <nxq-button *ngIf="addRoleAllowed" type="primary" (click)="add()">{{ \'ADD_NEW_ROLE\' | translate }}</nxq-button>\n      </div>\n      <nz-drawer\n        [nzBodyStyle]="{ height: \'calc(100% - 55px)\', overflow: \'auto\', \'padding-bottom\': \'70px\' }"\n        [nzClosable]="false"\n        [nzMaskClosable]="true"\n        [nzWidth]="470"\n        [nzVisible]="showAdd"\n        [nzTitle]="\'\'"\n        (nzOnClose)="onClose($event)"\n      >\n        <div class="side-drawer" *ngIf="!!showAdd && (editAllowed || addRoleAllowed)">\n          <nxq-add-new-role\n            (closeDrawer)="onClose($event)"\n            [tenantId]="tenantId"\n            [role]="selectedRole"\n            (formIsDirty)="formDirtyStateChanged($event)"\n          ></nxq-add-new-role>\n        </div>\n      </nz-drawer>\n    </div>\n  </nxq-collapse>\n\n  <nz-modal\n    [(nzVisible)]="showUnsavedDataModal"\n    [nzContent]="modalContents"\n    [nzFooter]="modalFooters"\n    (nzOnCancel)="onCancelPopup()"\n    nzWidth="400px"\n    nzHeight="300px"\n    class="confirm-popup"\n    nzClassName="confirm-modal"\n  >\n    <ng-template #modalContents>\n      You have unsaved data in the form, Are you sure you want to discard the changes?\n    </ng-template>\n\n    <ng-template #modalFooters>\n      <nxq-button type="primary" (click)="onCancelPopup()">Cancel</nxq-button>\n      <nxq-button type="secondary" (click)="onConfirmPopup()">Confirm</nxq-button>\n    </ng-template>\n  </nz-modal>\n</div>\n\n<div class="nxq-spinner-cp" *ngIf="isLoading">\n  <nxq-loading></nxq-loading>\n</div>\n'},1585:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.container {\n  height: calc(85vh - 90px);\n  position: relative;\n}\n.container iframe {\n  z-index: -1;\n}\n.container .roles-table {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  display: flex;\n  overflow: scroll;\n  max-height: 450px;\n}\n.container .roles-table nxq-table {\n  flex: auto;\n}\n.container .button {\n  margin-top: 30px;\n}\n.container .add-role {\n  width: 780px;\n}\n.container iframe {\n  position: absolute;\n  right: 50px;\n  top: 30px;\n}\n.nxq-spinner-cp {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n}\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  padding-right: 20px;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1586:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  \x3c!--  <nxq-button>{{ \'RESET\' | translate }}</nxq-button>--\x3e\n  <nxq-button\n    [type]="buttonType.PRIMARY"\n    class="popup-button"\n    nz-popconfirm\n    #popupButton\n    [nzPopconfirmTitle]="popupTitleTemplate"\n    [nzPopconfirmTrigger]="\'click\'"\n    [nzCancelText]="\'CANCEL\' | translate"\n    [nzOkText]="\'CONFIRM\' | translate"\n    (nzOnConfirm)="reset()"\n    nzPopconfirmPlacement="topLeft"\n    nzOverlayClassName="nxq-overlay"\n    >{{ \'RESET\' | translate }}</nxq-button\n  >\n  <nxq-button [disabled]="disableUpdate" (click)="updateEntitiesClicked(\'back\')">\n    {{ \'UPDATE_AND_BACK\' | translate }}\n  </nxq-button>\n  <nxq-button [disabled]="disableUpdate" *ngIf="!isLastItem" (click)="updateEntitiesClicked(\'next\')">\n    {{ \'UPDATE_AND_NEXT\' | translate }}\n  </nxq-button>\n  <nxq-button [disabled]="disableUpdate" *ngIf="!!isLastItem" (click)="updateEntitiesClicked(\'close\')">\n    {{ \'CLOSE\' | translate }}\n  </nxq-button>\n</div>\n\n<div class="entities-container">\n  <div class="sub-menu">\n    <nxq-sub-menu-editable\n      [dataTree]="data"\n      [selectedId]="selectedEntity?.id"\n      (addClicked)="addClicked($event)"\n      (deleteClicked)="deleteClicked($event)"\n      (selectClicked)="selectClicked($event)"\n    ></nxq-sub-menu-editable>\n  </div>\n  <form [formGroup]="form" #entityForm>\n    <div class="form">\n      <div class="input-container">\n        <nxq-label\n          class="label"\n          [isRequired]="!!controls.name.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'NAME\' | translate"\n        ></nxq-label>\n        <nxq-input-master\n          class="input"\n          [control]="controls.name"\n          [placeholder]="\'NAME\' | translate"\n          [errorMessage]="!!controls.name.errors?.notUnique ? (\'NAME_ALREADY_TAKEN\' | translate) : \'\'"\n        ></nxq-input-master>\n      </div>\n      <div class="input-container">\n        <nxq-label\n          class="label"\n          [isRequired]="!!controls.code.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'CODE\' | translate"\n        ></nxq-label>\n        <nxq-input-master class="input" [control]="controls.code" [placeholder]="\'CODE\' | translate"></nxq-input-master>\n      </div>\n      <div class="input-container">\n        <nxq-label\n          class="label"\n          [isRequired]="!!controls.hierarchy.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'HIERARCHY\' | translate"\n        ></nxq-label>\n        <nxq-input-master class="input" [control]="controls.hierarchy" [placeholder]="\'HIERARCHY\' | translate"></nxq-input-master>\n      </div>\n      <div class="input-container">\n        <nxq-label class="label" [value]="\'DESCRIPTION\' | translate" [labelType]="\'code\'" class="label"></nxq-label>\n        <nxq-input-master\n          type="quill-editor"\n          class="description"\n          [control]="controls.description"\n          [editorStyles]="{ minHeight: \'165px\' }"\n          theme="bubble"\n        ></nxq-input-master>\n      </div>\n      <div class="input-container">\n        <p class="label">{{ \'IS_ISSUER\' | translate }}</p>\n        <nxq-radio-group [control]="controls.isIssuer" [orientation]="orientation" class="radio">\n          <nxq-radio [value]="true">{{ \'YES\' | translate }}</nxq-radio>\n          <nxq-radio [value]="false">{{ \'NO\' | translate }}</nxq-radio>\n        </nxq-radio-group>\n      </div>\n      <div class="input-container" *ngIf="controls.isIssuer.value === true">\n        <p class="label">{{ \'ISSUER_NAME\' | translate }}</p>\n        <nxq-input-master\n          class="input"\n          [control]="controls.issuer.controls.name"\n          [placeholder]="\'ISSUER_NAME\' | translate"\n        ></nxq-input-master>\n      </div>\n      <div class="input-container" *ngIf="controls.isIssuer.value === true">\n        <p class="label">{{ \'ISSUER_URL\' | translate }}</p>\n        <nxq-input-master\n          class="input"\n          [control]="controls.issuer.controls.url"\n          [placeholder]="\'ISSUER_URL\' | translate"\n        ></nxq-input-master>\n      </div>\n      <div class="input-container" *ngIf="controls.isIssuer.value === true">\n        <p class="label">{{ \'ISSUER_LOGO\' | translate }}</p>\n        <div class="logo-container">\n          <input type="file" accept="image/png" hidden (change)="addLogo($event)" #logoInput />\n          <nxq-logo\n            *ngIf="!!controls.issuer.controls.logo.value"\n            [image]="controls.issuer.controls.logo.value"\n            [title]="controls.issuer.controls.name.value"\n            class="logo"\n          ></nxq-logo>\n          <div class="buttons">\n            <nxq-button *ngIf="editAllowed" [type]="buttonType.PRIMARY" (click)="updateLogo()">{{ \'UPLOAD\' | translate }}</nxq-button>\n            <nxq-button *ngIf="editAllowed && !!controls.issuer.controls.logo.value" [type]="buttonType.DANGER" (click)="removeLogo()">{{\n              \'REMOVE\' | translate\n            }}</nxq-button>\n          </div>\n        </div>\n      </div>\n      \x3c!--      <div class="input-container">--\x3e\n      \x3c!--        <div class="form-button">--\x3e\n      \x3c!--          <nxq-button *ngIf="editAllowed" (click)="saveForm(formElement)" [type]="buttonType.PRIMARY">--\x3e\n      \x3c!--            {{ \'UPDATE\' | translate }}--\x3e\n      \x3c!--          </nxq-button>--\x3e\n      \x3c!--          <nxq-button *ngIf="editAllowed" (click)="cancel()" [type]="buttonType.DANGER">{{ \'CANCEL\' | translate }}</nxq-button>--\x3e\n      \x3c!--        </div>--\x3e\n      \x3c!--      </div>--\x3e\n    </div>\n  </form>\n\n  <nz-modal\n    [(nzVisible)]="showModal"\n    [nzContent]="modalContent"\n    [nzFooter]="modalFooter"\n    (nzOnCancel)="onCancelPopup()"\n    nzWidth="400px"\n    nzHeight="300px"\n    class="confirm-popup"\n    nzClassName="confirm-modal"\n  >\n    <ng-template #modalContent>\n      {{ \'DELETE_MESSAGE\' | translate }}\n    </ng-template>\n\n    <ng-template #modalFooter>\n      <nxq-button type="primary" (click)="onCancelPopup()">{{ \'CANCEL\' | translate }}</nxq-button>\n      <nxq-button type="secondary" (click)="onConfirmPopup()">{{ \'CONFIRM\' | translate }}</nxq-button>\n    </ng-template>\n  </nz-modal>\n</div>\n<ng-template #popupTitleTemplate>\n  <h4>{{ \'CLEAR_UNSAVED_CHANGES\' | translate }}</h4>\n  <h5>{{ \'STILL_CONTINUE\' | translate }}</h5>\n</ng-template>\n'},1587:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.entities-container {\n  display: flex;\n  flex-direction: row;\n  margin-left: -20px;\n}\n.entities-container .sub-menu {\n  width: 351px;\n}\n.entities-container .form {\n  padding: 25px;\n  height: 100vh;\n  border-left: 1px solid #d9d9d9;\n  display: flex;\n  flex-direction: column;\n}\n.entities-container .form > * {\n  margin-bottom: 10px;\n}\n.entities-container .form > *:last-child {\n  margin-bottom: 0;\n}\n.entities-container .form .input-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.entities-container .form .input-container > * {\n  margin-right: 100px;\n}\n.entities-container .form .input-container > *:last-child {\n  margin-right: 0;\n}\n.entities-container .form .input-container .label {\n  min-width: 100px;\n  padding-top: 10px;\n  margin-right: 10px;\n}\n.entities-container .form .input-container .input {\n  width: 300px;\n}\n.entities-container .form .input-container .description {\n  width: 100%;\n}\n.entities-container .form .input-container .radio {\n  padding-top: 10px;\n}\n.entities-container .form .input-container .logo-container {\n  display: flex;\n  flex-direction: row;\n}\n.entities-container .form .input-container .logo-container > * {\n  margin-right: 30px;\n}\n.entities-container .form .input-container .logo-container > *:last-child {\n  margin-right: 0;\n}\n.entities-container .form .input-container .logo-container .logo {\n  padding-top: 20px;\n}\n.entities-container .form .input-container .logo-container .buttons {\n  display: flex;\n  flex-direction: column;\n}\n.entities-container .form .input-container .logo-container .buttons > * {\n  margin-bottom: 10px;\n}\n.entities-container .form .input-container .logo-container .buttons > *:last-child {\n  margin-bottom: 0;\n}\n.entities-container .form .input-container .form-button {\n  display: flex;\n  flex-direction: row;\n}\n.entities-container .form .input-container .form-button > * {\n  margin-right: 15px;\n}\n.entities-container .form .input-container .form-button > *:last-child {\n  margin-right: 0;\n}\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  margin-left: -20px;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1588:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  <nxq-button>{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!isLastItem" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!!isLastItem" (click)="update(\'close\')">{{ \'CLOSE\' | translate }}</nxq-button>\n</div>\n\n<div class="notifications">\n  <form [formGroup]="form">\n    <nxq-collapse active>\n      <div slot="header">\n        <h3>{{ \'MEDIUM\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <div class="switch-container first">\n          <p class="label">{{ \'IN_APP_NOTIFICATION\' | translate }}</p>\n          <nxq-switch\n            [control]="controls.inAppNotifications"\n            [offLabel]="\'NOT_ACTIVE\' | translate"\n            [onLabel]="\'ACTIVE\' | translate"\n          ></nxq-switch>\n        </div>\n      </div>\n    </nxq-collapse>\n\n    <nxq-collapse active>\n      <div slot="header">\n        <h3>{{ \'NOTIFICATIONS\' | translate }}</h3>\n      </div>\n      <div slot="content">\n        <div class="switch-container first">\n          <p class="label">{{ \'NOTIFICATIONS\' | translate }} #1</p>\n          <nxq-switch [control]="controls.notification_1" [offLabel]="\'NO\' | translate" [onLabel]="\'YES\' | translate"></nxq-switch>\n        </div>\n        <div class="switch-container">\n          <p class="label">{{ \'NOTIFICATIONS\' | translate }} #2</p>\n          <nxq-switch [control]="controls.notification_2" [offLabel]="\'NO\' | translate" [onLabel]="\'YES\' | translate"></nxq-switch>\n        </div>\n        <div class="switch-container">\n          <p class="label">{{ \'NOTIFICATIONS\' | translate }} #3</p>\n          <nxq-switch [control]="controls.notification_3" [offLabel]="\'NO\' | translate" [onLabel]="\'YES\' | translate"></nxq-switch>\n        </div>\n      </div>\n    </nxq-collapse>\n  </form>\n</div>\n'},1589:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.notifications .switch-container {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 30px;\n}\n.notifications .switch-container > * {\n  margin-right: 100px;\n}\n.notifications .switch-container > *:last-child {\n  margin-right: 0;\n}\n.notifications .first {\n  margin-top: 35px;\n}\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1590:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  <nxq-button (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!isLastItem" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!!isLastItem" (click)="update(\'close\')">{{ \'CLOSE\' | translate }}</nxq-button>\n</div>\n\n<div class="header-buttons" *ngIf="!editAllowed">\n  <nxq-button (click)="back()">{{ \'BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="next()">{{ \'NEXT\' | translate }}</nxq-button>\n</div>\n\n<nxq-collapse active="true">\n  <div slot="header">\n    <h3>{{ \'LANGUAGE_POLICY\' | translate }}</h3>\n  </div>\n  <div slot="content">\n    <form [formGroup]="languagePolicyForm">\n      <div class="container" *ngIf="loaded">\n        <div class="input-container">\n          <p class="label">{{ \'DEFAULT_LANGUAGE\' | translate }}</p>\n          <nxq-select [control]="languagePolicyControls.defaultLanguage" [options]="languageOptions" class="language-select"></nxq-select>\n        </div>\n        <div class="input-container">\n          <p class="label">{{ \'AVAIL_LANG\' | translate }}</p>\n          <div class="multi-checkbox">\n            <div class="input checkbox" *ngFor="let language of masterLanguages">\n              <nxq-checkbox [control]="availableLanguages.controls[language.id + \'\']">{{ language.name }}</nxq-checkbox>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</nxq-collapse>\n\n<nxq-collapse active="true">\n  <div slot="header">\n    <h3>{{ \'DATA_PRIVACY\' | translate }}</h3>\n  </div>\n  <div slot="content"></div>\n</nxq-collapse>\n'},1591:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.nxq-cp-ctr {\n  height: calc(100vh - 90px);\n  overflow: scroll;\n}\n.container {\n  display: flex;\n  flex-direction: column;\n}\n.container > * {\n  margin-bottom: 10px;\n}\n.container > *:last-child {\n  margin-bottom: 0;\n}\n.container .input-container {\n  display: flex;\n  flex-direction: row;\n}\n.container .input-container > * {\n  margin-right: 60px;\n}\n.container .input-container > *:last-child {\n  margin-right: 0;\n}\n.container .input-container .label {\n  width: 280px;\n  padding-top: 10px;\n}\n.container .input-container .post {\n  margin-left: -40px;\n}\n.container .input-container .input {\n  width: 120px;\n}\n.container .input-container .checkbox {\n  height: 40px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n}\n.container .input-container .language-select {\n  width: 200px;\n}\n.container .input-container .multi-checkbox {\n  display: flex;\n  flex-direction: column;\n}\n.container .input-container .multi-checkbox > * {\n  margin-bottom: 10px;\n}\n.container .input-container .multi-checkbox > *:last-child {\n  margin-bottom: 0;\n}\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1592:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  <nxq-button (click)="update(\'back\')">{{ \'BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'next\')">{{ \'NEXT\' | translate }}</nxq-button>\n</div>\n\n<div class="subscription-component" *ngIf="!!subscriptionDetails">\n  <nxq-collapse active>\n    <div slot="header" class="header">\n      <h3>{{ \'SUBSCRIPTION_STATUS\' | translate }}</h3>\n    </div>\n    <div slot="content" class="content">\n      <div class="each-set" *ngFor="let data of subscriptionStatus">\n        <span class="label">{{ data.label }}</span>\n        <div class="value">\n          \x3c!--          <span *ngIf="data.label === \'Current Status\'">{{ \'ACTIVE\' | translate }}</span>--\x3e\n          \x3c!--          <span *ngIf="data.label === \'Current Status\'">{{ \'INACTIVE\' | translate }}</span>--\x3e\n          \x3c!--          <span *ngIf="data.label === \'Current Status\'">{{ \'ARCHIVED\' | translate }}</span>--\x3e\n          \x3c!--          <span *ngIf="data.label === \'Current Status\'">{{ \'CLOSED\' | translate }}</span>--\x3e\n\n          \x3c!--          <nxq-tabset-radio-button-group [control]="tabGroupControl" *ngIf="data.label === \'Current Status\'">--\x3e\n          \x3c!--            <nxq-radio-button value="Active">{{ \'ACTIVE\' | translate }}</nxq-radio-button>--\x3e\n          \x3c!--            <nxq-radio-button value="Inactive">{{ \'INACTIVE\' | translate }}</nxq-radio-button>--\x3e\n          \x3c!--            <nxq-radio-button value="Archived">{{ \'ARCHIVED\' | translate }}</nxq-radio-button>--\x3e\n          \x3c!--            <nxq-radio-button value="Closed">{{ \'CLOSED\' | translate }}</nxq-radio-button>--\x3e\n          \x3c!--          </nxq-tabset-radio-button-group>--\x3e\n          <span>{{ data.value }}</span>\n        </div>\n      </div>\n    </div>\n  </nxq-collapse>\n\n  <nxq-collapse active>\n    <div slot="header" class="header">\n      <h3>{{ \'SUBSCRIPTIONS\' | translate }}</h3>\n    </div>\n    <div slot="content" class="content">\n      <div class="subscription-headers">\n        <span>{{ \'PURCHASED\' | translate }}</span>\n        <span>{{ \'IN_USE\' | translate }}</span>\n        <span>{{ \'AVAILABLE\' | translate }}</span>\n      </div>\n\n      <div class="each-set" *ngFor="let data of subscriptions">\n        <div class="label">\n          <span> {{ data.label }} </span>\n        </div>\n\n        \x3c!--        <div class="data-progress"><nxq-progress [percent]="data.progress"></nxq-progress></div>--\x3e\n\n        <div class="value">\n          <span>{{ data.purchased }}</span>\n          <span>{{ data.in_use }}</span>\n          <span>{{ data.available }}</span>\n        </div>\n      </div>\n    </div>\n  </nxq-collapse>\n\n  <nxq-collapse active>\n    <div slot="header" class="header">\n      <h3>{{ \'ADMINISTRATOR\' | translate }}</h3>\n    </div>\n    <div slot="content" class="content">\n      <div class="each-set" *ngFor="let data of adminData">\n        <span class="label">{{ data.label }}</span>\n        <span class="value">{{ data.value }}</span>\n      </div>\n    </div>\n  </nxq-collapse>\n</div>\n'},1593:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.subscription-component .nxq-collapse .content {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n}\n.subscription-component .nxq-collapse .content > * {\n  margin-bottom: 10px;\n}\n.subscription-component .nxq-collapse .content > *:last-child {\n  margin-bottom: 0;\n}\n.subscription-component .nxq-collapse .content .subscription-headers {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.subscription-component .nxq-collapse .content .subscription-headers > * {\n  margin-right: 45px;\n}\n.subscription-component .nxq-collapse .content .subscription-headers > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content .subscription-headers span {\n  width: 100px;\n}\n.subscription-component .nxq-collapse .content .each-set {\n  display: flex;\n  flex-direction: row;\n}\n.subscription-component .nxq-collapse .content .each-set > * {\n  margin-right: 30px;\n}\n.subscription-component .nxq-collapse .content .each-set > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content .each-set .label {\n  min-width: 80px;\n}\n.subscription-component .nxq-collapse .content .each-set .data-progress {\n  width: 100px;\n}\n.subscription-component .nxq-collapse .content .each-set .value {\n  font-size: 16px;\n  line-height: 20px;\n  color: #181921;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n.subscription-component .nxq-collapse .content .each-set .value > * {\n  margin-right: 45px;\n}\n.subscription-component .nxq-collapse .content .each-set .value > *:last-child {\n  margin-right: 0;\n}\n.subscription-component .nxq-collapse .content .each-set .value span {\n  width: 100px;\n}\n.subscription-component .nxq-collapse .content .each-set .subscription-headers {\n  width: 50%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1594:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  <nxq-button (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!isLastItem" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!!isLastItem" (click)="update(\'close\')">{{ \'CLOSE\' | translate }}</nxq-button>\n</div>\n<div class="integrations">\n  <div>\n    <form [formGroup]="integrationsForm">\n      <ng-container *ngFor="let integration of masterIntegrations | keyvalue">\n        <nxq-collapse [background]="false" [active]="true">\n          <div slot="header">\n            <h3>{{ integration.key | titlecase }}</h3>\n          </div>\n          <div slot="content">\n            <div class="integrations-content">\n              <ng-container *ngIf="!!integration.value.masters">\n                <p>{{ \'SELECT\' | translate }} {{ integration.key | titlecase }} {{ \'PROVIDER\' | translate }}</p>\n                <div class="integrations-content-container">\n                  <div\n                    class="integrations-content-logo"\n                    *ngFor="let option of integration.value.masters"\n                    [ngClass]="{ selected: integrationsForm.controls[integration.key].value.includes(option.id) }"\n                    (click)="integrationSelected(integration.key, option.id)"\n                  >\n                    <img [src]="option.logoUrl" alt="" />\n                    <span>{{ option.name | uppercase }}</span>\n                  </div>\n                </div>\n              </ng-container>\n\n              <div class="integrations-content-container" *ngIf="!!integration.value.name">\n                <div class="integrations-content-logo">\n                  <img [src]="integration.value.logoUrl" alt="" />\n                  <span>{{ integration.value.name | uppercase }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </nxq-collapse>\n      </ng-container>\n    </form>\n  </div>\n</div>\n'},1595:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.integrations {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 100%;\n}\n.integrations-select {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  max-width: 300px;\n}\n.integrations-select > * {\n  margin-bottom: 10px;\n}\n.integrations-select > *:last-child {\n  margin-bottom: 0;\n}\n.integrations-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n  padding-bottom: 20px;\n}\n.integrations-content > * {\n  margin-bottom: 20px;\n}\n.integrations-content > *:last-child {\n  margin-bottom: 0;\n}\n.integrations-content-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n.integrations-content-container > * {\n  margin-right: 60px;\n}\n.integrations-content-container > *:last-child {\n  margin-right: 0;\n}\n.integrations-content-container .rtl {\n  display: flex;\n  flex-direction: row;\n}\n.integrations-content-container .rtl > * {\n  margin-left: 60px;\n  margin-right: 0;\n}\n.integrations-content-container .rtl > *:last-child {\n  margin-left: 0;\n}\n.integrations-content-logo {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n  padding: 0 10px 10px 10px;\n  cursor: pointer;\n}\n.integrations-content-logo > * {\n  margin-right: 10px;\n}\n.integrations-content-logo > *:last-child {\n  margin-right: 0;\n}\n.integrations-content-logo > img {\n  height: 30px;\n  width: 60px;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.integrations-content-logo > span {\n  font-size: 14px;\n  font-weight: 600;\n}\n.integrations-content-logo.selected {\n  border-bottom: 2px solid #2373ff;\n  color: #2373ff;\n}"},1596:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  <nxq-button>{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!isLastItem" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!!isLastItem" (click)="update(\'close\')">{{ \'CLOSE\' | translate }}</nxq-button>\n</div>\n\n<div class="analytics">\n  <nxq-collapse active>\n    <div slot="header" class="header">\n      <h3>{{ \'PANELS\' | translate }}</h3>\n    </div>\n    <div slot="content" class="content">\n      <nxq-table [tableHeaders]="headers" [tableData]="data" (actionClicked)="actionClicked($event)"></nxq-table>\n    </div>\n  </nxq-collapse>\n</div>\n\n\x3c!--transfer component code--\x3e\n\x3c!-- --\x3e\n\x3c!--<nz-transfer--\x3e\n\x3c!--  [nzDataSource]="filteredList"--\x3e\n\x3c!--  [nzDisabled]="disabled"--\x3e\n\x3c!--  [nzShowSearch]="showSearch"--\x3e\n\x3c!--  [nzShowSelectAll]="true"--\x3e\n\x3c!--  [nzFilterOption]="filterOption"--\x3e\n\x3c!--  (nzSearchChange)="search($event)"--\x3e\n\x3c!--  [nzRenderList]="[renderList, renderList]"--\x3e\n\x3c!--  (nzSelectChange)="select($event)"--\x3e\n\x3c!--  (nzChange)="change($event)"--\x3e\n\x3c!--&gt;--\x3e\n\x3c!--  <ng-template--\x3e\n\x3c!--    #renderList--\x3e\n\x3c!--    let-items--\x3e\n\x3c!--    let-direction="direction"--\x3e\n\x3c!--    let-stat="stat"--\x3e\n\x3c!--    let-disabled="disabled"--\x3e\n\x3c!--    let-onItemSelectAll="onItemSelectAll"--\x3e\n\x3c!--    let-onItemSelect="onItemSelect"--\x3e\n\x3c!--  >--\x3e\n\x3c!--    <nz-table #t [nzData]="items" nzSize="small">--\x3e\n\x3c!--      <thead>--\x3e\n\x3c!--      <tr>--\x3e\n\x3c!--        <th--\x3e\n\x3c!--          [nzDisabled]="disabled"--\x3e\n\x3c!--          [nzChecked]="stat.checkAll"--\x3e\n\x3c!--          [nzIndeterminate]="stat.checkHalf"--\x3e\n\x3c!--          (nzCheckedChange)="onItemSelectAll($event)"--\x3e\n\x3c!--        ></th>--\x3e\n\x3c!--        <th>Name</th>--\x3e\n\x3c!--        <th *ngIf="direction === \'left\'">Tag</th>--\x3e\n\x3c!--        <th>Description</th>--\x3e\n\x3c!--      </tr>--\x3e\n\x3c!--      </thead>--\x3e\n\x3c!--      <tbody>--\x3e\n\x3c!--      <tr *ngFor="let data of t.data" (click)="onItemSelect(data)">--\x3e\n\x3c!--        <td [nzChecked]="data.checked" [nzDisabled]="disabled || data.disabled" (nzCheckedChange)="onItemSelect(data)"></td>--\x3e\n\x3c!--        <td>{{ data.title }}</td>--\x3e\n\x3c!--        <td *ngIf="direction === \'left\'">--\x3e\n\x3c!--          <nz-tag>{{ data.tag }}</nz-tag>--\x3e\n\x3c!--        </td>--\x3e\n\x3c!--        <td>{{ data.description }}</td>--\x3e\n\x3c!--      </tr>--\x3e\n\x3c!--      </tbody>--\x3e\n\x3c!--    </nz-table>--\x3e\n\x3c!--  </ng-template>--\x3e\n\x3c!--</nz-transfer>--\x3e\n\x3c!--<div style="margin-top: 8px;">--\x3e\n\x3c!--  <nz-switch [(ngModel)]="disabled" nzCheckedChildren="disabled" nzUnCheckedChildren="disabled"></nz-switch>--\x3e\n\x3c!--  <nz-switch [(ngModel)]="showSearch" nzCheckedChildren="showSearch" nzUnCheckedChildren="showSearch"></nz-switch>--\x3e\n\x3c!--</div>--\x3e\n\n\x3c!-- till here--\x3e\n'},1597:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1598:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed">\n  <nxq-button (click)="reset()">{{ \'RESET\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'back\')">{{ \'UPDATE_AND_BACK\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!isLastItem" (click)="update(\'next\')">{{ \'UPDATE_AND_NEXT\' | translate }}</nxq-button>\n  <nxq-button *ngIf="!!isLastItem" (click)="update(\'close\')">{{ \'CLOSE\' | translate }}</nxq-button>\n</div>\n\n<div class="organisation-details" *ngIf="loaded">\n  <nxq-collapse [active]="true">\n    <div slot="header">\n      <h3>{{ \'GENERAL\' | translate }}</h3>\n    </div>\n\n    <div slot="content">\n      <form [formGroup]="organisationDetailForm" class="organisation-details-form" #formElement>\n        <div class="input-container">\n          <p class="label">{{ \'SQUARE_ICON\' | translate }}</p>\n          <div class="input logo">\n            <input type="file" accept="image/*" hidden (change)="addSquareLogo($event)" #squareLogoInput />\n            <div class="logo-block">\n              <nxq-logo [image]="controls.squareIconUrl.value" [fullLogo]="true"></nxq-logo>\n              <nxq-control-error\n                *ngIf="controls.squareIconUrl.invalid && controls.squareIconUrl.touched"\n                [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n              ></nxq-control-error>\n            </div>\n            <div class="buttons">\n              <nxq-button *ngIf="editAllowed" type="primary" [width]="\'100%\'" (click)="uploadSquareLogo()">{{\n                \'UPLOAD\' | translate\n              }}</nxq-button>\n              <nxq-button *ngIf="editAllowed" type="danger" [width]="\'100%\'" (click)="deleteSquareLogo()">{{\n                \'REMOVE\' | translate\n              }}</nxq-button>\n            </div>\n          </div>\n        </div>\n\n        <div class="input-container">\n          <p class="label">{{ \'LOGO\' | translate }}</p>\n\n          <div class="input logo">\n            <input type="file" accept="image/*" (change)="addLogo($event)" hidden #logoInput />\n            <div class="logo-block">\n              <nxq-logo [image]="controls.logoUrl.value" [fullLogo]="true"></nxq-logo>\n              <nxq-control-error\n                *ngIf="controls.logoUrl.invalid && controls.logoUrl.touched"\n                errorMessage="This field is required"\n              ></nxq-control-error>\n            </div>\n            <div class="buttons">\n              <nxq-button *ngIf="editAllowed" type="primary" [width]="\'100%\'" (click)="uploadLogo()">{{ \'UPLOAD\' | translate }}</nxq-button>\n              <nxq-button *ngIf="editAllowed" type="danger" [width]="\'100%\'" (click)="deleteLogo()">{{ \'REMOVE\' | translate }}</nxq-button>\n            </div>\n          </div>\n        </div>\n\n        <div class="row-2">\n          <div class="label">\n            <nxq-label labelType="code" [value]="\'LEGAL_NAME\' | translate"></nxq-label>\n          </div>\n\n          <div class="box">\n            <p>{{ this.orgDetails.legalName }}</p>\n          </div>\n        </div>\n\n        <div class="input-container">\n          <p class="label">{{ \'DISPLAY_NAME\' | translate }}</p>\n          <nxq-input-master [control]="controls.displayName" class="input"></nxq-input-master>\n        </div>\n\n        <div class="row-2">\n          <div class="label">\n            <nxq-label labelType="code" [value]="\'SUB_DOMAIN\' | translate"></nxq-label>\n          </div>\n\n          <div class="box">\n            <p>\n              {{ orgDetails.subDomain }}\n            </p>\n          </div>\n        </div>\n\n        <div class="row-2">\n          <div class="label">\n            <nxq-label labelType="code" [value]="\'COUNTRY\' | translate"></nxq-label>\n          </div>\n\n          <div class="box">\n            <p>{{ orgDetails.country }}</p>\n          </div>\n        </div>\n\n        <div class="row-2">\n          <div class="label">\n            <nxq-label labelType="code" [value]="\'TYPE\' | translate"></nxq-label>\n          </div>\n\n          <div class="box">\n            <p>{{ orgDetails.typeId | masterPluginName: tenantTypeOptions }}</p>\n          </div>\n        </div>\n      </form>\n    </div>\n  </nxq-collapse>\n</div>\n'},1599:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.organisation-details {\n  margin-top: 5px;\n}\n:host-context(.xs) .organisation-details, .xs .organisation-details {\n  margin-bottom: 50px;\n}\n.organisation-details .nxq-collapse .organisation-details-form {\n  display: flex;\n  flex-direction: column;\n}\n.organisation-details .nxq-collapse .organisation-details-form > * {\n  margin-bottom: 10px;\n}\n.organisation-details .nxq-collapse .organisation-details-form > *:last-child {\n  margin-bottom: 0;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form, .xs .organisation-details .nxq-collapse .organisation-details-form {\n  margin-bottom: 50px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container {\n  display: flex;\n  flex-direction: row;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container > * {\n  margin-right: 100px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container > *:last-child {\n  margin-right: 0;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container {\n  display: flex;\n  flex-direction: column;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container > *, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container > * {\n  margin-bottom: 10px;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container > *:last-child, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container > *:last-child {\n  margin-bottom: 0;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .label {\n  width: 120px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input {\n  width: 330px;\n}\n:host-context(.xs) .organisation-details .nxq-collapse .organisation-details-form .input-container .input, .xs .organisation-details .nxq-collapse .organisation-details-form .input-container .input {\n  width: 85%;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo > * {\n  margin-right: 20px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo > *:last-child {\n  margin-right: 0;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo input {\n  z-index: -5;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo nxq-logo {\n  width: 180px;\n  z-index: 5;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .logo-block {\n  width: 180px;\n  z-index: 5;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .buttons {\n  width: 150px;\n  display: flex;\n  flex-direction: column;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .buttons > * {\n  margin-bottom: 10px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .input-container .input.logo .buttons > *:last-child {\n  margin-bottom: 0;\n}\n.organisation-details .nxq-collapse .organisation-details-form .row-2 {\n  width: 612px;\n  padding: 20px 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n}\n.organisation-details .nxq-collapse .organisation-details-form .row-2 .label {\n  width: 270px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .row-2 .label-2 {\n  width: 240px;\n}\n.organisation-details .nxq-collapse .organisation-details-form .row-2 .box {\n  width: calc(100% - 240px);\n  font-size: 16px;\n  color: #181921;\n}"},1600:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="header-buttons" *ngIf="editAllowed || bulkUploadAllowed">\n  <nxq-button (click)="update(\'back\')">{{ \'BACK\' | translate }}</nxq-button>\n  <nxq-button (click)="update(\'next\')">{{ \'NEXT\' | translate }}</nxq-button>\n</div>\n\n<div class="container" *ngIf="!isLoading">\n  <nxq-collapse [active]="true">\n    <div slot="header">\n      <h3>{{ \'EXISTING_USERS\' | translate }}</h3>\n    </div>\n\n    <div slot="content">\n      <nxq-filters></nxq-filters>\n\n      <div class="table">\n        <nxq-table\n          [tableHeaders]="headers"\n          [tableData]="data"\n          [enableSelect]="true"\n          (actionClicked)="actionClicked($event)"\n          (customAction)="customActionClicked($event)"\n          (filtersChanged)="filters($event)"\n          (rowsSelected)="rowsSelected($event)"\n        ></nxq-table>\n      </div>\n\n      <div class="buttons" *ngIf="!selectedUserIds.length">\n        <nxq-button type="primary" *ngIf="editAllowed" (click)="addOrUpload(\'add\')">{{ \'ADD_NEW_USER\' | translate }}</nxq-button>\n        <nxq-button type="primary" *ngIf="bulkUploadAllowed" (click)="addOrUpload(\'upload\')">{{ \'BULK_UPLOAD\' | translate }}</nxq-button>\n      </div>\n\n      <div class="buttons" *ngIf="!!selectedUserIds.length && editAllowed">\n        <nxq-button\n          type="primary"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'ACTIVATE_USER\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="activateSelected()"\n          >{{ \'ACTIVE\' | translate }}</nxq-button\n        >\n        <nxq-button\n          type="primary"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'DEACTIVATE_USER\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="deActivateSelected()"\n          >{{ \'INACTIVE\' | translate }}</nxq-button\n        >\n        <nxq-button\n          type="primary"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'ARCHIVE_USER\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="archiveSelected()"\n          >{{ \'ARCHIVED\' | translate }}</nxq-button\n        >\n        <nxq-button\n          type="primary"\n          nz-popconfirm\n          [nzPopconfirmTitle]="\'CLOSE_USER\' | translate"\n          nzPopconfirmPlacement="bottomLeft"\n          nzOverlayClassName="nxq-overlay"\n          [nzCancelText]="\'CANCEL\' | translate"\n          [nzOkText]="\'CONFIRM\' | translate"\n          (nzOnConfirm)="closeSelected()"\n          >{{ \'CLOSED\' | translate }}</nxq-button\n        >\n      </div>\n\n      <nz-drawer\n        [nzBodyStyle]="{ height: \'calc(100% - 55px)\', overflow: \'auto\', \'padding-bottom\': \'70px\' }"\n        [nzClosable]="false"\n        [nzMaskClosable]="true"\n        [nzWidth]="addUser || editUser ? 470 : 1000"\n        [nzVisible]="showAdd"\n        [nzTitle]="\'\'"\n        (nzOnClose)="onClose()"\n      >\n        <div class="side-drawer" *ngIf="!!showAdd">\n          <nxq-add-new-user\n            (closeDrawer)="onClose()"\n            *ngIf="(addUser || editUser) && editAllowed"\n            [tenantId]="tenantId"\n            [user]="selectedUser"\n            (formIsDirty)="formDirtyStateChanged($event)"\n          ></nxq-add-new-user>\n          <nxq-bulk-upload-user *ngIf="bulkUpload && bulkUploadAllowed" (closeDrawer)="onClose()"></nxq-bulk-upload-user>\n        </div>\n      </nz-drawer>\n    </div>\n  </nxq-collapse>\n  <nz-modal\n    [(nzVisible)]="showModal"\n    [nzContent]="modalContent"\n    [nzFooter]="modalFooter"\n    (nzOnCancel)="onCancelPopup()"\n    nzWidth="400px"\n    nzHeight="300px"\n    class="confirm-popup"\n    nzClassName="confirm-modal"\n  >\n    <ng-template #modalContent>\n      You have unsaved data in the form, Are you sure you want to discard the changes?\n    </ng-template>\n\n    <ng-template #modalFooter>\n      <nxq-button type="primary" (click)="onCancelPopup()">Cancel</nxq-button>\n      <nxq-button type="secondary" (click)="onConfirmPopup()">Confirm</nxq-button>\n    </ng-template>\n  </nz-modal>\n</div>\n<div class="nxq-spinner-cp" *ngIf="isLoading">\n  <nxq-loading></nxq-loading>\n</div>\n'},1601:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.container .table {\n  margin-top: 15px;\n  overflow-x: scroll;\n  overflow-y: scroll;\n  height: 350px;\n}\n.container .buttons {\n  margin-top: 15px;\n  display: flex;\n  flex-direction: row;\n}\n.container .buttons > * {\n  margin-right: 30px;\n}\n.container .buttons > *:last-child {\n  margin-right: 0;\n}\n.container .add-user {\n  width: 780px;\n  margin-top: 40px;\n}\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}\n.nxq-spinner-cp {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n}"},1602:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div class=\"header-buttons\">\n  <nxq-button>{{ 'RESET' | translate }}</nxq-button>\n  <nxq-button (click)=\"update('back')\">{{ 'UPDATE_AND_BACK' | translate }}</nxq-button>\n  <nxq-button (click)=\"update('close')\">{{ 'UPDATE_AND_CLOSE' | translate }}</nxq-button>\n</div>\n\n<div class=\"container\">\n  <nxq-collapse>\n    <div slot=\"header\">\n      <h3>{{ 'TAGS' | translate }}</h3>\n    </div>\n\n    <div slot=\"content\">\n      {{ 'FROM_MODEL' | translate }}\n    </div>\n  </nxq-collapse>\n</div>\n"},1603:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1604:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div class=\"header-buttons\">\n  <nxq-button>{{ 'RESET' | translate }}</nxq-button>\n  <nxq-button (click)=\"update('back')\">{{ 'UPDATE_AND_BACK' | translate }}</nxq-button>\n  <nxq-button *ngIf=\"!isLastItem\" (click)=\"update('next')\">{{ 'UPDATE_AND_NEXT' | translate }}</nxq-button>\n  <nxq-button *ngIf=\"!!isLastItem\" (click)=\"update('close')\">{{ 'CLOSE' | translate }}</nxq-button>\n</div>\n\n<div class=\"backups\">\n  <nxq-collapse>\n    <div slot=\"header\">\n      <h3>{{ 'RESTORE_COURSE' | translate }}</h3>\n    </div>\n    <div slot=\"content\">\n      {{ 'FROM_MODEL' | translate }}\n    </div>\n  </nxq-collapse>\n  <nxq-collapse>\n    <div slot=\"header\">\n      <h3>{{ 'BACKUP_DEFAULTS' | translate }}</h3>\n    </div>\n    <div slot=\"content\">\n      {{ 'FROM_MODEL' | translate }}\n    </div>\n  </nxq-collapse>\n  <nxq-collapse>\n    <div slot=\"header\">\n      <h3>{{ 'IMPORT_DEFAULTS' | translate }}</h3>\n    </div>\n    <div slot=\"content\">\n      {{ 'FROM_MODEL' | translate }}\n    </div>\n  </nxq-collapse>\n  <nxq-collapse>\n    <div slot=\"header\">\n      <h3>{{ 'BACKUP_SETUP' | translate }}</h3>\n    </div>\n    <div slot=\"content\">\n      {{ 'FROM_MODEL' | translate }}\n    </div>\n  </nxq-collapse>\n</div>\n"},1605:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.header-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n}\n.header-buttons > * {\n  margin-right: 10px;\n}\n.header-buttons > *:last-child {\n  margin-right: 0;\n}"},1606:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="enrolled-add-user">\n  <div class="header">\n    <span *ngIf="!user">{{ \'ADD_NEW_USER\' | translate }}</span>\n    <span *ngIf="!!user">{{ \'EDIT_USER\' | translate }}</span>\n  </div>\n  <div class="content">\n    <form class="add-new-form" [formGroup]="form" #formElement>\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.firstName.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'FIRST_NAME\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-input-master [placeholder]="\'FIRST_NAME\' | translate | uppercase" [control]="controls.firstName"></nxq-input-master>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.lastName.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'LAST_NAME\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-input-master [placeholder]="\'LAST_NAME\' | translate | uppercase" [control]="controls.lastName"></nxq-input-master>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.phone.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'PHONE_NUMBER\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-input-tel-intl [placeholder]="\'PHONE_NUMBER\' | translate | uppercase" [control]="controls.phone"></nxq-input-tel-intl>\n        <nxq-control-error\n          [control]="controls.phone"\n          [errorMessage]="controls.phone.invalid && controls.phone.errors?.pattern ? (\'THIS_FIELD_PHONE\' | translate) : \'\'"\n        ></nxq-control-error>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.email.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'EMAIL\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-input-master [placeholder]="\'EMAIL\' | translate | uppercase" [control]="controls.email" type="email"></nxq-input-master>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.entityId.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'ENTITY\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-tree-select [control]="controls.entityId" [nodes]="entities" [allowMultiSelect]="false"></nxq-tree-select>\n        <nxq-control-error\n          *ngIf="controls.entityId.invalid && controls.entityId.touched"\n          [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n        ></nxq-control-error>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.dataAccessIds.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'DATA_ACCESS\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-tree-select [control]="controls.dataAccessIds" [nodes]="entities" [allowMultiSelect]="true"></nxq-tree-select>\n        <nxq-control-error\n          *ngIf="controls.dataAccessIds.invalid && controls.dataAccessIds.touched"\n          [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n        ></nxq-control-error>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.designation.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'DESIGNATION\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-input-master [placeholder]="\'DESIGNATION\' | translate | uppercase" [control]="controls.designation"></nxq-input-master>\n      </div>\n\n      <div class="input-field">\n        <nxq-label\n          [isRequired]="!!controls.siteRoleId.validator"\n          [labelType]="labelType.CODE"\n          [value]="\'ROLE\' | translate | uppercase"\n          class="label"\n        ></nxq-label>\n        <nxq-select [placeholder]="\'ROLE\' | translate | uppercase" [options]="roleOptions" [control]="controls.siteRoleId"></nxq-select>\n        <nxq-control-error\n          *ngIf="controls.siteRoleId.invalid && controls.siteRoleId.touched"\n          [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n        ></nxq-control-error>\n      </div>\n    </form>\n    <div class="buttons">\n      <nxq-button type="primary" (click)="onCancel()">{{ \'CANCEL\' | translate }}</nxq-button>\n      <nxq-button type="secondary" *ngIf="!user" [disabled]="buttonDisable" (click)="addUser(formElement)">{{\n        \'ADD\' | translate\n      }}</nxq-button>\n      <nxq-button type="secondary" *ngIf="!!user" [disabled]="buttonDisable" (click)="editUser(formElement)">{{\n        \'EDIT\' | translate\n      }}</nxq-button>\n    </div>\n  </div>\n</div>\n'},1607:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.enrolled-add-user .header {\n  position: absolute;\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 22px;\n  color: #2373ff;\n  top: 0px;\n  width: 90%;\n  height: 50px;\n  z-index: 10;\n  background-color: #ffffff;\n  padding-top: 10px;\n}\n.enrolled-add-user .content {\n  margin-top: 30px;\n  display: flex;\n  flex-direction: column;\n}\n.enrolled-add-user .content > * {\n  margin-bottom: 20px;\n}\n.enrolled-add-user .content > *:last-child {\n  margin-bottom: 0;\n}\n.enrolled-add-user .content .add-new-form {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n}\n.enrolled-add-user .content .add-new-form > * {\n  margin-bottom: 15px;\n}\n.enrolled-add-user .content .add-new-form > *:last-child {\n  margin-bottom: 0;\n}\n.enrolled-add-user .content .add-new-form .input-field {\n  display: flex;\n  flex-direction: column;\n}\n.enrolled-add-user .content .add-new-form .input-field > * {\n  margin-bottom: 10px;\n}\n.enrolled-add-user .content .add-new-form .input-field > *:last-child {\n  margin-bottom: 0;\n}\n.enrolled-add-user .content .add-new-form .input-field .label {\n  font-weight: bold;\n  font-size: 12px;\n  line-height: 13px;\n  color: #aeb3c6;\n}\n.enrolled-add-user .content .buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  padding: 10px 20px 10px 20px;\n  background: #ffffff;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  border-top: 1px solid lightgray;\n  box-shadow: 0px 0px 10px 2px rgba(187, 187, 187, 0.7);\n  z-index: 1;\n}\n.enrolled-add-user .content .buttons > * {\n  margin-right: 13px;\n}\n.enrolled-add-user .content .buttons > *:last-child {\n  margin-right: 0;\n}"},1608:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="container">\n  <div class="header">\n    <span *ngIf="!role">{{ \'ADD_NEW_ROLE\' | translate }}</span>\n    <span *ngIf="!!role">{{ \'EDIT_ROLE\' | translate }}</span>\n  </div>\n\n  <div class="content">\n    <form class="form" [formGroup]="form" #formElement>\n      <div class="input-field">\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.name.validator" labelType="code" [value]="\'ROLE_NAME\' | translate"></nxq-label>\n          <nxq-input-master [placeholder]="\'ROLE_NAME\' | translate" [control]="controls.name" class="input-left"></nxq-input-master>\n        </div>\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.typeId.validator" labelType="code" [value]="\'TYPE\' | translate"></nxq-label>\n          <nxq-select\n            [placeholder]="\'TYPE\' | translate"\n            [control]="controls.typeId"\n            [options]="this.typeOptions"\n            class="input-right"\n          ></nxq-select>\n          <nxq-control-error\n            *ngIf="controls.typeId.invalid && controls.typeId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.subTypeId.validator" labelType="code" [value]="\'SUB_TYPE\' | translate"></nxq-label>\n          <nxq-select\n            [placeholder]="\'SUB_TYPE\' | translate"\n            [control]="controls.subTypeId"\n            [options]="this.subTypeOptions"\n            class="input-left"\n          ></nxq-select>\n          <nxq-control-error\n            *ngIf="controls.subTypeId.invalid && controls.subTypeId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.templateId.validator" labelType="code" [value]="\'TEMPLATE\' | translate"></nxq-label>\n          <nxq-select\n            [placeholder]="\'TEMPLATE\' | translate"\n            [control]="controls.templateId"\n            [options]="this.templateOptions"\n            class="input-left"\n          ></nxq-select>\n          <nxq-control-error\n            *ngIf="controls.templateId.invalid && controls.templateId.touched"\n            [errorMessage]="\'THIS_FIELD_REQUIRED\' | translate"\n          ></nxq-control-error>\n        </div>\n\n        <div class="input-container">\n          <nxq-label [isRequired]="!!controls.description.validator" labelType="code" [value]="\'ROLE_DESCRIPTION\' | translate"></nxq-label>\n          <quill-editor\n            class="quill"\n            [placeholder]="\'DESCRIPTION\' | translate"\n            [formControl]="controls.description"\n            theme="bubble"\n          ></quill-editor>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="select-privileges">\n    <h3>{{ \'SELECT_PRIVILEGES\' | translate }}</h3>\n\n    <nxq-tabset-radio-button-group [control]="selectedTab">\n      <nxq-radio-button value="option-1" *ngIf="canModifyPrivileges">{{ \'ALL\' | translate }}</nxq-radio-button>\n      <nxq-radio-button value="option-2">{{ \'ASSIGNED\' | translate }}</nxq-radio-button>\n      <nxq-radio-button value="option-3">{{ \'UNASSIGNED\' | translate }}</nxq-radio-button>\n    </nxq-tabset-radio-button-group>\n  </div>\n\n  <div class="tree-container">\n    <nxq-tree\n      *ngIf="selectedTab.value === \'option-1\' && canModifyPrivileges && allPrivileges.length"\n      [ngStyle]="{ \'pointer-events\': !canModifyPrivileges && \'none\' }"\n      [nodes]="allPrivileges"\n      [checkedKeys]="selectedPrivileges"\n      (checkBoxChange)="onCheckBoxClick($event)"\n    ></nxq-tree>\n    <nxq-tree\n      *ngIf="selectedTab.value === \'option-2\' && assignedPrivileges.length"\n      [nodes]="assignedPrivileges"\n      [checkable]="false"\n    ></nxq-tree>\n    <nxq-tree\n      *ngIf="selectedTab.value === \'option-3\' && unAssignedPrivileges.length"\n      [nodes]="unAssignedPrivileges"\n      [checkable]="false"\n    ></nxq-tree>\n  </div>\n\n  <div class="buttons">\n    <nxq-button type="primary" (click)="cancel()">{{ \'CANCEL\' | translate }}</nxq-button>\n    <nxq-button type="secondary" (click)="addRole(formElement)" *ngIf="!role">{{ \'ADD\' | translate }}</nxq-button>\n    <nxq-button type="secondary" (click)="editRole(formElement)" *ngIf="!!role">{{ \'EDIT\' | translate }}</nxq-button>\n  </div>\n\n  <nz-modal\n    [(nzVisible)]="showModal"\n    [nzContent]="modalContent"\n    [nzFooter]="modalFooter"\n    (nzOnCancel)="onCancelPopup()"\n    nzWidth="400px"\n    nzHeight="300px"\n    class="confirm-popup"\n    nzClassName="confirm-modal"\n  >\n    <ng-template #modalContent>\n      You have unsaved data in the form, Are you sure you want to discard the changes?\n    </ng-template>\n\n    <ng-template #modalFooter>\n      <nxq-button type="primary" (click)="onCancelPopup()">Cancel</nxq-button>\n      <nxq-button type="secondary" (click)="onConfirmPopup()">Confirm</nxq-button>\n    </ng-template>\n  </nz-modal>\n</div>\n'},1609:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.container .header {\n  position: absolute;\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 22px;\n  color: #2373ff;\n  top: 0px;\n  width: 90%;\n  height: 50px;\n  z-index: 10;\n  background-color: #ffffff;\n  padding-top: 10px;\n}\n.container .content {\n  margin: 25px 0 65px 0;\n  display: flex;\n  flex-direction: column;\n}\n.container .content > * {\n  margin-bottom: 20px;\n}\n.container .content > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form {\n  display: flex;\n  flex-direction: column;\n}\n.container .content .form > * {\n  margin-bottom: 20px;\n}\n.container .content .form > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form .input-field {\n  display: flex;\n  flex-direction: column;\n}\n.container .content .form .input-field > * {\n  margin-bottom: 10px;\n}\n.container .content .form .input-field > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form .input-field .input-container {\n  display: flex;\n  flex-direction: column;\n}\n.container .content .form .input-field .input-container > * {\n  margin-bottom: 10px;\n}\n.container .content .form .input-field .input-container > *:last-child {\n  margin-bottom: 0;\n}\n.container .content .form .quill {\n  width: 100%;\n  height: 100px;\n}\n.select-privileges {\n  margin-bottom: 30px;\n  display: flex;\n  flex-direction: column;\n}\n.select-privileges > * {\n  margin-bottom: 20px;\n}\n.select-privileges > *:last-child {\n  margin-bottom: 0;\n}\n.select-privileges h3 {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  padding: 10px 20px 10px 20px;\n  background: #ffffff;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  border-top: 1px solid lightgray;\n  box-shadow: 0px 0px 10px 2px rgba(187, 187, 187, 0.7);\n  z-index: 1;\n}\n.buttons > * {\n  margin-right: 13px;\n}\n.buttons > *:last-child {\n  margin-right: 0;\n}"},1610:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="bulk-upload-user">\n  <div class="header">\n    <span>{{ \'UPLOAD_USER_BULK\' | translate }}</span>\n  </div>\n  <nz-divider></nz-divider>\n  <div class="content">\n    <nxq-file-upload\n      [allowedFileFormats]="allowedFileFormats"\n      [fileSelectorButtonLabel]="\'CHOOSE_FILES\' | translate"\n      (filesSelected)="onFileSelect($event)"\n    ></nxq-file-upload>\n\n    <form class="bulk-upload__form" [formGroup]="uploadingUsers" *ngIf="!!userData.controls.length">\n      <div class="bulk-upload__form__headers">\n        <nxq-checkbox [control]="selectAllControls"></nxq-checkbox>\n        <span>{{ \'USER_NAME\' | translate | uppercase }}</span>\n        <span>{{ \'TENANT\' | translate | uppercase }}</span>\n        <span>{{ \'EMAIL\' | translate | uppercase }}</span>\n        <span>{{ \'PHONE\' | translate | uppercase }}</span>\n      </div>\n\n      <form class="bulk-upload__form__data" [formArrayName]="\'userData\'">\n        <ng-container *ngIf="!!userData.controls.length">\n          <div class="bulk-upload__form__row" *ngFor="let user of userData.controls; let i = index">\n            <nxq-checkbox [control]="userData.controls[i].get(\'checkbox\')"></nxq-checkbox>\n            <nxq-input-master\n              [control]="userData.controls[i].get(\'name\')"\n              [placeholder]="\'USER_NAME\' | translate"\n              class="input"\n            ></nxq-input-master>\n            <nxq-input-master\n              [control]="userData.controls[i].get(\'tenant\')"\n              [placeholder]="\'TENANT\' | translate"\n              class="input"\n            ></nxq-input-master>\n            <nxq-input-master\n              [control]="userData.controls[i].get(\'email\')"\n              [placeholder]="\'EMAIL\' | translate"\n              class="input"\n            ></nxq-input-master>\n            <nxq-input-master\n              [control]="userData.controls[i].get(\'phone\')"\n              [placeholder]="\'GROUP\' | translate"\n              class="input"\n            ></nxq-input-master>\n            <nxq-button [type]="buttonType.PRIMARY" (click)="uploadOneUser(i)">{{ \'ADD\' | translate }}</nxq-button>\n          </div>\n        </ng-container>\n      </form>\n    </form>\n\n    <div class="bulk-upload__buttons">\n      <nxq-button [type]="buttonType.PRIMARY" (click)="onCancel()">{{ \'CANCEL\' | translate }}</nxq-button>\n      <nxq-button *ngIf="!!userData.controls.length" [type]="buttonType.SECONDARY" (click)="bulkUpload()">{{\n        \'UPLOAD_SELECTED\' | translate\n      }}</nxq-button>\n    </div>\n  </div>\n</div>\n'},1611:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="/* These mixins are replacement of Flex Layout*/\n.bulk-upload-user .header {\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 22px;\n  color: #2373ff;\n}\n.bulk-upload-user .content {\n  display: flex;\n  flex-direction: column;\n}\n.bulk-upload-user .content > * {\n  margin-bottom: 20px;\n}\n.bulk-upload-user .content > *:last-child {\n  margin-bottom: 0;\n}\n.bulk-upload-user .content .bulk-upload__form {\n  display: flex;\n  flex-direction: column;\n}\n.bulk-upload-user .content .bulk-upload__form__headers {\n  display: flex;\n  flex-direction: row;\n  font-weight: bold;\n  padding: 6px 0;\n  border-bottom: 1px solid #dfe2e8;\n}\n.bulk-upload-user .content .bulk-upload__form__headers > * {\n  margin-right: 10px;\n}\n.bulk-upload-user .content .bulk-upload__form__headers > *:last-child {\n  margin-right: 0;\n}\n.bulk-upload-user .content .bulk-upload__form__headers > span {\n  width: 200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  align-content: center;\n}\n.bulk-upload-user .content .bulk-upload__form__headers nxq-checkbox {\n  margin-right: 10px;\n}\n.bulk-upload-user .content .bulk-upload__form__data {\n  display: flex;\n  flex-direction: column;\n}\n.bulk-upload-user .content .bulk-upload__form__data:last-child {\n  border-bottom: none;\n}\n.bulk-upload-user .content .bulk-upload__form__row {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n  padding: 6px 0;\n  border-bottom: 1px solid #dfe2e8;\n}\n.bulk-upload-user .content .bulk-upload__form__row .input {\n  width: 200px;\n}\n.bulk-upload-user .content .bulk-upload__buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  align-content: center;\n  padding: 10px 20px 10px 20px;\n  background: #ffffff;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  border-top: 1px solid lightgray;\n  box-shadow: 0px 0px 10px 2px rgba(187, 187, 187, 0.7);\n  z-index: 1;\n}\n.bulk-upload-user .content .bulk-upload__buttons > * {\n  margin-right: 13px;\n}\n.bulk-upload-user .content .bulk-upload__buttons > *:last-child {\n  margin-right: 0;\n}"},1690:function(module,__webpack_exports__,__webpack_require__){"use strict";var REGEX;__webpack_require__.d(__webpack_exports__,"a",(function(){return REGEX})),function(REGEX){REGEX.NAME="^[a-zA-Z0-9 ,.'-]+$",REGEX.URL="(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?"}(REGEX||(REGEX={}))},1706:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ConfigurationManagementModule",(function(){return ConfigurationManagementModule}));var _a,_b,_c,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),common=__webpack_require__(6),shared_module=__webpack_require__(587),fesm5_router=__webpack_require__(35),public_api=__webpack_require__(12),takeUntil=__webpack_require__(29),filter=__webpack_require__(44),unsubscribe=__webpack_require__(216),translate_pipe=__webpack_require__(215),privilege_enum=__webpack_require__(47),privilege_utils=__webpack_require__(87);let configuration_management_component_ConfigurationManagementComponent=class ConfigurationManagementComponent extends unsubscribe.a{constructor(router,route,translatePipe){super(),this.router=router,this.route=route,this.translatePipe=translatePipe,this.subMenu=[{id:1,name:this.translatePipe.transform("ORGANISATION_DETAILS"),canAddChild:!1,deletable:!1,routerLink:"organisation-details",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ORGANISATION_DETAILS]},{id:2,name:this.translatePipe.transform("SUBSCRIPTIONS_DETAILS"),canAddChild:!1,deletable:!1,routerLink:"subscription",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ACCOUNT_DETAILS]},{id:3,name:this.translatePipe.transform("ENTITIES_SUB_ACCOUNTS"),canAddChild:!1,deletable:!1,routerLink:"entities",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ENTITIES]},{id:4,name:this.translatePipe.transform("ROLES"),canAddChild:!1,deletable:!1,routerLink:"roles",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ROLES]},{id:5,name:this.translatePipe.transform("USERS"),canAddChild:!1,deletable:!1,routerLink:"users",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.USERS]},{id:6,name:this.translatePipe.transform("POLICIES"),canAddChild:!1,deletable:!1,routerLink:"policies",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.POLICIES]},{id:7,name:this.translatePipe.transform("INTEGRATIONS"),canAddChild:!1,deletable:!1,routerLink:"integrations",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.INTEGRATIONS]},{id:8,name:this.translatePipe.transform("NOTIFICATIONS"),canAddChild:!1,deletable:!1,routerLink:"notifications",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.NOTIFICATIONS]},{id:9,name:this.translatePipe.transform("ANALYTICS"),canAddChild:!1,deletable:!1,routerLink:"analytics",keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ANALYTICS]}].filter(s=>privilege_utils.a.hasViewPrivileges(s.keys)),this.headerType=public_api.g.PAGE,this.pageTitle=this.subMenu[0].name,this.parentBreadCrumbs=[{url:"configuration",label:this.translatePipe.transform("CONFIGURATION")}],this.breadcrumbs=[...this.parentBreadCrumbs,{label:this.translatePipe.transform("ORGANISATION_DETAILS"),url:"organisation-details"}],this.headerSettings={pageTitle:this.subMenu[0].name,tagLine:this.translatePipe.transform("PLEASE_MANAGE_ORGANISATION")}}ngOnInit(){this.setBreadCrumbs(),this.router.events.pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(event=>event instanceof fesm5_router.c)).subscribe(()=>{this.setBreadCrumbs()})}subMenuSelectedItem(subMenuItem){const isLastItem=subMenuItem.routerLink===this.subMenu[this.subMenu.length-1].routerLink;this.router.navigate([subMenuItem.routerLink],{relativeTo:this.route,state:{isLastItem:isLastItem}})}setBreadCrumbs(){const routeLink=this.route.snapshot.firstChild.url[0].path;this.level=this.subMenu.map(item=>item.routerLink).indexOf(routeLink);const subMenuItem=this.subMenu[this.level];console.log(routeLink,this.level,subMenuItem),this.pageTitle=subMenuItem.name,this.headerSettings=Object.assign(Object.assign({},this.headerSettings),{pageTitle:subMenuItem.name}),this.breadcrumbs=[...this.parentBreadCrumbs,{url:subMenuItem.routerLink,label:this.pageTitle}]}};configuration_management_component_ConfigurationManagementComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-configuration-management",template:(__webpack_require__(1582).default||__webpack_require__(1582)).length?__webpack_require__(1582).default||__webpack_require__(1582):"",styles:[(__webpack_require__(1583).default||__webpack_require__(1583)).length?__webpack_require__(1583).default||__webpack_require__(1583):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(_a=void 0!==fesm5_router.i&&fesm5_router.i)?_a:Object,"function"==typeof(_b=void 0!==fesm5_router.a&&fesm5_router.a)?_b:Object,"function"==typeof(_c=void 0!==translate_pipe.a&&translate_pipe.a)?_c:Object])],configuration_management_component_ConfigurationManagementComponent);var roles_component_a,roles_component_b,roles_component_c,_d,configuration_service=__webpack_require__(1410),utils=__webpack_require__(586);let roles_component_RolesComponent=class RolesComponent{constructor(route,router,configurationService,translatePipe){this.route=route,this.router=router,this.configurationService=configurationService,this.translatePipe=translatePipe,this.isLoading=!0,this.visible=!1,this.buttonType=public_api.c,this.showAdd=!1,this.loaded=!1,this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ROLES,privilege_enum.a.EDIT]),this.addRoleAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ROLES,privilege_enum.a.ADD_NEW_ROLES]),this.headers=[{title:this.translatePipe.transform("ROLE_NAME"),type:public_api.s.TEXT,property:"rollName",customColumnClass:"text-bold"},{title:this.translatePipe.transform("ACTIVE"),type:public_api.s.COMPONENT,property:"active",component:public_api.f},{title:this.translatePipe.transform("SELF_SIGN__ROLE"),type:public_api.s.COMPONENT,property:"selfSignRole",component:public_api.f,component_meta:{options:[],disable:!this.editAllowed}},{title:this.translatePipe.transform("TYPE"),type:public_api.s.TEXT,property:"typeName"},{title:this.translatePipe.transform("SUB-TYPE"),type:public_api.s.TEXT,property:"subType"},{title:this.translatePipe.transform("DESCRIPTION"),type:public_api.s.QUILL_TEXT,property:"description"},{title:this.translatePipe.transform("ACTIONS"),type:public_api.s.ACTIONS,property:"",actions:[{title:this.translatePipe.transform("EDIT"),type:public_api.r.BUTTON,value:"edit"}]}],this.data=[],this.filteredData=[],this.showPagination=!1,this.enableSelect=!1,this.moodleUrl="",this.isLastItem=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ROLES]),this.editAllowed||(this.headers=this.headers.filter(s=>s.type!==public_api.s.ACTIONS)),this.tenantId?this.setTableData():this.configurationService.getHomePageInfo().subscribe(res=>{this.tenantId=res.id,this.setTableData()}),this.configurationService.getMoodleUrlForRoles().subscribe(res=>{console.log(res),this.moodleUrl=res})}actionClicked(event){this.selectedRole=event.data,this.showAdd=!0}customActionClicked(event){console.log(event,"customAction"),event.hasOwnProperty("selfSignRole")?(console.log(event),this.showModal=!0,this.previousDefault=this.data.filter(role=>role.selfSignRole.value)[0],this.previousValue=event.data,this.changedValue=Object.assign(Object.assign({},event.data),{selfSignRole:Object.assign(Object.assign({},event.data.selfSignRole),{value:event.selfSignRole})})):this.configurationService.updateTenantRoleActive(this.tenantId,event.data.id,event.active).subscribe(res=>console.log("CHANGED ACTIVE"))}add(){this.showAdd=!0,this.selectedRole=""}update(action){"back"===action?this.router.navigate(["../entities"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../users"],{relativeTo:this.route,state:{tenantId:this.tenantId}})}onClose(e){if(this.formIsDirty)this.showUnsavedDataModal=!0;else{if(this.showAdd=!1,console.log(e),this.showAdd=!1,e&&e.hasOwnProperty("event")){const item={id:e.data.id,rollName:e.data.name,active:{value:!!e.data.active,onLabel:this.translatePipe.transform("ACTIVE"),offLabel:this.translatePipe.transform("NOT_ACTIVE"),disable:!!e.data.userExist},typeName:e.data.typeName,subType:e.data.subtypeName,description:e.data.description,selfSignRole:{value:!!e.data.selfSignIn,onLabel:this.translatePipe.transform("DEFAULT"),offLabel:this.translatePipe.transform("NOT"),hideButton:!("Site"===e.data.typeName&&"Site"===e.data.subtypeName),disable:!this.editAllowed}};if(e&&"add"===e.event&&this.data.push(item),e&&"edit"===e.event){const index=this.data.findIndex(x=>x.id===e.data.id);this.data[index]=item}}this.filteredData=[...this.data]}}setTableData(){this.configurationService.getTenantRoles(this.tenantId).subscribe(res=>{console.log(res),this.transformTableData(res)})}transformTableData(data){data.forEach(datum=>{this.data.push({id:datum.id,rollName:datum.name,active:{value:datum.active,onLabel:this.translatePipe.transform("ACTIVE"),offLabel:this.translatePipe.transform("NOT_ACTIVE"),disable:!this.editAllowed||datum.userExist},typeName:datum.typeName,subType:datum.subtypeName,description:datum.description,selfSignRole:{value:datum.selfSignIn,onLabel:this.translatePipe.transform("DEFAULT"),offLabel:this.translatePipe.transform("NOT"),hideButton:!("Site"===datum.typeName&&"Site"===datum.subtypeName),disable:!this.editAllowed}})}),this.loaded=!0,this.data&&(this.isLoading=!1),this.filteredData=[...this.data]}filter(event){const text=event.search.toLowerCase();this.filteredData=this.data.filter(x=>x.rollName.toLowerCase().includes(text)||x.typeName.toLowerCase().includes(text)||x.subType.toLowerCase().includes(text)),event.sortBy&&(this.data=utils.a.sortByMultipleValues(this.data,event.sortBy))}onCancel(){this.showModal=!1,this.updateData()}onConfirm(){this.previousDefault&&this.previousDefault.id===this.changedValue.id?this.updateChangedDefault():this.previousDefault&&this.previousDefault.id!==this.changedValue.id?this.configurationService.updateTenantRoleSelfSignIn(this.tenantId,this.previousDefault.id,!1).subscribe(()=>{this.updateChangedDefault(this.previousDefault)},e=>{this.defaultChangeError=e.message,this.showModal=!1,this.updateData()}):this.updateChangedDefault()}updateChangedDefault(previousDefault=null){this.configurationService.updateTenantRoleSelfSignIn(this.tenantId,this.changedValue.id,this.changedValue.selfSignRole.value).subscribe(()=>{if(previousDefault){const updatedPreviousItem=Object.assign(Object.assign({},this.previousDefault),{selfSignRole:Object.assign(Object.assign({},this.previousDefault.selfSignRole),{value:!1})});this.updateData(updatedPreviousItem)}this.updateData(this.changedValue),this.showModal=!1},error=>{this.defaultChangeError=error.message,this.showModal=!1,this.updateData()})}updateData(changedValue){let item=this.previousValue;changedValue&&(item=changedValue);const index=[...this.data].map(role=>role.id).indexOf(item.id);this.data=[...this.data.slice(0,index),Object.assign({},item),...this.data.slice(index+1)];const filteredIndex=[...this.filteredData].map(role=>role.id).indexOf(item.id);this.filteredData=[...this.filteredData.slice(0,filteredIndex),Object.assign({},item),...this.filteredData.slice(filteredIndex+1)]}onCancelPopup(){this.showUnsavedDataModal=!1}onConfirmPopup(){this.showUnsavedDataModal=!1,this.showAdd=!1,this.formIsDirty=!1}formDirtyStateChanged(event){this.formIsDirty=event}};roles_component_RolesComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-roles",template:(__webpack_require__(1584).default||__webpack_require__(1584)).length?__webpack_require__(1584).default||__webpack_require__(1584):"",styles:[(__webpack_require__(1585).default||__webpack_require__(1585)).length?__webpack_require__(1585).default||__webpack_require__(1585):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(roles_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?roles_component_a:Object,"function"==typeof(roles_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?roles_component_b:Object,"function"==typeof(roles_component_c=void 0!==configuration_service.a&&configuration_service.a)?roles_component_c:Object,"function"==typeof(_d=void 0!==translate_pipe.a&&translate_pipe.a)?_d:Object])],roles_component_RolesComponent);var entities_component_a,entities_component_b,entities_component_d,_e,_f,fesm5_forms=__webpack_require__(5);class EntityUtils{static updateTree(newNode,oldTree,nodeId,parentId){const newTree=[];for(const node of oldTree){let updatedNode=Object.assign(Object.assign({},node),{isSelected:!1,isExpanded:!1});if(nodeId&&node.id===nodeId?updatedNode=Object.assign(Object.assign(Object.assign({},node),newNode),{isSelected:!0,isExpanded:!0}):parentId&&node.id===parentId&&(node.children||(updatedNode.children=[]),updatedNode.children.push(Object.assign(Object.assign({},newNode),{isSelected:!0})),updatedNode.isExpanded=!0,console.log(nodeId,parentId,newNode,updatedNode)),node.children){const updatedTree=this.updateTree(newNode,node.children,nodeId,parentId);updatedNode.children=updatedTree,updatedNode.isExpanded=updatedNode.isExpanded||updatedTree.map(v=>v.isExpanded).includes(!0)}newTree.push(updatedNode)}return newTree}static mapToEntities(tree){return tree?tree.map(value=>{const node={id:value.id,name:value.name,code:value.code,hierarchy:value.hierarchy,description:value.description,isIssuer:!!value.isIssuer,issuer:value.issuer,children:this.mapToEntities(value.children),default:!!value.default&&value.default};return node.children&&node.children.length?node.children=this.mapToEntities(value.children):delete node.children,node.isIssuer||delete node.issuer,node.id>1e6&&delete node.id,node}):[]}static removeEntity(id,subMenu){const newSkills=[];for(const item of subMenu){let updatedItem={};item.id!==id&&(updatedItem=item.children?Object.assign(Object.assign({},item),{children:this.removeEntity(id,item.children)}):Object.assign({},item),newSkills.push(updatedItem))}return newSkills}static getSelectedNode(array,key,id){for(const item of array){if(item.id===id)return item;if(item[key]){const node=this.getSelectedNode(item[key],key,id);if(node)return node}else;}}static nameIsTaken(array,name,id){for(const item of array){if(item.id!==id&&item.name===name)return item;if(item.children){const node=this.nameIsTaken(item.children,name,id);if(node)return node}else;}}}let entities_component_EntitiesComponent=class EntitiesComponent extends unsubscribe.a{constructor(configurationService,route,router){super(),this.configurationService=configurationService,this.route=route,this.router=router,this.labelType=public_api.h,this.buttonType=public_api.c,this.orientation=public_api.m.HORIZONTAL,this.localId=1e6,this.data=[],this.initialData=[],this.isTempNode=!1,this.pendingAction=null,this.formIsSaved=!1,this.controls={name:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),code:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),hierarchy:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),description:new fesm5_forms.FormControl(""),isIssuer:new fesm5_forms.FormControl(!1),issuer:new fesm5_forms.FormGroup({name:new fesm5_forms.FormControl(""),url:new fesm5_forms.FormControl(""),logo:new fesm5_forms.FormControl(""),base64Image:new fesm5_forms.FormControl("")})},this.form=new fesm5_forms.FormGroup(this.controls),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ENTITIES,privilege_enum.a.EDIT]),this.addAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ENTITIES,privilege_enum.a.ALL_ENTITIES]),this.isLastItem=!1,this.disableUpdate=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}canDeactivate(){return!!this.formIsSaved||!(this.form.dirty&&!this.formIsSaved)}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ENTITIES]),this.tenantId?this.configurationService.getTenantEntities(this.tenantId).subscribe(res=>{this.updatedEntities=[...res],this.data=this.transformEntities(res),this.data[0].deletable=!1,this.initialData=[...res]}):this.configurationService.getHomePageInfo().subscribe(data=>{this.tenantId=data.id,this.configurationService.getTenantEntities(this.tenantId).subscribe(res=>{this.updatedEntities=[...res],this.data=this.transformEntities(res),this.data[0].deletable=!1,this.initialData=[...res]})}),this.controls.isIssuer.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{res?(this.controls.issuer.controls.name.setValidators(fesm5_forms.Validators.required),this.controls.issuer.controls.url.setValidators(fesm5_forms.Validators.required),this.controls.issuer.controls.logo.setValidators(fesm5_forms.Validators.required)):(this.controls.issuer.controls.name.setValidators(null),this.controls.issuer.controls.url.setValidators(null),this.controls.issuer.controls.logo.setValidators(null)),this.controls.issuer.controls.name.updateValueAndValidity(),this.controls.issuer.controls.url.updateValueAndValidity(),this.controls.issuer.controls.logo.updateValueAndValidity()}),this.form.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(v=>{this.form.dirty&&(this.unsavedData=!0)}),this.controls.name.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(val=>this.titleUpdated(val))}addClicked(event){this.unsavedData?(this.pendingAction={action:"add",data:event},this.saveForm(this.entityForm.nativeElement)):this.addEntity(event)}addEntity(item){if(this.editAllowed){this.pendingAction=null,this.selectedEntity=null,this.selectedNodeToAppendChild=EntityUtils.getSelectedNode(this.updatedEntities,"children",item.id);const fakeEntity={name:"New Node",code:"dummy code",hierarchy:"dummy hierarchy",description:"This is a dummy description.",isIssuer:!1,canAddChild:!0,deletable:!0,isExpanded:!0,isSelected:!0,id:this.getLocalId()};this.addOrUpdateEntities(fakeEntity),this.isTempNode=!0;const selectedParent=EntityUtils.getSelectedNode(this.data,"children",item.id);this.selectedEntity=selectedParent.children.slice(-1)[0],this.form.patchValue(Object.assign({},fakeEntity)),this.unsavedData=!0,selectedParent.isExpanded=!0}}selectClicked(event){this.unsavedData?(this.pendingAction={action:"select",data:event},this.saveForm(this.entityForm.nativeElement)):this.selectEntity(event)}selectEntity(item){this.pendingAction=null,this.selectedEntity=item,this.selectedEntity.isIssuer?this.controls.isIssuer.disable():this.selectedEntity.isIssuer||"DISABLED"!==this.controls.isIssuer.status||this.controls.isIssuer.enable(),this.form.reset(),this.form.patchValue(Object.assign(Object.assign({},this.selectedEntity),{name:item.name}));const nodeId=item.id,newTree=EntityUtils.updateTree(item,this.data,nodeId,null);this.data=[...newTree],this.selectedNodeToAppendChild=null,this.editAllowed||this.form.disable()}deleteClicked(event){this.unsavedData?(this.pendingAction={action:"delete",data:event},this.saveForm(this.entityForm.nativeElement)):(this.pendingAction={action:"delete",data:event},this.deleteEntity())}deleteEntity(){this.showModal=!0}onCancelPopup(){this.showModal=!1,this.pendingAction=null}onConfirmPopup(){this.showModal=!1;const deleteItem=Object.assign({},this.pendingAction.data);this.pendingAction=null,this.editAllowed&&(this.selectedEntity&&this.selectedEntity.id===deleteItem.id&&this.form.reset(),this.data=[...EntityUtils.removeEntity(deleteItem.id,this.data)],this.updatedEntities=EntityUtils.mapToEntities(this.data))}updateEntitiesClicked(action){this.unsavedData?(this.pendingAction={action:"update-entities",data:null},this.saveForm(this.entityForm.nativeElement)):this.update(action)}update(action){const entities=EntityUtils.mapToEntities(this.data);this.disableUpdate=!0,this.configurationService.updateTenantEntities(this.tenantId,entities).subscribe(value=>{this.formIsSaved=!0,this.disableUpdate=!1,this.form.reset(),"back"===action?this.router.navigate(["../subscription"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../roles"],{relativeTo:this.route,state:{tenantId:this.tenantId}})},error=>{console.log(error),this.form.reset(),this.disableUpdate=!1})}transformEntities(entities){return entities.map(entity=>{let node=Object.assign({},entity),children=null;return entity.children&&(children=this.transformEntities(entity.children),node=Object.assign(Object.assign({},node),{children:children})),Object.assign(Object.assign({},node),{canAddChild:this.addAllowed,deletable:this.addAllowed})})}saveForm(formElement){const name=this.controls.name.value;if(EntityUtils.nameIsTaken(this.data,name,this.selectedEntity.id)&&this.controls.name.setErrors({notUnique:!0}),this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{const newNode=Object.assign(Object.assign({},this.form.value),{id:this.selectedEntity.id});this.addOrUpdateEntities(Object.assign(Object.assign({},newNode),{update:!0}))}}addOrUpdateEntities(event){const entity=Object.assign(Object.assign({},event),{canAddChild:!0,deletable:!0});if(delete entity.update,event.update&&!Object.keys(this.selectedEntity||{}).length)return;const nodeId=event.update?this.selectedEntity.id:null,parentId=this.selectedNodeToAppendChild?this.selectedNodeToAppendChild.id:null;if(nodeId||parentId){const newTree=EntityUtils.updateTree(entity,this.data,nodeId,parentId);this.data=[...newTree],this.updatedEntities=EntityUtils.mapToEntities(newTree),this.selectedNodeToAppendChild=null,this.selectedEntity=null}if(this.unsavedData=!1,this.pendingAction)switch(this.pendingAction.action){case"add":this.addEntity(this.pendingAction.data);break;case"delete":this.deleteEntity();break;case"select":this.selectEntity(this.pendingAction.data);break;case"update-entities":this.update(this.pendingAction.data);break;default:return}this.isTempNode=!1}addLogo(event){const file=event.target.files[0],formData=new FormData;if(file){const fileReader=new FileReader;let image="";fileReader.onload=f=>{formData.append("file",file),image=fileReader.result,this.configurationService.updateLogoOfTenantEntity(this.tenantId,formData).subscribe(res=>{const issuerValue=this.form.controls.issuer.value;this.form.patchValue({issuer:Object.assign(Object.assign({},issuerValue),{logo:res.logo,base64Image:image})})})},fileReader.readAsDataURL(file)}}removeLogo(){const logoUrl=this.form.controls.issuer.value.logo;this.configurationService.deleteLogoOfTenantEntity(this.tenantId,{url:logoUrl}).subscribe(res=>{const issuerValue=this.form.controls.issuer.value;this.form.patchValue({issuer:Object.assign(Object.assign({},issuerValue),{logo:""})})})}updateLogo(){this.logoInput.nativeElement.click()}reset(){this.data=[...this.transformEntities(this.initialData)],this.updatedEntities=[...this.initialData],this.selectedEntity=null,this.selectedNodeToAppendChild=null,this.form.reset()}getLocalId(){return this.localId++,this.localId}titleUpdated(value){if(!Object.keys(this.selectedEntity||{}).length)return;const selectedEntity=Object.assign(Object.assign({},this.selectedEntity),{update:!0});selectedEntity.name=value,this.addOrUpdateEntities(selectedEntity),this.selectedEntity=Object.assign({},selectedEntity)}};var notifications_component_a,notifications_component_b;Object(tslib_es6.c)([Object(core.ViewChild)("entityForm"),Object(tslib_es6.f)("design:type","function"==typeof(entities_component_a=void 0!==core.ElementRef&&core.ElementRef)?entities_component_a:Object)],entities_component_EntitiesComponent.prototype,"entityForm",void 0),Object(tslib_es6.c)([Object(core.ViewChild)("logoInput"),Object(tslib_es6.f)("design:type","function"==typeof(entities_component_b=void 0!==core.ElementRef&&core.ElementRef)?entities_component_b:Object)],entities_component_EntitiesComponent.prototype,"logoInput",void 0),Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",Object)],entities_component_EntitiesComponent.prototype,"canDeactivate",null),entities_component_EntitiesComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-entities",template:(__webpack_require__(1586).default||__webpack_require__(1586)).length?__webpack_require__(1586).default||__webpack_require__(1586):"",styles:[(__webpack_require__(1587).default||__webpack_require__(1587)).length?__webpack_require__(1587).default||__webpack_require__(1587):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(entities_component_d=void 0!==configuration_service.a&&configuration_service.a)?entities_component_d:Object,"function"==typeof(_e=void 0!==fesm5_router.a&&fesm5_router.a)?_e:Object,"function"==typeof(_f=void 0!==fesm5_router.i&&fesm5_router.i)?_f:Object])],entities_component_EntitiesComponent);let notifications_component_NotificationsComponent=class NotificationsComponent{constructor(route,router){this.route=route,this.router=router,this.controls={inAppNotifications:new fesm5_forms.FormControl(!1),notification_1:new fesm5_forms.FormControl("false"),notification_2:new fesm5_forms.FormControl("false"),notification_3:new fesm5_forms.FormControl("false")},this.form=new fesm5_forms.FormGroup(this.controls),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.NOTIFICATIONS,privilege_enum.a.EDIT]),this.isLastItem=!1}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.NOTIFICATIONS]),this.editAllowed||this.form.disable()}update(action){"back"===action?this.router.navigate(["../integrations"],{relativeTo:this.route}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../analytics"],{relativeTo:this.route})}};notifications_component_NotificationsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-notifications",template:(__webpack_require__(1588).default||__webpack_require__(1588)).length?__webpack_require__(1588).default||__webpack_require__(1588):"",styles:[(__webpack_require__(1589).default||__webpack_require__(1589)).length?__webpack_require__(1589).default||__webpack_require__(1589):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(notifications_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?notifications_component_a:Object,"function"==typeof(notifications_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?notifications_component_b:Object])],notifications_component_NotificationsComponent);var policies_component_a,policies_component_b,policies_component_c,policies_component_d,policies_component_e,ng_zorro_antd_message=__webpack_require__(185);let policies_component_PoliciesComponent=class PoliciesComponent{constructor(route,router,configurationService,translatePipe,messageService){this.route=route,this.router=router,this.configurationService=configurationService,this.translatePipe=translatePipe,this.messageService=messageService,this.loaded=!1,this.orientation=public_api.m.HORIZONTAL,this.languageOptions=[],this.languagePolicyControls={selected:new fesm5_forms.FormControl([],fesm5_forms.Validators.required),defaultLanguage:new fesm5_forms.FormControl(null,fesm5_forms.Validators.required)},this.availableLanguages=new fesm5_forms.FormGroup({}),this.languagePolicyForm=new fesm5_forms.FormGroup(this.languagePolicyControls),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.POLICIES,privilege_enum.a.EDIT]),this.isLastItem=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.POLICIES]),this.tenantId?this.configurationService.getTenantPolicy(this.tenantId).subscribe(data=>{this.policiesData=data,this.setFormData()}):this.configurationService.getHomePageInfo().subscribe(res=>{this.tenantId=res.id,this.configurationService.getTenantPolicy(this.tenantId).subscribe(data=>{this.policiesData=data,this.setFormData()})})}update(action){const selected=[];Object.keys(this.availableLanguages.getRawValue()).forEach(v=>{this.availableLanguages.getRawValue()[v]&&selected.push(+v)});const data={languagePolicy:Object.assign(Object.assign({},this.languagePolicyForm.getRawValue()),{selected:selected})};console.log(data),this.configurationService.updateTenantPolicy(this.tenantId,data).subscribe(res=>{this.messageService.success(this.translatePipe.transform("POLICIES_UPDATED_SUCCESSFULLY")),"back"===action?this.router.navigate(["../users"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../integrations"],{relativeTo:this.route,state:{tenantId:this.tenantId}})})}setFormData(){this.policiesData&&(this.masterLanguages=this.policiesData.languagePolicy.masterLanguages,this.languageOptions=[...this.masterLanguages].map(l=>({value:l.id+"",label:l.name})),this.masterLanguages.forEach(l=>{const selected=this.policiesData.languagePolicy.selected.includes(l.id);this.availableLanguages.addControl(l.id+"",new fesm5_forms.FormControl(selected))}),this.languagePolicyForm.patchValue(Object.assign({},this.policiesData.languagePolicy)),this.editAllowed||(this.languagePolicyForm.disable(),this.availableLanguages.disable()),this.loaded=!0)}reset(){this.setFormData()}back(){this.router.navigate(["../users"],{relativeTo:this.route,state:{tenantId:this.tenantId}})}next(){this.router.navigate(["../integrations"],{relativeTo:this.route,state:{tenantId:this.tenantId}})}};policies_component_PoliciesComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-policies-security",template:(__webpack_require__(1590).default||__webpack_require__(1590)).length?__webpack_require__(1590).default||__webpack_require__(1590):"",styles:[(__webpack_require__(1591).default||__webpack_require__(1591)).length?__webpack_require__(1591).default||__webpack_require__(1591):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(policies_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?policies_component_a:Object,"function"==typeof(policies_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?policies_component_b:Object,"function"==typeof(policies_component_c=void 0!==configuration_service.a&&configuration_service.a)?policies_component_c:Object,"function"==typeof(policies_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?policies_component_d:Object,"function"==typeof(policies_component_e=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?policies_component_e:Object])],policies_component_PoliciesComponent);var subscription_component_a,subscription_component_b,subscription_component_c,subscription_component_d,date_utils=__webpack_require__(1414);let subscription_component_SubscriptionComponent=class SubscriptionComponent{constructor(route,router,configurationService,translatePipe){this.route=route,this.router=router,this.configurationService=configurationService,this.translatePipe=translatePipe,this.tabGroupType=public_api.p,this.tabGroupControl=new fesm5_forms.FormControl(null),this.subscriptionStatus=[],this.subscriptions=[],this.adminData=[],this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ACCOUNT_DETAILS,privilege_enum.a.EDIT]),this.isLastItem=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ACCOUNT_DETAILS]),this.tenantId?this.setSubscriptionData():this.configurationService.getHomePageInfo().subscribe(res=>{this.tenantId=res.id,this.setSubscriptionData()})}setSubscriptionData(){this.configurationService.getTenantSubscription(this.tenantId).subscribe(res=>{this.subscriptionDetails=this.transformDate(res),console.log(res,"subscription");const subscription=this.subscriptionDetails.subscription;this.subscriptionStatus=[{label:this.translatePipe.transform("CURRENT_STATUS"),value:subscription.status},{label:this.translatePipe.transform("SIGN_UP_DATE"),value:subscription.signupDate},{label:this.translatePipe.transform("START_DATE"),value:subscription.startDate},{label:this.translatePipe.transform("EXPIRY_DATE"),value:subscription.expiryDate}],this.tabGroupControl.setValue(subscription.status);const activeUsers=this.subscriptionDetails.license.activeUsers,subscribers=this.subscriptionDetails.license.subscribers;this.subscriptions=[{label:this.translatePipe.transform("ACTIVE_USERS"),progress:activeUsers.available/activeUsers.purchased*100,purchased:activeUsers.purchased,in_use:activeUsers.inUse,available:activeUsers.available},{label:this.translatePipe.transform("SUBSCRIBERS"),progress:subscribers.available/subscribers.purchased*100,purchased:subscribers.purchased,in_use:subscribers.inUse,available:subscribers.available}];const administrator=this.subscriptionDetails.administrator;this.adminData=[{label:this.translatePipe.transform("NAME"),value:administrator.name},{label:this.translatePipe.transform("COUNTRY"),value:administrator.country},{label:this.translatePipe.transform("EMAIL"),value:administrator.email},{label:this.translatePipe.transform("PHONE"),value:administrator.phone}]})}update(action){"back"===action?this.router.navigate(["../organisation-details"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../entities"],{relativeTo:this.route,state:{tenantId:this.tenantId}})}transformDate(detail){return detail.subscription.signupDate=date_utils.a.convertToDateString(new Date(detail.subscription.signupDate)),detail.subscription.startDate=date_utils.a.convertToDateString(new Date(detail.subscription.startDate)),detail.subscription.expiryDate=date_utils.a.convertToDateString(new Date(detail.subscription.expiryDate)),detail}};var integrations_component_a,integrations_component_b,integrations_component_c;subscription_component_SubscriptionComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-subscription",template:(__webpack_require__(1592).default||__webpack_require__(1592)).length?__webpack_require__(1592).default||__webpack_require__(1592):"",styles:[(__webpack_require__(1593).default||__webpack_require__(1593)).length?__webpack_require__(1593).default||__webpack_require__(1593):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(subscription_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?subscription_component_a:Object,"function"==typeof(subscription_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?subscription_component_b:Object,"function"==typeof(subscription_component_c=void 0!==configuration_service.a&&configuration_service.a)?subscription_component_c:Object,"function"==typeof(subscription_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?subscription_component_d:Object])],subscription_component_SubscriptionComponent);let integrations_component_IntegrationsComponent=class IntegrationsComponent{constructor(route,router,configurationService){this.route=route,this.router=router,this.configurationService=configurationService,this.masterIntegrations={},this.integrations={},this.integrationsForm=new fesm5_forms.FormGroup({}),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.INTEGRATIONS,privilege_enum.a.EDIT]),this.isLastItem=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.INTEGRATIONS]),this.tenantId?this.setIntegrationsData():this.configurationService.getHomePageInfo().subscribe(res=>{this.tenantId=res.id,this.setIntegrationsData()})}update(action){const data={lms:{selected:this.integrationsForm.getRawValue().lms}};this.configurationService.updateTenantIntegrations(this.tenantId,data).subscribe(res=>{"back"===action?this.router.navigate(["../policies"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../notifications"],{relativeTo:this.route,state:{tenantId:this.tenantId}})})}integrationSelected(integration,selected){this.editAllowed&&this.integrationsForm.patchValue({[integration]:[selected]})}setIntegrationsData(){this.configurationService.getTenantIntegrations(this.tenantId).subscribe(res=>{Object.keys(res).forEach(integration=>{res[integration].hasOwnProperty("masters")?(this.integrationsForm.addControl(integration,new fesm5_forms.FormControl(res[integration].selected)),this.masterIntegrations[integration]=res[integration],this.integrations[integration]=res[integration].selected):this.masterIntegrations[integration]=res[integration]}),console.log(res,this.masterIntegrations,this.integrations)})}reset(){Object.keys(this.integrations).forEach(key=>{this.integrationsForm.controls[key].setValue(this.integrations[key])})}};var analytics_component_a,analytics_component_b,analytics_component_c;integrations_component_IntegrationsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-integrations",template:(__webpack_require__(1594).default||__webpack_require__(1594)).length?__webpack_require__(1594).default||__webpack_require__(1594):"",styles:[(__webpack_require__(1595).default||__webpack_require__(1595)).length?__webpack_require__(1595).default||__webpack_require__(1595):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(integrations_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?integrations_component_a:Object,"function"==typeof(integrations_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?integrations_component_b:Object,"function"==typeof(integrations_component_c=void 0!==configuration_service.a&&configuration_service.a)?integrations_component_c:Object])],integrations_component_IntegrationsComponent);let analytics_component_AnalyticsComponent=class AnalyticsComponent{constructor(route,router,translatePipe){this.route=route,this.router=router,this.translatePipe=translatePipe,this.headers=[{title:this.translatePipe.transform("PANEL").toUpperCase(),type:public_api.s.TEXT,property:"panel"},{title:this.translatePipe.transform("SETUP").toUpperCase(),type:public_api.s.TEXT,property:"setup"},{title:this.translatePipe.transform("SUB_PANELS").toUpperCase(),type:public_api.s.TEXT,property:"sub_panels"},{title:this.translatePipe.transform("SETTINGS").toUpperCase(),type:public_api.s.ACTIONS,property:"",actions:[{title:"caret-up",type:public_api.r.ICON,value:"caret-up"},{title:"caret-down",type:public_api.r.ICON,value:"caret-down"}]},{title:this.translatePipe.transform("ACTIONS").toUpperCase(),type:public_api.s.ACTIONS,property:"",actions:[{title:this.translatePipe.transform("EDIT"),type:public_api.r.BUTTON,value:"edit"},{title:this.translatePipe.transform("DELETE"),type:public_api.r.BUTTON,value:"delete"}]}],this.data=[{id:1,panel:"PANEL NAME",setup:"NOT STARTED",sub_panels:"Sub-panel name in one line"},{id:2,panel:"PANEL NAME",setup:"NOT STARTED",sub_panels:"Sub-panel name in one line"},{id:3,panel:"PANEL NAME",setup:"NOT STARTED",sub_panels:"Sub-panel name in one line"}],this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ANALYTICS,privilege_enum.a.EDIT]),this.isLastItem=!1}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ANALYTICS]),this.editAllowed||(this.headers=this.headers.filter(s=>s.type!==public_api.s.ACTIONS))}actionClicked($event){console.log($event)}update(action){"back"===action?this.router.navigate(["../notifications"],{relativeTo:this.route}):this.router.navigate(["../../"],{relativeTo:this.route})}filters(event){event.sortBy&&(this.data=utils.a.sortByMultipleValues(this.data,event.sortBy))}};analytics_component_AnalyticsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-analytics",template:(__webpack_require__(1596).default||__webpack_require__(1596)).length?__webpack_require__(1596).default||__webpack_require__(1596):"",styles:[(__webpack_require__(1597).default||__webpack_require__(1597)).length?__webpack_require__(1597).default||__webpack_require__(1597):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(analytics_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?analytics_component_a:Object,"function"==typeof(analytics_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?analytics_component_b:Object,"function"==typeof(analytics_component_c=void 0!==translate_pipe.a&&translate_pipe.a)?analytics_component_c:Object])],analytics_component_AnalyticsComponent);var organisation_details_component_a,organisation_details_component_b,organisation_details_component_c,organisation_details_component_e,organisation_details_component_f,_g,_h,_j,_k,_l,_m,dropdown_options_service=__webpack_require__(1408),account_service=__webpack_require__(168),account_manager=__webpack_require__(218),take=__webpack_require__(85);let organisation_details_component_OrganisationDetailsComponent=class OrganisationDetailsComponent extends unsubscribe.a{constructor(route,router,configurationService,dropdownOptionsService,translatePipe,accountService,accountManager,messageService){super(),this.route=route,this.router=router,this.configurationService=configurationService,this.dropdownOptionsService=dropdownOptionsService,this.translatePipe=translatePipe,this.accountService=accountService,this.accountManager=accountManager,this.messageService=messageService,this.controls={squareIconUrl:new fesm5_forms.FormControl(null),logoUrl:new fesm5_forms.FormControl(null),displayName:new fesm5_forms.FormControl(null)},this.tooltip=this.translatePipe.transform("ENTER_DISPLAY_NAME"),this.tenantTypeOptions=[],this.organisationDetailForm=new fesm5_forms.FormGroup(this.controls),this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ORGANISATION_DETAILS,privilege_enum.a.EDIT]),this.formIsSaved=!0,this.isLastItem=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}canDeactivate(){return console.log(this.organisationDetailForm.touched),console.log(this.organisationDetailForm.dirty),!!this.formIsSaved}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ORGANISATION_DETAILS]),this.accountManager.getAccount().pipe(Object(takeUntil.a)(this._destroyed$),Object(filter.a)(u=>!!u)).subscribe(user=>{this.user=user}),this.getFilterOptions(),this.tenantId?this.setFormData():this.configurationService.getHomePageInfo().subscribe(res=>{this.tenantId=res.id,this.setFormData()})}reset(){this.organisationDetailForm.patchValue(Object.assign({},this.orgDetails))}update(action){if(this.organisationDetailForm.invalid)utils.a.checkFormValidity(this.organisationDetailForm,this.formElement.nativeElement);else{const data=this.organisationDetailForm.getRawValue();this.configurationService.updateOrganisationDetails(this.tenantId,data).subscribe(res=>{this.formIsSaved=!0,this.messageService.success(this.translatePipe.transform("DETAILS_UPDATED_SUCCESSFULLY")),"back"===action?this.router.navigate(["../../../settings"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../subscription"],{relativeTo:this.route,state:{tenantId:this.tenantId}})})}}getFilterOptions(){this.dropdownOptionsService.tenantTypes().subscribe(res=>{this.tenantTypeOptions=res.map(l=>Object.assign(Object.assign({},l),{key:l.name}))})}setFormData(){this.configurationService.getOrganisationDetails(this.tenantId).subscribe(res=>{console.log(res),this.loaded=!0,this.orgDetails=res,this.organisationDetailForm.patchValue(Object.assign({},res)),this.editAllowed&&this.organisationDetailForm.disable()})}uploadSquareLogo(){this.formIsSaved=!1,this.squareLogoInput.nativeElement.click()}addSquareLogo(event){this.formIsSaved=!1;const file=event.target.files[0],formData=new FormData;if(file){const fileReader=new FileReader;fileReader.onload=f=>{formData.append("file",file),this.configurationService.updateSquareLogoOfTenant(this.tenantId,formData).subscribe(res=>{this.accountService.getUserTenantInfo(this.user.userId).pipe(Object(takeUntil.a)(this._destroyed$),Object(take.a)(1)).subscribe(),console.log("uploaded square logo",res),this.controls.squareIconUrl.setValue(res.squareIconUrl+"?t="+Date.now()),this.messageService.success(this.translatePipe.transform("IMAGE_UPLOADED_SUCCESSFULLY"))})},fileReader.readAsDataURL(file)}}deleteSquareLogo(){this.formIsSaved=!1;const logoUrl=this.organisationDetailForm.controls.squareIconUrl.value;this.configurationService.deleteSquareLogoOfTenant(this.tenantId,{name:logoUrl}).subscribe(res=>{console.log("deleted square logo",res),this.organisationDetailForm.controls.squareIconUrl.setValue("./assets/placeholder.svg"),this.messageService.success(this.translatePipe.transform("IMAGE_REMOVED_SUCCESSFULLY"))})}uploadLogo(){this.formIsSaved=!1,this.logoInput.nativeElement.click()}addLogo(event){this.formIsSaved=!1;const file=event.target.files[0],formData=new FormData;if(file){const fileReader=new FileReader;fileReader.onload=f=>{formData.append("file",file),this.configurationService.updateLogoOfTenant(this.tenantId,formData).subscribe(res=>{console.log("uploaded logo",res),this.accountService.getUserTenantInfo(this.user.userId).pipe(Object(takeUntil.a)(this._destroyed$),Object(take.a)(1)).subscribe(),this.controls.logoUrl.setValue(null),this.controls.logoUrl.setValue(res.tenantLogo+"?t="+Date.now()),this.messageService.success(this.translatePipe.transform("IMAGE_UPLOADED_SUCCESSFULLY"))})},fileReader.readAsDataURL(file)}}deleteLogo(){this.formIsSaved=!1;const logoUrl=this.organisationDetailForm.controls.logoUrl.value;this.configurationService.deleteLogoOfTenant(this.tenantId,{name:logoUrl}).subscribe(res=>{console.log("deleted logo",res),this.organisationDetailForm.controls.logoUrl.setValue("./assets/placeholder.svg"),this.messageService.success(this.translatePipe.transform("IMAGE_REMOVED_SUCCESSFULLY"))})}};var users_component_a,users_component_b,users_component_c,users_component_d,users_component_e;Object(tslib_es6.c)([Object(core.ViewChild)("squareLogoInput"),Object(tslib_es6.f)("design:type","function"==typeof(organisation_details_component_a=void 0!==core.ElementRef&&core.ElementRef)?organisation_details_component_a:Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"squareLogoInput",void 0),Object(tslib_es6.c)([Object(core.ViewChild)("logoInput"),Object(tslib_es6.f)("design:type","function"==typeof(organisation_details_component_b=void 0!==core.ElementRef&&core.ElementRef)?organisation_details_component_b:Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"logoInput",void 0),Object(tslib_es6.c)([Object(core.ViewChild)("formElement"),Object(tslib_es6.f)("design:type","function"==typeof(organisation_details_component_c=void 0!==core.ElementRef&&core.ElementRef)?organisation_details_component_c:Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"formElement",void 0),Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[]),Object(tslib_es6.f)("design:returntype",Object)],organisation_details_component_OrganisationDetailsComponent.prototype,"canDeactivate",null),organisation_details_component_OrganisationDetailsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-organisation-details",template:(__webpack_require__(1598).default||__webpack_require__(1598)).length?__webpack_require__(1598).default||__webpack_require__(1598):"",styles:[(__webpack_require__(1599).default||__webpack_require__(1599)).length?__webpack_require__(1599).default||__webpack_require__(1599):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(organisation_details_component_e=void 0!==fesm5_router.a&&fesm5_router.a)?organisation_details_component_e:Object,"function"==typeof(organisation_details_component_f=void 0!==fesm5_router.i&&fesm5_router.i)?organisation_details_component_f:Object,"function"==typeof(_g=void 0!==configuration_service.a&&configuration_service.a)?_g:Object,"function"==typeof(_h=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?_h:Object,"function"==typeof(_j=void 0!==translate_pipe.a&&translate_pipe.a)?_j:Object,"function"==typeof(_k=void 0!==account_service.a&&account_service.a)?_k:Object,"function"==typeof(_l=void 0!==account_manager.a&&account_manager.a)?_l:Object,"function"==typeof(_m=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?_m:Object])],organisation_details_component_OrganisationDetailsComponent);let users_component_UsersComponent=class UsersComponent{constructor(route,router,configurationService,translatePipe,messageService){this.route=route,this.router=router,this.configurationService=configurationService,this.translatePipe=translatePipe,this.messageService=messageService,this.isLoading=!0,this.formIsDirty=!1,this.editAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.USERS,privilege_enum.a.EDIT]),this.bulkUploadAllowed=privilege_utils.a.hasViewPrivileges([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.USERS,privilege_enum.a.BULK_UPLOAD]),this.headers=[{title:this.translatePipe.transform("USER_NAME").toUpperCase(),type:public_api.s.TEXT,property:"userName"},{title:this.translatePipe.transform("_ENTITY").toUpperCase(),type:public_api.s.TEXT,property:"entity"},{title:this.translatePipe.transform("DESIGNATION").toUpperCase(),type:public_api.s.TEXT,property:"designation"},{title:this.translatePipe.transform("SITE_ROLE").toUpperCase(),type:public_api.s.TEXT,property:"siteRole"},{title:this.translatePipe.transform("STATUS").toUpperCase(),type:public_api.s.COMPONENT,property:"status",component:public_api.d,customColumnClass:"min-width-175",component_meta:{options:[{label:this.translatePipe.transform("ACTIVE"),value:"Active"},{label:this.translatePipe.transform("NOT_ACTIVATED"),value:"InActive"},{label:this.translatePipe.transform("ARCHIVED"),value:"Archive"}],disable:!this.editAllowed}},{title:this.translatePipe.transform("ACTIONS"),type:public_api.s.ACTIONS,property:"",actions:[{title:this.translatePipe.transform("EDIT"),type:public_api.r.BUTTON,value:"edit"}]}],this.data=[],this.selectedUserIds=[],this.isLastItem=!1;const routeState=this.router.getCurrentNavigation().extras.state;routeState&&(this.tenantId=routeState.tenantId)}ngOnInit(){this.isLastItem=privilege_utils.a.isLastItem([privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.USERS]),this.editAllowed||(this.headers=this.headers.filter(s=>s.type!==public_api.s.ACTIONS)),this.tenantId?this.setTableData():this.configurationService.getHomePageInfo().subscribe(res=>{this.tenantId=res.id,this.setTableData()})}actionClicked(event){this.selectedUser=event.data,this.showAdd=!0,this.editUser=!0}customActionClicked(event){if(console.log(event,"event"),event.hasOwnProperty("status"))switch(event.status){case"Active":this.configurationService.bulkUpdateTenantUserStatusToActive(this.tenantId,{ids:[event.data.id]}).subscribe(res=>console.log("CHANGED USER STATUS"));break;case"InActive":this.configurationService.bulkUpdateTenantUserStatusToInActive(this.tenantId,{ids:[event.data.id]}).subscribe(res=>console.log("CHANGED USER STATUS"));break;case"Archive":this.configurationService.bulkUpdateTenantUserStatusToArchive(this.tenantId,{ids:[event.data.id]}).subscribe(res=>console.log("CHANGED USER STATUS"));break;case"Delete":this.configurationService.bulkUpdateTenantUserStatusToClose(this.tenantId,{ids:[event.data.id]}).subscribe(res=>console.log("CHANGED USER STATUS"))}}filters(event){event.search?this.data=[...this.users.filter(user=>user.userName.toLowerCase().includes(event.search.toLowerCase())||(user.id+"").toLowerCase().includes(event.search.toLowerCase()))]:this.data=[...this.users],event.sortBy&&(this.data=utils.a.sortByMultipleValues(this.data,event.sortBy))}rowsSelected(event){console.log("Rows Selected",event),this.selectedUserIds=event}addOrUpload(action){this.showAdd=!0,console.log(action),"add"===action?(this.addUser=!0,this.bulkUpload=!1,this.selectedUser=""):(this.addUser=!1,this.editUser=!1,this.bulkUpload=!0,this.selectedUser="")}update(action){"back"===action?this.router.navigate(["../roles"],{relativeTo:this.route,state:{tenantId:this.tenantId}}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../policies"],{relativeTo:this.route,state:{tenantId:this.tenantId}})}onClose(){this.formIsDirty?this.showModal=!0:(this.showAdd=!1,this.setTableData())}activateSelected(){this.configurationService.bulkUpdateTenantUserStatusToActive(this.tenantId,{ids:this.selectedUserIds}).subscribe(res=>{console.log("Set Status to Active"),this.changeStatus("Active",this.selectedUserIds),this.messageService.success(this.translatePipe.transform("USER_ACTIVATED_SUCCESSFULLY"))})}deActivateSelected(){this.configurationService.bulkUpdateTenantUserStatusToInActive(this.tenantId,{ids:this.selectedUserIds}).subscribe(res=>{console.log("Set Status to Deactivate"),this.changeStatus("InActive",this.selectedUserIds),this.messageService.success(this.translatePipe.transform("USER_DEACTIVATED_SUCCESSFULLY"))})}archiveSelected(){this.configurationService.bulkUpdateTenantUserStatusToArchive(this.tenantId,{ids:this.selectedUserIds}).subscribe(res=>{console.log("Set Status to Archive"),this.changeStatus("Archive",this.selectedUserIds),this.messageService.success(this.translatePipe.transform("USER_ARCHIVED_SUCCESSFULLY"))})}closeSelected(){this.configurationService.bulkUpdateTenantUserStatusToClose(this.tenantId,{ids:this.selectedUserIds}).subscribe(res=>{console.log("Set Status to Close"),this.changeStatus("Delete",this.selectedUserIds),this.messageService.success(this.translatePipe.transform("USER_CLOSED_SUCCESSFULLY"))})}setTableData(){this.configurationService.getTenantUsers(this.tenantId,null).subscribe(res=>{this.users=res.content,this.data=[...res.content],this.data&&(this.isLoading=!1),console.log(this.data)})}changeStatus(status,ids){this.data=this.data.map(item=>ids.includes(item.id)?Object.assign(Object.assign({},item),{status:status}):item)}onCancelPopup(){this.showModal=!1}onConfirmPopup(){this.showModal=!1,this.showAdd=!1,this.formIsDirty=!1}formDirtyStateChanged(event){this.formIsDirty=event}};users_component_UsersComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-users",template:(__webpack_require__(1600).default||__webpack_require__(1600)).length?__webpack_require__(1600).default||__webpack_require__(1600):"",styles:[(__webpack_require__(1601).default||__webpack_require__(1601)).length?__webpack_require__(1601).default||__webpack_require__(1601):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(users_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?users_component_a:Object,"function"==typeof(users_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?users_component_b:Object,"function"==typeof(users_component_c=void 0!==configuration_service.a&&configuration_service.a)?users_component_c:Object,"function"==typeof(users_component_d=void 0!==translate_pipe.a&&translate_pipe.a)?users_component_d:Object,"function"==typeof(users_component_e=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?users_component_e:Object])],users_component_UsersComponent);var config_permission_guard_a,pending_changes_guard=__webpack_require__(1425),permission_guard=__webpack_require__(135);let config_permission_guard_ConfigPermissionGuard=class ConfigPermissionGuard{constructor(router){this.router=router,this.routes={[privilege_enum.a.ORGANISATION_DETAILS]:"organisation-details",[privilege_enum.a.ACCOUNT_DETAILS]:"subscription",[privilege_enum.a.ENTITIES]:"entities",[privilege_enum.a.ROLES]:"roles",[privilege_enum.a.USERS]:"users",[privilege_enum.a.POLICIES]:"policies",[privilege_enum.a.INTEGRATIONS]:"integrations",[privilege_enum.a.NOTIFICATIONS]:"notifications",[privilege_enum.a.ANALYTICS]:"analytics"}}canActivate(route,state){const menuItemKeys=route.data.keys;if(privilege_utils.a.hasViewPrivileges(menuItemKeys))return!0;{const keys=Object.keys(this.routes),index=keys.indexOf(menuItemKeys[1]),alternateRouteKey=index<keys.length-1?keys[index+1]:"",alternateRoute=alternateRouteKey?this.routes[alternateRouteKey]:"";alternateRoute?this.router.navigateByUrl("/dashboard/settings/configuration-management/"+alternateRoute):this.router.navigateByUrl("/dashboard/settings")}}};config_permission_guard_ConfigPermissionGuard=Object(tslib_es6.c)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(config_permission_guard_a=void 0!==fesm5_router.i&&fesm5_router.i)?config_permission_guard_a:Object])],config_permission_guard_ConfigPermissionGuard);const configurationManagementRoutes=[{path:"",component:configuration_management_component_ConfigurationManagementComponent,children:[{path:"",pathMatch:"full",canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[]},redirectTo:"organisation-details"},{path:"organisation-details",component:organisation_details_component_OrganisationDetailsComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],canDeactivate:[pending_changes_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ORGANISATION_DETAILS]}},{path:"subscription",component:subscription_component_SubscriptionComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ACCOUNT_DETAILS]}},{path:"entities",component:entities_component_EntitiesComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],canDeactivate:[pending_changes_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ENTITIES]}},{path:"roles",component:roles_component_RolesComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ROLES]}},{path:"users",component:users_component_UsersComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.USERS]}},{path:"policies",component:policies_component_PoliciesComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.POLICIES]}},{path:"integrations",component:integrations_component_IntegrationsComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.INTEGRATIONS]}},{path:"notifications",component:notifications_component_NotificationsComponent,canActivate:[config_permission_guard_ConfigPermissionGuard],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.NOTIFICATIONS]}},{path:"analytics",component:analytics_component_AnalyticsComponent,canActivate:[permission_guard.a],data:{keys:[privilege_enum.a.SETTING,privilege_enum.a.CONFIGURATION,privilege_enum.a.ANALYTICS]}}]}];let ConfigurationManagementRoutingModule=class ConfigurationManagementRoutingModule{};var others_component_a,others_component_b;ConfigurationManagementRoutingModule=Object(tslib_es6.c)([Object(core.NgModule)({imports:[fesm5_router.l.forChild(configurationManagementRoutes)],exports:[fesm5_router.l]})],ConfigurationManagementRoutingModule);let OthersComponent=class OthersComponent{constructor(route,router){this.route=route,this.router=router}ngOnInit(){}update(action){"back"===action?this.router.navigate(["../backups"],{relativeTo:this.route}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../../../configuration"],{relativeTo:this.route})}};var backups_component_a,backups_component_b;OthersComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-others",template:(__webpack_require__(1602).default||__webpack_require__(1602)).length?__webpack_require__(1602).default||__webpack_require__(1602):"",styles:[(__webpack_require__(1603).default||__webpack_require__(1603)).length?__webpack_require__(1603).default||__webpack_require__(1603):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(others_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?others_component_a:Object,"function"==typeof(others_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?others_component_b:Object])],OthersComponent);let BackupsComponent=class BackupsComponent{constructor(route,router){this.route=route,this.router=router,this.isLastItem=!1}ngOnInit(){}update(action){"back"===action?this.router.navigate(["../analytics"],{relativeTo:this.route}):"close"===action?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../others"],{relativeTo:this.route})}};BackupsComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-backups",template:(__webpack_require__(1604).default||__webpack_require__(1604)).length?__webpack_require__(1604).default||__webpack_require__(1604):"",styles:[(__webpack_require__(1605).default||__webpack_require__(1605)).length?__webpack_require__(1605).default||__webpack_require__(1605):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(backups_component_a=void 0!==fesm5_router.a&&fesm5_router.a)?backups_component_a:Object,"function"==typeof(backups_component_b=void 0!==fesm5_router.i&&fesm5_router.i)?backups_component_b:Object])],BackupsComponent);var add_new_user_component_b,add_new_user_component_c,add_new_user_component_d,regex_enum=__webpack_require__(1690);let add_new_user_component_AddNewUserComponent=class AddNewUserComponent extends unsubscribe.a{constructor(configurationService,translatePipe,messageService){super(),this.configurationService=configurationService,this.translatePipe=translatePipe,this.messageService=messageService,this.closeDrawer=new core.EventEmitter,this.formIsDirty=new core.EventEmitter,this.buttonDisable=!1,this.entities=[],this.roleOptions=[],this.labelType=public_api.h,this.controls={firstName:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required,fesm5_forms.Validators.pattern(regex_enum.a.NAME)]),lastName:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required,fesm5_forms.Validators.pattern(regex_enum.a.NAME)]),phone:new fesm5_forms.FormControl("",[fesm5_forms.Validators.pattern(/^[1-9][0-9]{5,9}$/),fesm5_forms.Validators.maxLength(10)]),email:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required,fesm5_forms.Validators.email]),entityId:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),dataAccessIds:new fesm5_forms.FormControl([2],[fesm5_forms.Validators.required]),designation:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required]),siteRoleId:new fesm5_forms.FormControl(null,[fesm5_forms.Validators.required]),countryCode:new fesm5_forms.FormControl("+91")},this.form=new fesm5_forms.FormGroup(this.controls)}get user(){return this._user}set user(user){console.log(user.id),user&&(this._user=user,this.configurationService.getTenantUserDetails(this.tenantId,user.id).subscribe(res=>{console.log(res,"user"),this.form.patchValue(Object.assign({},res)),this.controls.email.disable({emitEvent:!1})}))}canDeactivate(event){if(this.form.touched&&this.form.dirty)return!1}ngOnInit(){this.controls.entityId.valueChanges.subscribe(value=>{console.log(value)}),console.log("ADD USER CREATED"),this.getDropDownOptions(),this.form.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(v=>{this.form.dirty&&this.formIsDirty.emit(!0)})}onCancel(){this.closeDrawer.emit("")}addUser(formElement){if(this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{this.buttonDisable=!0;const formValue=this.form.getRawValue();console.log(formValue);const data=Object.assign(Object.assign({},formValue),{siteRoleId:+formValue.siteRoleId});this.configurationService.createTenantUser(this.tenantId,data).subscribe(res=>{this.buttonDisable=!1,console.log("added new role"),this.messageService.success(this.translatePipe.transform("NEW_USERS_CREATED")),this.formIsDirty.emit(!1),this.closeDrawer.emit()},error=>{this.buttonDisable=!1})}}editUser(formElement){if(this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{this.buttonDisable=!0;const formValue=this.form.getRawValue(),data=Object.assign(Object.assign({},formValue),{siteRoleId:+formValue.siteRoleId});console.log(data),this.configurationService.updateTenantUser(this.tenantId,this.user.id,data).subscribe(res=>{this.buttonDisable=!1,console.log("updated role"),this.formIsDirty.emit(!1),this.messageService.success(this.translatePipe.transform("USER_UPDATED_SUCCESSFULLY")),this.closeDrawer.emit()},error=>{this.buttonDisable=!1})}}getDropDownOptions(){this.configurationService.getUserRoleOptions().subscribe(res=>{console.log(res,"user Role Options"),this.roleOptions=res.map(role=>({label:role.name,value:role.id}))}),this.configurationService.getTenantEntities(this.tenantId).subscribe(res=>{this.entities=this.transformEntities(res)})}transformEntities(entities){return entities.map(e=>{const updatedEntity={title:e.name,key:e.id};let children=null;return e.children?(children=this.transformEntities(e.children),updatedEntity.children=children):updatedEntity.isLeaf=!0,updatedEntity})}};Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],add_new_user_component_AddNewUserComponent.prototype,"closeDrawer",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Object)],add_new_user_component_AddNewUserComponent.prototype,"tenantId",void 0),Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],add_new_user_component_AddNewUserComponent.prototype,"formIsDirty",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Object),Object(tslib_es6.f)("design:paramtypes",[Object])],add_new_user_component_AddNewUserComponent.prototype,"user",null),Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[Object]),Object(tslib_es6.f)("design:returntype",Object)],add_new_user_component_AddNewUserComponent.prototype,"canDeactivate",null),add_new_user_component_AddNewUserComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-add-new-user",template:(__webpack_require__(1606).default||__webpack_require__(1606)).length?__webpack_require__(1606).default||__webpack_require__(1606):"",styles:[(__webpack_require__(1607).default||__webpack_require__(1607)).length?__webpack_require__(1607).default||__webpack_require__(1607):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(add_new_user_component_b=void 0!==configuration_service.a&&configuration_service.a)?add_new_user_component_b:Object,"function"==typeof(add_new_user_component_c=void 0!==translate_pipe.a&&translate_pipe.a)?add_new_user_component_c:Object,"function"==typeof(add_new_user_component_d=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?add_new_user_component_d:Object])],add_new_user_component_AddNewUserComponent);var add_new_role_component_b,add_new_role_component_c,add_new_role_component_d,add_new_role_component_e,role_utils=__webpack_require__(1427);let add_new_role_component_AddNewRoleComponent=class AddNewRoleComponent extends unsubscribe.a{constructor(configurationService,messageService,dropDownService,translatePipe){super(),this.configurationService=configurationService,this.messageService=messageService,this.dropDownService=dropDownService,this.translatePipe=translatePipe,this.selectedTab=new fesm5_forms.FormControl("option-1"),this.closeDrawer=new core.EventEmitter,this.formIsDirty=new core.EventEmitter,this.typeOptions=[],this.subTypeOptions=[],this.previouslySelectedPrivileges=[],this.selectedPrivileges=[],this.selectedLeafNodes=[],this.templates=[],this.templateOptions=[],this.privilegesToTransform=[],this.allPrivileges=[],this.assignedPrivileges=[],this.unAssignedPrivileges=[],this.controls={name:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required]),typeId:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required]),subTypeId:new fesm5_forms.FormControl("",[fesm5_forms.Validators.required]),templateId:new fesm5_forms.FormControl(""),description:new fesm5_forms.FormControl("",[fesm5_forms.Validators.maxLength(1024)]),selected:new fesm5_forms.FormControl([]),unselected:new fesm5_forms.FormControl([])},this.form=new fesm5_forms.FormGroup(this.controls),this.canModifyPrivileges=!0}get role(){return this._role}set role(role){role&&(this._role=role,this.configurationService.getTenantRoleDetails(this.tenantId,role.id).subscribe(res=>{console.log("Role Details",res),this.roleDetails=res,this.form.patchValue(Object.assign(Object.assign({},res),{typeId:res.typeId+"",subTypeId:res.subTypeId+"",templateId:res.templateId?res.templateId+"":"-1"}),{emitEvent:!1}),this.templates.length&&(this.templateOptions=[...this.templates].filter(t=>t.typeId===this.roleDetails.typeId&&t.subtypeId===this.roleDetails.subTypeId).map(t=>({label:t.name,value:t.id+""})),console.log("Set template",this.templates,this.templateOptions,this.roleDetails),this.templateOptions.unshift({label:this.translatePipe.transform("NO_TEMPLATE"),value:"-1"})),this.selectedTab.setValue(res.templateId?"option-2":"option-1"),this.previouslySelectedPrivileges=res.selected?res.selected:[],this.configurationService.getTenantPrivilegesForType(this.tenantId,res.typeId).subscribe(data=>{this.privilegesToTransform=data,this.allPrivileges=role_utils.a.transformPrivilege(data),res.templateId?(this.configurationService.getPrivilegesForRoleTemplate(this.tenantId,+res.templateId).subscribe(rolePrivileges=>{this.selectedPrivileges=role_utils.a.getAllLeafNodes(rolePrivileges),this.assignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateAssignedPrivileges(data,this.selectedPrivileges)),this.unAssignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateUnAssignedPrivileges(data,this.selectedPrivileges))}),this.canModifyPrivileges=!1):(this.canModifyPrivileges=!0,this.selectedPrivileges=res.selected?res.selected:[],this.previouslySelectedPrivileges=res.selected?res.selected:[],this.selectedPrivileges.length?(this.assignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateAssignedPrivileges(data,this.selectedPrivileges)),this.unAssignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateUnAssignedPrivileges(data,this.selectedPrivileges))):(this.assignedPrivileges=[],this.unAssignedPrivileges=[...this.allPrivileges]))}),res.userExist&&(this.form.controls.typeId.disable({emitEvent:!1}),this.form.controls.subTypeId.disable({emitEvent:!1}),this.form.controls.templateId.disable({emitEvent:!1}))}))}canDeactivate(event){if(this.form.touched&&this.form.dirty)return!1}ngOnInit(){this.getDropDownOptions(),this.controls.templateId.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{"-1"===res?this.canModifyPrivileges=!0:(this.canModifyPrivileges=!1,this.selectedTab.setValue("option-2"),this.configurationService.getPrivilegesForRoleTemplate(this.tenantId,+res).subscribe(data=>{console.log("Privileges",this.privilegesToTransform,data),this.selectedPrivileges=role_utils.a.getAllLeafNodes(data),console.log("SELECTED NODES",this.selectedPrivileges),this.assignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateAssignedPrivileges(this.privilegesToTransform,this.selectedPrivileges)),this.unAssignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateUnAssignedPrivileges(this.privilegesToTransform,this.selectedPrivileges))}))}),this.controls.typeId.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{res&&this.typeSubTypes&&(this.subTypeOptions=[...this.typeSubTypes.subTypes].filter(subtype=>subtype.typeId===+res).map(subtype=>({label:subtype.name,value:subtype.id+""}))),this.controls.subTypeId.setValue("")}),this.controls.subTypeId.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{if(res){const typeId=this.controls.typeId.value;this.templateOptions=this.templates.filter(t=>t.typeId+""===this.controls.typeId.value&&t.subtypeId+""===this.controls.subTypeId.value).map(t=>({label:t.name,value:t.id+""})),console.log(this.templates,this.templateOptions,this.controls.typeId.value,this.controls.subTypeId.value),this.templateOptions.unshift({label:this.translatePipe.transform("NO_TEMPLATE"),value:"-1"}),this.form.controls.templateId.setValue("-1"),this.configurationService.getTenantPrivilegesForType(this.tenantId,typeId).subscribe(data=>{this.privilegesToTransform=data,this.selectedPrivileges=[],this.allPrivileges=role_utils.a.transformPrivilege(data),this.assignedPrivileges=[],this.unAssignedPrivileges=[...this.allPrivileges]})}else this.templateOptions=[]}),this.form.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(v=>{this.form.dirty&&this.formIsDirty.emit(!0)})}cancel(){this.form.touched&&this.form.dirty?this.showModal=!0:this.closeDrawer.emit()}onCheckBoxClick(event){this.selectedPrivileges=event;const assignedPrivilegesTree=role_utils.a.generateAssignedPrivileges(this.privilegesToTransform,this.selectedPrivileges);this.assignedPrivileges=role_utils.a.transformPrivilege(assignedPrivilegesTree),this.unAssignedPrivileges=role_utils.a.transformPrivilege(role_utils.a.generateUnAssignedPrivileges(this.privilegesToTransform,this.selectedPrivileges));const selectedChildNodes=role_utils.a.getLeafNodes(assignedPrivilegesTree),selectedLeafNodes=[];Object.keys(selectedChildNodes).forEach(key=>{this.selectedPrivileges.includes(+key)&&selectedLeafNodes.push(...selectedChildNodes[+key])}),this.selectedLeafNodes=selectedLeafNodes}addRole(formElement){if(this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{const data=Object.assign({},this.form.getRawValue());this.selectedLeafNodes.length&&(data.selected=this.selectedLeafNodes.filter(v=>!this.previouslySelectedPrivileges.includes(v))),this.previouslySelectedPrivileges.length&&(data.unselected=this.previouslySelectedPrivileges.filter(v=>!this.selectedLeafNodes.includes(v))),console.log("DATA",data),data.templateId&&"-1"!==data.templateId?(delete data.selected,delete data.unselected):delete data.templateId,this.configurationService.createTenantRoleWithPrivileges(this.tenantId,data).subscribe(res=>{console.log(res),this.formIsDirty.emit(!1),this.closeDrawer.emit({event:"add",data:res})})}}editRole(formElement){if(this.form.invalid)utils.a.checkFormValidity(this.form,formElement);else{const data=Object.assign({},this.form.getRawValue());this.selectedLeafNodes.length&&(data.selected=this.selectedLeafNodes.filter(v=>!this.previouslySelectedPrivileges.includes(v))),this.previouslySelectedPrivileges.length&&(data.unselected=this.previouslySelectedPrivileges.filter(v=>!this.selectedLeafNodes.includes(v))),console.log("DATA",data,this.selectedPrivileges,this.previouslySelectedPrivileges),data.templateId&&"-1"!==data.templateId?(delete data.selected,delete data.unselected):delete data.templateId,this.configurationService.updateTenantRoleWithPrivileges(this.tenantId,this.role.id,data).subscribe(res=>{this.formIsDirty.emit(!1),this.closeDrawer.emit({event:"edit",data:res})})}}getDropDownOptions(){this.configurationService.getTenantRoleTypes(this.tenantId).subscribe(res=>{if(this.typeSubTypes=res,this.typeOptions=[...this.typeSubTypes.types].map(type=>({label:type.name,value:type.id+""})),console.log("TYPES",res,this.typeOptions),this.role){const selectedType=this.typeOptions.filter(t=>t.label===this.role.typeName)[0].value;console.log(selectedType,"selectedType"),this.subTypeOptions=[...this.typeSubTypes.subTypes].filter(s=>s.typeId===+selectedType).map(subtype=>({label:subtype.name,value:subtype.id+""}))}}),this.dropDownService.tenantRoleTemplates(this.tenantId).subscribe(res=>{console.log("Template Roles",res),this.templates=res,this.roleDetails&&(this.templateOptions=[...this.templates].filter(t=>t.typeId===this.roleDetails.typeId&&t.subtypeId===this.roleDetails.subTypeId).map(t=>({label:t.name,value:t.id+""})),this.templateOptions.unshift({label:this.translatePipe.transform("NO_TEMPLATE"),value:"-1"}))})}onCancelPopup(){this.showModal=!1}onConfirmPopup(){this.formIsDirty.emit(!1),this.closeDrawer.emit()}};Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],add_new_role_component_AddNewRoleComponent.prototype,"closeDrawer",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Object)],add_new_role_component_AddNewRoleComponent.prototype,"tenantId",void 0),Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],add_new_role_component_AddNewRoleComponent.prototype,"formIsDirty",void 0),Object(tslib_es6.c)([Object(core.Input)(),Object(tslib_es6.f)("design:type",Object),Object(tslib_es6.f)("design:paramtypes",[Object])],add_new_role_component_AddNewRoleComponent.prototype,"role",null),Object(tslib_es6.c)([Object(core.HostListener)("window:beforeunload",["$event"]),Object(tslib_es6.f)("design:type",Function),Object(tslib_es6.f)("design:paramtypes",[Object]),Object(tslib_es6.f)("design:returntype",Object)],add_new_role_component_AddNewRoleComponent.prototype,"canDeactivate",null),add_new_role_component_AddNewRoleComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-add-new-role",template:(__webpack_require__(1608).default||__webpack_require__(1608)).length?__webpack_require__(1608).default||__webpack_require__(1608):"",styles:[(__webpack_require__(1609).default||__webpack_require__(1609)).length?__webpack_require__(1609).default||__webpack_require__(1609):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(add_new_role_component_b=void 0!==configuration_service.a&&configuration_service.a)?add_new_role_component_b:Object,"function"==typeof(add_new_role_component_c=void 0!==ng_zorro_antd_message.e&&ng_zorro_antd_message.e)?add_new_role_component_c:Object,"function"==typeof(add_new_role_component_d=void 0!==dropdown_options_service.a&&dropdown_options_service.a)?add_new_role_component_d:Object,"function"==typeof(add_new_role_component_e=void 0!==translate_pipe.a&&translate_pipe.a)?add_new_role_component_e:Object])],add_new_role_component_AddNewRoleComponent);var bulk_upload_user_component_a,ngx_papaparse=__webpack_require__(1695);let bulk_upload_user_component_BulkUploadUserComponent=class BulkUploadUserComponent extends unsubscribe.a{constructor(papa){super(),this.papa=papa,this.allowedFileFormats=["CSV"],this.userData=new fesm5_forms.FormArray([]),this.selectAllControls=new fesm5_forms.FormControl(!1),this.uploadingUsers=new fesm5_forms.FormGroup({selectAllControls:this.selectAllControls,userData:this.userData}),this.buttonType=public_api.c,this.closeDrawer=new core.EventEmitter}ngOnInit(){this.selectAllControls.valueChanges.pipe(Object(takeUntil.a)(this._destroyed$)).subscribe(res=>{res?this.selectAll():this.deSelectAll()})}onFileSelect($event){console.log($event),this.papa.parse($event[0],{header:!0,complete:result=>{result.data.forEach(user=>{const controls={checkbox:new fesm5_forms.FormControl(!1),name:new fesm5_forms.FormControl(user.name),tenant:new fesm5_forms.FormControl(user.tenant),email:new fesm5_forms.FormControl(user.email),phone:new fesm5_forms.FormControl(user.phone)};this.userData.push(new fesm5_forms.FormGroup(controls))})}})}uploadOneUser(i){console.log("upload",i)}onCancel(){this.closeDrawer.emit()}bulkUpload(){const selectedUsers=[...this.userData.getRawValue()].filter(user=>!!user.checkbox);this.onUpload(selectedUsers)}onUpload(users){console.log(users)}selectAll(){this.userData.controls.map(userData=>{userData.patchValue({checkbox:!0},{emitEvent:!1})})}deSelectAll(){this.userData.controls.map(userData=>{userData.patchValue({checkbox:!1},{emitEvent:!1})})}};Object(tslib_es6.c)([Object(core.Output)(),Object(tslib_es6.f)("design:type",Object)],bulk_upload_user_component_BulkUploadUserComponent.prototype,"closeDrawer",void 0),bulk_upload_user_component_BulkUploadUserComponent=Object(tslib_es6.c)([Object(core.Component)({selector:"nxq-bulk-upload-user",template:(__webpack_require__(1610).default||__webpack_require__(1610)).length?__webpack_require__(1610).default||__webpack_require__(1610):"",styles:[(__webpack_require__(1611).default||__webpack_require__(1611)).length?__webpack_require__(1611).default||__webpack_require__(1611):""]}),Object(tslib_es6.f)("design:paramtypes",["function"==typeof(bulk_upload_user_component_a=void 0!==ngx_papaparse.a&&ngx_papaparse.a)?bulk_upload_user_component_a:Object])],bulk_upload_user_component_BulkUploadUserComponent);const COMPONENTS=[...[roles_component_RolesComponent,add_new_role_component_AddNewRoleComponent,OthersComponent,entities_component_EntitiesComponent,notifications_component_NotificationsComponent,BackupsComponent,policies_component_PoliciesComponent,subscription_component_SubscriptionComponent,integrations_component_IntegrationsComponent,analytics_component_AnalyticsComponent,organisation_details_component_OrganisationDetailsComponent,users_component_UsersComponent,configuration_management_component_ConfigurationManagementComponent,add_new_user_component_AddNewUserComponent],...[configuration_management_component_ConfigurationManagementComponent]];let ConfigurationManagementModule=class ConfigurationManagementModule{};ConfigurationManagementModule=Object(tslib_es6.c)([Object(core.NgModule)({declarations:[...COMPONENTS,bulk_upload_user_component_BulkUploadUserComponent],imports:[common.b,shared_module.a,ConfigurationManagementRoutingModule],exports:[...COMPONENTS],providers:[]})],ConfigurationManagementModule)}}]);
//# sourceMappingURL=12.8083e24f987c35a716b3.bundle.js.map